2026-01-21T00:25:57.2568623Z Current runner version: '2.331.0'
2026-01-21T00:25:57.2603999Z ##[group]Runner Image Provisioner
2026-01-21T00:25:57.2605227Z Hosted Compute Agent
2026-01-21T00:25:57.2606069Z Version: 20251211.462
2026-01-21T00:25:57.2607072Z Commit: 6cbad8c2bb55d58165063d031ccabf57e2d2db61
2026-01-21T00:25:57.2608187Z Build Date: 2025-12-11T16:28:49Z
2026-01-21T00:25:57.2609317Z Worker ID: {0e03672d-2121-46f3-8365-2eb3e92882bb}
2026-01-21T00:25:57.2610492Z ##[endgroup]
2026-01-21T00:25:57.2611736Z ##[group]Operating System
2026-01-21T00:25:57.2612665Z Microsoft Windows Server 2025
2026-01-21T00:25:57.2613592Z 10.0.26100
2026-01-21T00:25:57.2614281Z Datacenter
2026-01-21T00:25:57.2615058Z ##[endgroup]
2026-01-21T00:25:57.2615940Z ##[group]Runner Image
2026-01-21T00:25:57.2616788Z Image: windows-2025
2026-01-21T00:25:57.2617717Z Version: 20260111.179.1
2026-01-21T00:25:57.2619776Z Included Software: https://github.com/actions/runner-images/blob/win25/20260111.179/images/windows/Windows2025-Readme.md
2026-01-21T00:25:57.2621273Z Image Release: https://github.com/actions/runner-images/releases/tag/win25%2F20260111.179
2026-01-21T00:25:57.2622196Z ##[endgroup]
2026-01-21T00:25:57.2623365Z ##[group]GITHUB_TOKEN Permissions
2026-01-21T00:25:57.2625200Z Checks: write
2026-01-21T00:25:57.2625692Z Contents: read
2026-01-21T00:25:57.2626202Z Metadata: read
2026-01-21T00:25:57.2626644Z PullRequests: write
2026-01-21T00:25:57.2627221Z ##[endgroup]
2026-01-21T00:25:57.2629167Z Secret source: Actions
2026-01-21T00:25:57.2629911Z Prepare workflow directory
2026-01-21T00:25:57.3100030Z Prepare all required actions
2026-01-21T00:25:57.3156570Z Getting action download info
2026-01-21T00:25:57.5861211Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2026-01-21T00:25:57.7166297Z Download action repository 'actions/setup-go@v5' (SHA:40f1582b2485089dde7abd97c1529aa768e1baff)
2026-01-21T00:25:58.1495781Z Download action repository 'codecov/codecov-action@v4' (SHA:b9fd7d16f6d7d1b5d2bec1a2887e65ceed900238)
2026-01-21T00:25:58.6695747Z Complete job name: Test (1.24, windows-latest)
2026-01-21T00:25:58.8129991Z ##[group]Run actions/checkout@v4
2026-01-21T00:25:58.8131263Z with:
2026-01-21T00:25:58.8131656Z   fetch-depth: 0
2026-01-21T00:25:58.8132077Z   repository: JonTK/slurm-exporter
2026-01-21T00:25:58.8133404Z   token: ***
2026-01-21T00:25:58.8133793Z   ssh-strict: true
2026-01-21T00:25:58.8134170Z   ssh-user: git
2026-01-21T00:25:58.8134567Z   persist-credentials: true
2026-01-21T00:25:58.8135006Z   clean: true
2026-01-21T00:25:58.8135403Z   sparse-checkout-cone-mode: true
2026-01-21T00:25:58.8135890Z   fetch-tags: false
2026-01-21T00:25:58.8136276Z   show-progress: true
2026-01-21T00:25:58.8136675Z   lfs: false
2026-01-21T00:25:58.8137040Z   submodules: false
2026-01-21T00:25:58.8137450Z   set-safe-directory: true
2026-01-21T00:25:58.8138149Z env:
2026-01-21T00:25:58.8138545Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:25:58.8138997Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:25:58.8139491Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:25:58.8139913Z ##[endgroup]
2026-01-21T00:25:58.9790896Z Syncing repository: JonTK/slurm-exporter
2026-01-21T00:25:58.9793047Z ##[group]Getting Git version info
2026-01-21T00:25:58.9794180Z Working directory is 'D:\a\slurm-exporter\slurm-exporter'
2026-01-21T00:25:59.0841738Z [command]"C:\Program Files\Git\bin\git.exe" version
2026-01-21T00:25:59.4958498Z git version 2.52.0.windows.1
2026-01-21T00:25:59.5013143Z ##[endgroup]
2026-01-21T00:25:59.5033592Z Temporarily overriding HOME='D:\a\_temp\22aac26a-6532-454d-8078-d847a28ba57d' before making global git config changes
2026-01-21T00:25:59.5035031Z Adding repository directory to the temporary git global config as a safe directory
2026-01-21T00:25:59.5045894Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\slurm-exporter\slurm-exporter
2026-01-21T00:25:59.5676093Z Deleting the contents of 'D:\a\slurm-exporter\slurm-exporter'
2026-01-21T00:25:59.5683405Z ##[group]Initializing the repository
2026-01-21T00:25:59.5694102Z [command]"C:\Program Files\Git\bin\git.exe" init D:\a\slurm-exporter\slurm-exporter
2026-01-21T00:25:59.6508069Z Initialized empty Git repository in D:/a/slurm-exporter/slurm-exporter/.git/
2026-01-21T00:25:59.6556620Z [command]"C:\Program Files\Git\bin\git.exe" remote add origin https://github.com/JonTK/slurm-exporter
2026-01-21T00:25:59.7102328Z ##[endgroup]
2026-01-21T00:25:59.7103906Z ##[group]Disabling automatic garbage collection
2026-01-21T00:25:59.7113148Z [command]"C:\Program Files\Git\bin\git.exe" config --local gc.auto 0
2026-01-21T00:25:59.7450188Z ##[endgroup]
2026-01-21T00:25:59.7452002Z ##[group]Setting up auth
2026-01-21T00:25:59.7470332Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2026-01-21T00:25:59.7818557Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2026-01-21T00:26:01.3090081Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-21T00:26:01.3389047Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2026-01-21T00:26:01.8786101Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-21T00:26:01.9087388Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --show-origin --name-only --get-regexp remote.origin.url"
2026-01-21T00:26:02.4442204Z [command]"C:\Program Files\Git\bin\git.exe" config --local http.https://github.com/.extraheader "AUTHORIZATION: basic ***"
2026-01-21T00:26:02.4754964Z ##[endgroup]
2026-01-21T00:26:02.4756459Z ##[group]Fetching the repository
2026-01-21T00:26:02.4774174Z [command]"C:\Program Files\Git\bin\git.exe" -c protocol.version=2 fetch --prune --no-recurse-submodules origin +refs/heads/*:refs/remotes/origin/* +refs/tags/*:refs/tags/* +eba425a1b794ddb2a61702d5365fc1c9d3940b98:refs/remotes/pull/4/merge
2026-01-21T00:26:04.0831319Z From https://github.com/JonTK/slurm-exporter
2026-01-21T00:26:04.0832295Z  * [new branch]      github_actions                           -> origin/github_actions
2026-01-21T00:26:04.0833155Z  * [new branch]      main                                     -> origin/main
2026-01-21T00:26:04.0834051Z  * [new ref]         eba425a1b794ddb2a61702d5365fc1c9d3940b98 -> pull/4/merge
2026-01-21T00:26:04.1123072Z ##[endgroup]
2026-01-21T00:26:04.1123580Z ##[group]Determining the checkout info
2026-01-21T00:26:04.1125361Z ##[endgroup]
2026-01-21T00:26:04.1142519Z [command]"C:\Program Files\Git\bin\git.exe" sparse-checkout disable
2026-01-21T00:26:04.1658260Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all extensions.worktreeConfig
2026-01-21T00:26:04.1954824Z ##[group]Checking out the ref
2026-01-21T00:26:04.1965028Z [command]"C:\Program Files\Git\bin\git.exe" checkout --progress --force refs/remotes/pull/4/merge
2026-01-21T00:26:04.4103586Z Note: switching to 'refs/remotes/pull/4/merge'.
2026-01-21T00:26:04.4104192Z 
2026-01-21T00:26:04.4104623Z You are in 'detached HEAD' state. You can look around, make experimental
2026-01-21T00:26:04.4105617Z changes and commit them, and you can discard any commits you make in this
2026-01-21T00:26:04.4106903Z state without impacting any branches by switching back to a branch.
2026-01-21T00:26:04.4107309Z 
2026-01-21T00:26:04.4107639Z If you want to create a new branch to retain commits you create, you may
2026-01-21T00:26:04.4108166Z do so (now or later) by using -c with the switch command. Example:
2026-01-21T00:26:04.4108507Z 
2026-01-21T00:26:04.4108672Z   git switch -c <new-branch-name>
2026-01-21T00:26:04.4110454Z 
2026-01-21T00:26:04.4110672Z Or undo this operation with:
2026-01-21T00:26:04.4110880Z 
2026-01-21T00:26:04.4111012Z   git switch -
2026-01-21T00:26:04.4111156Z 
2026-01-21T00:26:04.4111428Z Turn off this advice by setting config variable advice.detachedHead to false
2026-01-21T00:26:04.4111743Z 
2026-01-21T00:26:04.4112114Z HEAD is now at eba425a Merge 20d00cf11d2e49a44d9849eef1d467789b26c609 into 58c8a0f31f72ecec09e363a88caa3362889bad54
2026-01-21T00:26:04.4145939Z ##[endgroup]
2026-01-21T00:26:04.4592759Z [command]"C:\Program Files\Git\bin\git.exe" log -1 --format=%H
2026-01-21T00:26:04.4994231Z eba425a1b794ddb2a61702d5365fc1c9d3940b98
2026-01-21T00:26:04.5440752Z ##[group]Run actions/setup-go@v5
2026-01-21T00:26:04.5441176Z with:
2026-01-21T00:26:04.5441399Z   go-version: 1.24
2026-01-21T00:26:04.5441690Z   cache: true
2026-01-21T00:26:04.5441912Z   check-latest: false
2026-01-21T00:26:04.5442317Z   token: ***
2026-01-21T00:26:04.5442575Z env:
2026-01-21T00:26:04.5442810Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:26:04.5443096Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:26:04.5443343Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:26:04.5443628Z ##[endgroup]
2026-01-21T00:26:04.7704938Z Setup go version spec 1.24
2026-01-21T00:26:04.8018270Z Found in cache @ C:\hostedtoolcache\windows\go\1.24.11\x64
2026-01-21T00:26:04.8031529Z Added go to the path
2026-01-21T00:26:04.8038941Z Successfully set up Go version 1.24
2026-01-21T00:26:06.4251632Z [command]C:\hostedtoolcache\windows\go\1.24.11\x64\bin\go.exe env GOMODCACHE
2026-01-21T00:26:06.4300056Z [command]C:\hostedtoolcache\windows\go\1.24.11\x64\bin\go.exe env GOCACHE
2026-01-21T00:26:06.4673837Z C:\Users\runneradmin\go\pkg\mod
2026-01-21T00:26:06.4735158Z C:\Users\runneradmin\AppData\Local\go-build
2026-01-21T00:26:06.8154446Z Cache is not found
2026-01-21T00:26:06.8178337Z go version go1.24.11 windows/amd64
2026-01-21T00:26:06.8178528Z 
2026-01-21T00:26:06.8178777Z ##[group]go env
2026-01-21T00:26:10.1090211Z set AR=ar
2026-01-21T00:26:10.1090549Z set CC=gcc
2026-01-21T00:26:10.1090839Z set CGO_CFLAGS=-O2 -g
2026-01-21T00:26:10.1091051Z set CGO_CPPFLAGS=
2026-01-21T00:26:10.1091239Z set CGO_CXXFLAGS=-O2 -g
2026-01-21T00:26:10.1091423Z set CGO_ENABLED=1
2026-01-21T00:26:10.1091595Z set CGO_FFLAGS=-O2 -g
2026-01-21T00:26:10.1091773Z set CGO_LDFLAGS=-O2 -g
2026-01-21T00:26:10.1091942Z set CXX=g++
2026-01-21T00:26:10.1092084Z set GCCGO=gccgo
2026-01-21T00:26:10.1092243Z set GO111MODULE=
2026-01-21T00:26:10.1092393Z set GOAMD64=v1
2026-01-21T00:26:10.1092546Z set GOARCH=amd64
2026-01-21T00:26:10.1092699Z set GOAUTH=netrc
2026-01-21T00:26:10.1092853Z set GOBIN=
2026-01-21T00:26:10.1093641Z set GOCACHE=C:\Users\runneradmin\AppData\Local\go-build
2026-01-21T00:26:10.1094380Z set GOCACHEPROG=
2026-01-21T00:26:10.1094664Z set GODEBUG=
2026-01-21T00:26:10.1095010Z set GOENV=C:\Users\runneradmin\AppData\Roaming\go\env
2026-01-21T00:26:10.1095460Z set GOEXE=.exe
2026-01-21T00:26:10.1095726Z set GOEXPERIMENT=
2026-01-21T00:26:10.1096066Z set GOFIPS140=off
2026-01-21T00:26:10.1096233Z set GOFLAGS=
2026-01-21T00:26:10.1096936Z set GOGCCFLAGS=-m64 -mthreads -Wl,--no-gc-sections -fmessage-length=0 -ffile-prefix-map=C:\Users\RUNNER~1\AppData\Local\Temp\go-build3537338920=/tmp/go-build -gno-record-gcc-switches
2026-01-21T00:26:10.1097671Z set GOHOSTARCH=amd64
2026-01-21T00:26:10.1097842Z set GOHOSTOS=windows
2026-01-21T00:26:10.1098006Z set GOINSECURE=
2026-01-21T00:26:10.1098245Z set GOMOD=D:\a\slurm-exporter\slurm-exporter\go.mod
2026-01-21T00:26:10.1098569Z set GOMODCACHE=C:\Users\runneradmin\go\pkg\mod
2026-01-21T00:26:10.1099644Z set GONOPROXY=
2026-01-21T00:26:10.1099961Z set GONOSUMDB=
2026-01-21T00:26:10.1100217Z set GOOS=windows
2026-01-21T00:26:10.1100522Z set GOPATH=C:\Users\runneradmin\go
2026-01-21T00:26:10.1100906Z set GOPRIVATE=
2026-01-21T00:26:10.1101333Z set GOPROXY=https://proxy.golang.org,direct
2026-01-21T00:26:10.1102007Z set GOROOT=C:\hostedtoolcache\windows\go\1.24.11\x64
2026-01-21T00:26:10.1102528Z set GOSUMDB=sum.golang.org
2026-01-21T00:26:10.1102725Z set GOTELEMETRY=local
2026-01-21T00:26:10.1103008Z set GOTELEMETRYDIR=C:\Users\runneradmin\AppData\Roaming\go\telemetry
2026-01-21T00:26:10.1103321Z set GOTMPDIR=
2026-01-21T00:26:10.1103476Z set GOTOOLCHAIN=auto
2026-01-21T00:26:10.1103773Z set GOTOOLDIR=C:\hostedtoolcache\windows\go\1.24.11\x64\pkg\tool\windows_amd64
2026-01-21T00:26:10.1104110Z set GOVCS=
2026-01-21T00:26:10.1104253Z set GOVERSION=go1.24.11
2026-01-21T00:26:10.1105123Z set GOWORK=
2026-01-21T00:26:10.1105578Z set PKG_CONFIG=pkg-config
2026-01-21T00:26:10.1105806Z 
2026-01-21T00:26:10.1106216Z ##[endgroup]
2026-01-21T00:26:10.1391851Z ##[group]Run go mod download
2026-01-21T00:26:10.1392168Z [36;1mgo mod download[0m
2026-01-21T00:26:10.2246513Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
2026-01-21T00:26:10.2246936Z env:
2026-01-21T00:26:10.2247118Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:26:10.2247354Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:26:10.2247608Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:26:10.2247826Z ##[endgroup]
2026-01-21T00:26:30.6450511Z ##[group]Run go mod verify
2026-01-21T00:26:30.6450931Z [36;1mgo mod verify[0m
2026-01-21T00:26:30.6533437Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
2026-01-21T00:26:30.6533744Z env:
2026-01-21T00:26:30.6533903Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:26:30.6534097Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:26:30.6534292Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:26:30.6534715Z ##[endgroup]
2026-01-21T00:26:32.0575182Z all modules verified
2026-01-21T00:26:32.2037269Z ##[group]Run go test -v -covermode=atomic "-coverprofile=coverage.out" ./...
2026-01-21T00:26:32.2037827Z [36;1mgo test -v -covermode=atomic "-coverprofile=coverage.out" ./...[0m
2026-01-21T00:26:32.2108025Z shell: C:\Program Files\PowerShell\7\pwsh.EXE -command ". '{0}'"
2026-01-21T00:26:32.2108330Z env:
2026-01-21T00:26:32.2108490Z   GO_VERSION_STABLE: 1.24
2026-01-21T00:26:32.2108698Z   GO_VERSION_OLDSTABLE: 1.24
2026-01-21T00:26:32.2108893Z   GO_VERSION_MINIMUM: 1.24
2026-01-21T00:26:32.2109070Z ##[endgroup]
2026-01-21T00:27:19.6187655Z === RUN   TestMainFlags
2026-01-21T00:27:19.6189153Z --- PASS: TestMainFlags (0.00s)
2026-01-21T00:27:19.6215349Z === RUN   TestMainFlagsCustomValues
2026-01-21T00:27:19.6238887Z --- PASS: TestMainFlagsCustomValues (0.00s)
2026-01-21T00:27:19.6294873Z === RUN   TestNewShutdownManager
2026-01-21T00:27:19.6339096Z --- PASS: TestNewShutdownManager (0.00s)
2026-01-21T00:27:19.6363717Z === RUN   TestAddShutdownHook
2026-01-21T00:27:19.6433541Z --- PASS: TestAddShutdownHook (0.00s)
2026-01-21T00:27:19.6480411Z === RUN   TestRemoveShutdownHook
2026-01-21T00:27:19.6480968Z --- PASS: TestRemoveShutdownHook (0.00s)
2026-01-21T00:27:19.6484996Z === RUN   TestShutdownHookExecution
2026-01-21T00:27:19.6488058Z --- PASS: TestShutdownHookExecution (0.00s)
2026-01-21T00:27:19.6490225Z === RUN   TestShutdownHookError
2026-01-21T00:27:19.6566379Z time="2026-01-21T00:27:19Z" level=error msg="Shutdown hook failed" error="hook failed" hook=failure
2026-01-21T00:27:19.6567182Z --- PASS: TestShutdownHookError (0.04s)
2026-01-21T00:27:19.6567632Z === RUN   TestShutdownHookTimeout
2026-01-21T00:27:19.6568446Z time="2026-01-21T00:27:19Z" level=error msg="Shutdown hook failed" error="shutdown hook slow timed out" hook=slow
2026-01-21T00:27:19.6569300Z --- PASS: TestShutdownHookTimeout (0.12s)
2026-01-21T00:27:19.6569733Z === RUN   TestShutdownHookPanic
2026-01-21T00:27:19.6570681Z time="2026-01-21T00:27:19Z" level=error msg="Shutdown hook failed" error="panic in shutdown hook panic: test panic" hook=panic
2026-01-21T00:27:19.6571635Z --- PASS: TestShutdownHookPanic (0.00s)
2026-01-21T00:27:19.6572069Z === RUN   TestSignalHandling
2026-01-21T00:27:19.6573297Z     shutdown_test.go:258: Skipping signal handling test on Windows - SIGUSR1 not available
2026-01-21T00:27:19.6574040Z --- SKIP: TestSignalHandling (0.00s)
2026-01-21T00:27:19.6574820Z === RUN   TestIsShuttingDown
2026-01-21T00:27:19.6575205Z --- PASS: TestIsShuttingDown (0.00s)
2026-01-21T00:27:19.6575624Z === RUN   TestConcurrentAccess
2026-01-21T00:27:19.6576037Z --- PASS: TestConcurrentAccess (0.00s)
2026-01-21T00:27:19.6576428Z PASS
2026-01-21T00:27:19.6576679Z coverage: 38.5% of statements
2026-01-21T00:27:19.6577442Z ok  	github.com/jontk/slurm-exporter/cmd/slurm-exporter	0.258s	coverage: 38.5% of statements
2026-01-21T00:27:20.0410561Z 	github.com/jontk/slurm-exporter/cmd/validate-config		coverage: 0.0% of statements
2026-01-21T00:27:21.1325129Z === RUN   TestNewCollectorScheduler_Disabled
2026-01-21T00:27:21.1325755Z --- PASS: TestNewCollectorScheduler_Disabled (0.00s)
2026-01-21T00:27:21.1326631Z === RUN   TestNewCollectorScheduler_Enabled
2026-01-21T00:27:21.1327260Z --- PASS: TestNewCollectorScheduler_Enabled (0.00s)
2026-01-21T00:27:21.1328411Z === RUN   TestNewCollectorScheduler_InvalidConfig
2026-01-21T00:27:21.1330079Z === RUN   TestNewCollectorScheduler_InvalidConfig/min_interval_zero
2026-01-21T00:27:21.1331088Z === RUN   TestNewCollectorScheduler_InvalidConfig/min_greater_than_max
2026-01-21T00:27:21.1332072Z === RUN   TestNewCollectorScheduler_InvalidConfig/base_outside_range
2026-01-21T00:27:21.1332833Z --- PASS: TestNewCollectorScheduler_InvalidConfig (0.00s)
2026-01-21T00:27:21.1333774Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/min_interval_zero (0.00s)
2026-01-21T00:27:21.1335096Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/min_greater_than_max (0.00s)
2026-01-21T00:27:21.1340278Z     --- PASS: TestNewCollectorScheduler_InvalidConfig/base_outside_range (0.00s)
2026-01-21T00:27:21.1341126Z === RUN   TestCollectorScheduler_RegisterCollector
2026-01-21T00:27:21.1341737Z --- PASS: TestCollectorScheduler_RegisterCollector (0.00s)
2026-01-21T00:27:21.1342445Z === RUN   TestCollectorScheduler_GetCollectionInterval_Disabled
2026-01-21T00:27:21.1343245Z --- PASS: TestCollectorScheduler_GetCollectionInterval_Disabled (0.00s)
2026-01-21T00:27:21.1343948Z === RUN   TestCollectorScheduler_UpdateActivity
2026-01-21T00:27:21.1344542Z --- PASS: TestCollectorScheduler_UpdateActivity (0.05s)
2026-01-21T00:27:21.1345165Z === RUN   TestCollectorScheduler_ActivityScoreCalculation
2026-01-21T00:27:21.1345848Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/low_activity
2026-01-21T00:27:21.1346641Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/high_activity
2026-01-21T00:27:21.1347503Z === RUN   TestCollectorScheduler_ActivityScoreCalculation/very_high_density
2026-01-21T00:27:21.1348355Z --- PASS: TestCollectorScheduler_ActivityScoreCalculation (0.00s)
2026-01-21T00:27:21.1349338Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/low_activity (0.00s)
2026-01-21T00:27:21.1350416Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/high_activity (0.00s)
2026-01-21T00:27:21.1351553Z     --- PASS: TestCollectorScheduler_ActivityScoreCalculation/very_high_density (0.00s)
2026-01-21T00:27:21.1352384Z === RUN   TestCollectorScheduler_IntervalAdaptation
2026-01-21T00:27:21.1353022Z --- PASS: TestCollectorScheduler_IntervalAdaptation (0.00s)
2026-01-21T00:27:21.1353620Z === RUN   TestCollectorScheduler_RecordCollection
2026-01-21T00:27:21.1354205Z --- PASS: TestCollectorScheduler_RecordCollection (0.00s)
2026-01-21T00:27:21.1354883Z === RUN   TestCollectorScheduler_GetStats
2026-01-21T00:27:21.1355364Z --- PASS: TestCollectorScheduler_GetStats (0.00s)
2026-01-21T00:27:21.1355885Z === RUN   TestCollectorScheduler_RegisterMetrics
2026-01-21T00:27:21.1356751Z --- PASS: TestCollectorScheduler_RegisterMetrics (0.00s)
2026-01-21T00:27:21.1357358Z === RUN   TestCollectorScheduler_RegisterMetrics_Disabled
2026-01-21T00:27:21.1357999Z --- PASS: TestCollectorScheduler_RegisterMetrics_Disabled (0.00s)
2026-01-21T00:27:21.1358644Z === RUN   TestCollectorScheduler_CompareValues
2026-01-21T00:27:21.1359200Z === RUN   TestCollectorScheduler_CompareValues/no_change_int
2026-01-21T00:27:21.1359759Z === RUN   TestCollectorScheduler_CompareValues/small_increase
2026-01-21T00:27:21.1361377Z === RUN   TestCollectorScheduler_CompareValues/large_increase
2026-01-21T00:27:21.1362012Z === RUN   TestCollectorScheduler_CompareValues/string_change
2026-01-21T00:27:21.1362680Z === RUN   TestCollectorScheduler_CompareValues/string_no_change
2026-01-21T00:27:21.1363330Z === RUN   TestCollectorScheduler_CompareValues/zero_to_value
2026-01-21T00:27:21.1363945Z --- PASS: TestCollectorScheduler_CompareValues (0.00s)
2026-01-21T00:27:21.1364742Z     --- PASS: TestCollectorScheduler_CompareValues/no_change_int (0.00s)
2026-01-21T00:27:21.1365661Z     --- PASS: TestCollectorScheduler_CompareValues/small_increase (0.00s)
2026-01-21T00:27:21.1366539Z     --- PASS: TestCollectorScheduler_CompareValues/large_increase (0.00s)
2026-01-21T00:27:21.1367290Z     --- PASS: TestCollectorScheduler_CompareValues/string_change (0.00s)
2026-01-21T00:27:21.1368090Z     --- PASS: TestCollectorScheduler_CompareValues/string_no_change (0.00s)
2026-01-21T00:27:21.1368955Z     --- PASS: TestCollectorScheduler_CompareValues/zero_to_value (0.00s)
2026-01-21T00:27:21.1369576Z === RUN   TestCollectorScheduler_TimeBasedScore
2026-01-21T00:27:21.1370093Z --- PASS: TestCollectorScheduler_TimeBasedScore (0.00s)
2026-01-21T00:27:21.1370528Z PASS
2026-01-21T00:27:21.1370779Z coverage: 46.7% of statements
2026-01-21T00:27:21.1371475Z ok  	github.com/jontk/slurm-exporter/internal/adaptive	0.133s	coverage: 46.7% of statements
2026-01-21T00:27:21.1373394Z 	github.com/jontk/slurm-exporter/internal/batch		coverage: 0.0% of statements
2026-01-21T00:27:29.9932519Z === RUN   TestAccountsSimpleCollector_Describe
2026-01-21T00:27:29.9933271Z --- PASS: TestAccountsSimpleCollector_Describe (0.00s)
2026-01-21T00:27:29.9933853Z === RUN   TestAccountsSimpleCollector_Collect_Success
2026-01-21T00:27:29.9934736Z time="2026-01-21T00:27:28Z" level=info msg="Collected account entries" collector=accounts count=2 test=true
2026-01-21T00:27:29.9935723Z --- PASS: TestAccountsSimpleCollector_Collect_Success (0.07s)
2026-01-21T00:27:29.9936388Z === RUN   TestAccountsSimpleCollector_Collect_Disabled
2026-01-21T00:27:29.9936958Z --- PASS: TestAccountsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:29.9937560Z === RUN   TestAccountsSimpleCollector_Collect_Error
2026-01-21T00:27:29.9938708Z time="2026-01-21T00:27:28Z" level=error msg="Failed to list accounts" collector=accounts error="assert.AnError general error for testing" test=true
2026-01-21T00:27:29.9939950Z --- PASS: TestAccountsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:29.9941002Z === RUN   TestAccountsSimpleCollector_EmptyAccountList
2026-01-21T00:27:29.9941936Z time="2026-01-21T00:27:28Z" level=info msg="Collected account entries" collector=accounts count=0 test=true
2026-01-21T00:27:29.9942935Z --- PASS: TestAccountsSimpleCollector_EmptyAccountList (0.00s)
2026-01-21T00:27:29.9943586Z === RUN   TestAssociationsSimpleCollector_Describe
2026-01-21T00:27:29.9944244Z --- PASS: TestAssociationsSimpleCollector_Describe (0.00s)
2026-01-21T00:27:29.9944933Z === RUN   TestAssociationsSimpleCollector_Collect_Success
2026-01-21T00:27:29.9945839Z time="2026-01-21T00:27:28Z" level=info msg="Collected association entries" collector=associations count=2 test=true
2026-01-21T00:27:29.9946831Z --- PASS: TestAssociationsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:29.9947532Z === RUN   TestAssociationsSimpleCollector_Collect_Disabled
2026-01-21T00:27:29.9948242Z --- PASS: TestAssociationsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:29.9948963Z === RUN   TestAssociationsSimpleCollector_Collect_Error
2026-01-21T00:27:29.9950148Z time="2026-01-21T00:27:28Z" level=error msg="Failed to list associations" collector=associations error="assert.AnError general error for testing" test=true
2026-01-21T00:27:29.9951236Z --- PASS: TestAssociationsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:29.9951952Z === RUN   TestAssociationsSimpleCollector_EmptyAssociationList
2026-01-21T00:27:29.9953210Z time="2026-01-21T00:27:28Z" level=info msg="Collected association entries" collector=associations count=0 test=true
2026-01-21T00:27:29.9954248Z --- PASS: TestAssociationsSimpleCollector_EmptyAssociationList (0.00s)
2026-01-21T00:27:29.9954876Z === RUN   TestBaseCollector
2026-01-21T00:27:29.9955221Z === RUN   TestBaseCollector/Name
2026-01-21T00:27:29.9955649Z === RUN   TestBaseCollector/EnabledState
2026-01-21T00:27:29.9956278Z time="2026-01-21T00:27:28Z" level=info msg="Collector disabled" collector=test_collector
2026-01-21T00:27:29.9957365Z time="2026-01-21T00:27:28Z" level=info msg="Collector enabled" collector=test_collector
2026-01-21T00:27:29.9958037Z === RUN   TestBaseCollector/State
2026-01-21T00:27:29.9958485Z === RUN   TestBaseCollector/CollectWithMetrics
2026-01-21T00:27:29.9959355Z time="2026-01-21T00:27:28Z" level=error msg="Collection failed" collector=test_collector error="collection failed"
2026-01-21T00:27:29.9960208Z === RUN   TestBaseCollector/RetryLogic
2026-01-21T00:27:29.9961062Z === RUN   TestBaseCollector/ErrorHandling
2026-01-21T00:27:29.9961532Z === RUN   TestBaseCollector/MetricBuilding
2026-01-21T00:27:29.9961998Z --- PASS: TestBaseCollector (0.00s)
2026-01-21T00:27:29.9962479Z     --- PASS: TestBaseCollector/Name (0.00s)
2026-01-21T00:27:29.9963026Z     --- PASS: TestBaseCollector/EnabledState (0.00s)
2026-01-21T00:27:29.9963589Z     --- PASS: TestBaseCollector/State (0.00s)
2026-01-21T00:27:29.9964171Z     --- PASS: TestBaseCollector/CollectWithMetrics (0.00s)
2026-01-21T00:27:29.9964839Z     --- PASS: TestBaseCollector/RetryLogic (0.00s)
2026-01-21T00:27:29.9965736Z     --- PASS: TestBaseCollector/ErrorHandling (0.00s)
2026-01-21T00:27:29.9966421Z     --- PASS: TestBaseCollector/MetricBuilding (0.00s)
2026-01-21T00:27:29.9966946Z === RUN   TestCollectorMetrics
2026-01-21T00:27:29.9967381Z --- PASS: TestCollectorMetrics (0.00s)
2026-01-21T00:27:29.9967846Z === RUN   TestClusterSimpleCollector_Describe
2026-01-21T00:27:29.9968396Z --- PASS: TestClusterSimpleCollector_Describe (0.00s)
2026-01-21T00:27:29.9969018Z === RUN   TestClusterSimpleCollector_Collect_Success
2026-01-21T00:27:29.9969955Z time="2026-01-21T00:27:28Z" level=info msg="Collected cluster info" cluster=test-cluster collector=cluster test=true
2026-01-21T00:27:29.9971320Z --- PASS: TestClusterSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:29.9971947Z === RUN   TestClusterSimpleCollector_Collect_Disabled
2026-01-21T00:27:29.9972553Z --- PASS: TestClusterSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:29.9973172Z === RUN   TestClusterSimpleCollector_Collect_Error
2026-01-21T00:27:29.9974287Z time="2026-01-21T00:27:28Z" level=error msg="Failed to get cluster info" collector=cluster error="assert.AnError general error for testing" test=true
2026-01-21T00:27:29.9975471Z --- PASS: TestClusterSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:29.9976446Z === RUN   TestClusterSimpleCollector_Collect_StatsError
2026-01-21T00:27:29.9977729Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to get cluster stats, continuing with info only" collector=cluster error="assert.AnError general error for testing" test=true
2026-01-21T00:27:29.9979431Z time="2026-01-21T00:27:28Z" level=info msg="Collected cluster info" cluster=test-cluster collector=cluster test=true
2026-01-21T00:27:29.9980303Z --- PASS: TestClusterSimpleCollector_Collect_StatsError (0.00s)
2026-01-21T00:27:29.9980853Z === RUN   TestClusterCollector
2026-01-21T00:27:29.9981241Z === RUN   TestClusterCollector/Name
2026-01-21T00:27:29.9981656Z === RUN   TestClusterCollector/Enabled
2026-01-21T00:27:29.9982101Z === RUN   TestClusterCollector/Describe
2026-01-21T00:27:29.9982627Z === RUN   TestClusterCollector/Collect
2026-01-21T00:27:29.9983408Z === RUN   TestClusterCollector/CollectClusterInfo
2026-01-21T00:27:29.9983965Z === RUN   TestClusterCollector/CollectNodeSummary
2026-01-21T00:27:29.9984497Z === RUN   TestClusterCollector/CollectJobSummary
2026-01-21T00:27:29.9985066Z === RUN   TestClusterCollector/CollectPartitionSummary
2026-01-21T00:27:29.9985910Z --- PASS: TestClusterCollector (0.00s)
2026-01-21T00:27:29.9986462Z     --- PASS: TestClusterCollector/Name (0.00s)
2026-01-21T00:27:29.9986994Z     --- PASS: TestClusterCollector/Enabled (0.00s)
2026-01-21T00:27:29.9987538Z     --- PASS: TestClusterCollector/Describe (0.00s)
2026-01-21T00:27:29.9988045Z     --- PASS: TestClusterCollector/Collect (0.00s)
2026-01-21T00:27:29.9988626Z     --- PASS: TestClusterCollector/CollectClusterInfo (0.00s)
2026-01-21T00:27:29.9989248Z     --- PASS: TestClusterCollector/CollectNodeSummary (0.00s)
2026-01-21T00:27:29.9989881Z     --- PASS: TestClusterCollector/CollectJobSummary (0.00s)
2026-01-21T00:27:29.9990650Z     --- PASS: TestClusterCollector/CollectPartitionSummary (0.00s)
2026-01-21T00:27:29.9991239Z === RUN   TestClusterCollectorIntegration
2026-01-21T00:27:29.9991964Z     cluster_test.go:307: Successfully collected 22 metrics
2026-01-21T00:27:29.9992495Z --- PASS: TestClusterCollectorIntegration (0.00s)
2026-01-21T00:27:29.9992978Z === RUN   TestClustersCollector_Describe
2026-01-21T00:27:29.9993439Z --- PASS: TestClustersCollector_Describe (0.00s)
2026-01-21T00:27:29.9993935Z === RUN   TestClustersCollector_Collect_Success
2026-01-21T00:27:29.9994708Z time="2026-01-21T00:27:28Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:27:29.9995832Z time="2026-01-21T00:27:28Z" level=debug msg="Cluster metrics collected" cluster_count=2 collector=clusters test=true
2026-01-21T00:27:29.9997198Z --- PASS: TestClustersCollector_Collect_Success (0.00s)
2026-01-21T00:27:29.9998094Z === RUN   TestClustersCollector_Collect_Error
2026-01-21T00:27:29.9998889Z time="2026-01-21T00:27:28Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:27:30.0000216Z time="2026-01-21T00:27:28Z" level=error msg="Failed to get clusters" collector=clusters error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0001391Z --- PASS: TestClustersCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0001968Z === RUN   TestClustersCollector_EmptyClusterList
2026-01-21T00:27:30.0002759Z time="2026-01-21T00:27:28Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:27:30.0004019Z time="2026-01-21T00:27:28Z" level=debug msg="Cluster metrics collected" cluster_count=0 collector=clusters test=true
2026-01-21T00:27:30.0005044Z --- PASS: TestClustersCollector_EmptyClusterList (0.00s)
2026-01-21T00:27:30.0005689Z === RUN   TestClustersCollector_NullClustersManager
2026-01-21T00:27:30.0006576Z time="2026-01-21T00:27:28Z" level=debug msg="Collecting cluster metrics" collector=clusters test=true
2026-01-21T00:27:30.0007664Z time="2026-01-21T00:27:28Z" level=debug msg="Clusters manager not available" collector=clusters test=true
2026-01-21T00:27:30.0008483Z --- PASS: TestClustersCollector_NullClustersManager (0.00s)
2026-01-21T00:27:30.0009024Z === RUN   TestConcurrentCollector
2026-01-21T00:27:30.0009507Z === RUN   TestConcurrentCollector/EmptyRegistry
2026-01-21T00:27:30.0010065Z === RUN   TestConcurrentCollector/ConcurrentCollection
2026-01-21T00:27:30.0010980Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:27:30.0012119Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:27:30.0013306Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:27:30.0014444Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=d component=collector_registry
2026-01-21T00:27:30.0015634Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=e component=collector_registry
2026-01-21T00:27:30.0016831Z === RUN   TestConcurrentCollector/MaxConcurrency
2026-01-21T00:27:30.0017921Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=e component=collector_registry
2026-01-21T00:27:30.0019580Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=e component=collector_registry
2026-01-21T00:27:30.0020882Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:27:30.0022284Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:27:30.0023547Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:27:30.0024948Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:27:30.0026304Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:27:30.0027652Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:27:30.0028962Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=d component=collector_registry
2026-01-21T00:27:30.0030339Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=d component=collector_registry
2026-01-21T00:27:30.0031460Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:27:30.0033801Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:27:30.0035006Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:27:30.0036179Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=d component=collector_registry
2026-01-21T00:27:30.0037677Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=e component=collector_registry
2026-01-21T00:27:30.0038460Z === RUN   TestConcurrentCollector/ErrorHandling
2026-01-21T00:27:30.0039384Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:27:30.0040556Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:27:30.0041831Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:27:30.0042990Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:27:30.0044160Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:27:30.0045332Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:27:30.0046507Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=d component=collector_registry
2026-01-21T00:27:30.0047676Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=d component=collector_registry
2026-01-21T00:27:30.0048827Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=e component=collector_registry
2026-01-21T00:27:30.0050013Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=e component=collector_registry
2026-01-21T00:27:30.0051181Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=success component=collector_registry
2026-01-21T00:27:30.0052342Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=fail component=collector_registry
2026-01-21T00:27:30.0053689Z time="2026-01-21T00:27:28Z" level=error msg="Collection failed" collector=fail component=concurrent_collector error="collection failed"
2026-01-21T00:27:30.0055993Z === RUN   TestConcurrentCollector/ContextCancellation
2026-01-21T00:27:30.0057418Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=success component=collector_registry
2026-01-21T00:27:30.0058844Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=success component=collector_registry
2026-01-21T00:27:30.0060262Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=fail component=collector_registry
2026-01-21T00:27:30.0061664Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=fail component=collector_registry
2026-01-21T00:27:30.0062820Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=slow component=collector_registry
2026-01-21T00:27:30.0064153Z time="2026-01-21T00:27:28Z" level=error msg="Collection failed" collector=slow component=concurrent_collector error="context canceled"
2026-01-21T00:27:30.0065155Z === RUN   TestConcurrentCollector/Metrics
2026-01-21T00:27:30.0066143Z time="2026-01-21T00:27:28Z" level=warning msg="Failed to unregister collector from prometheus" collector=slow component=collector_registry
2026-01-21T00:27:30.0067560Z time="2026-01-21T00:27:28Z" level=info msg="Collector unregistered" collector=slow component=collector_registry
2026-01-21T00:27:30.0068795Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=metric_test component=collector_registry
2026-01-21T00:27:30.0069936Z --- PASS: TestConcurrentCollector (0.18s)
2026-01-21T00:27:30.0070594Z     --- PASS: TestConcurrentCollector/EmptyRegistry (0.00s)
2026-01-21T00:27:30.0071387Z     --- PASS: TestConcurrentCollector/ConcurrentCollection (0.02s)
2026-01-21T00:27:30.0072182Z     --- PASS: TestConcurrentCollector/MaxConcurrency (0.06s)
2026-01-21T00:27:30.0072817Z     --- PASS: TestConcurrentCollector/ErrorHandling (0.00s)
2026-01-21T00:27:30.0073513Z     --- PASS: TestConcurrentCollector/ContextCancellation (0.00s)
2026-01-21T00:27:30.0074202Z     --- PASS: TestConcurrentCollector/Metrics (0.10s)
2026-01-21T00:27:30.0074737Z === RUN   TestCollectionOrchestrator
2026-01-21T00:27:30.0075240Z === RUN   TestCollectionOrchestrator/SetInterval
2026-01-21T00:27:30.0075712Z === RUN   TestCollectionOrchestrator/CollectNow
2026-01-21T00:27:30.0076621Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=immediate component=collector_registry
2026-01-21T00:27:30.0077955Z === RUN   TestCollectionOrchestrator/ScheduledCollection
2026-01-21T00:27:30.0078932Z time="2026-01-21T00:27:28Z" level=info msg="Collector registered" collector=scheduled component=collector_registry
2026-01-21T00:27:30.0080088Z time="2026-01-21T00:27:28Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:27:30.0081291Z time="2026-01-21T00:27:28Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:27:30.0082193Z --- PASS: TestCollectionOrchestrator (0.30s)
2026-01-21T00:27:30.0082826Z     --- PASS: TestCollectionOrchestrator/SetInterval (0.00s)
2026-01-21T00:27:30.0083556Z     --- PASS: TestCollectionOrchestrator/CollectNow (0.00s)
2026-01-21T00:27:30.0084338Z     --- PASS: TestCollectionOrchestrator/ScheduledCollection (0.30s)
2026-01-21T00:27:30.0084927Z === RUN   TestCollectionResult
2026-01-21T00:27:30.0085334Z --- PASS: TestCollectionResult (0.00s)
2026-01-21T00:27:30.0085772Z === RUN   TestCircuitBreaker
2026-01-21T00:27:30.0086201Z === RUN   TestCircuitBreaker/NormalOperation
2026-01-21T00:27:30.0086736Z === RUN   TestCircuitBreaker/CircuitOpensAfterFailures
2026-01-21T00:27:30.0087870Z time="2026-01-21T00:27:28Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=3 name=test
2026-01-21T00:27:30.0089025Z === RUN   TestCircuitBreaker/CircuitTransitionsToHalfOpen
2026-01-21T00:27:30.0090150Z time="2026-01-21T00:27:28Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:27:30.0091858Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=test
2026-01-21T00:27:30.0093240Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker closed after successful test" component=circuit_breaker name=test
2026-01-21T00:27:30.0094272Z === RUN   TestCircuitBreaker/FailureInHalfOpenReturnsToOpen
2026-01-21T00:27:30.0095431Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:27:30.0096925Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=test
2026-01-21T00:27:30.0098693Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker returning to open after failed test" component=circuit_breaker name=test
2026-01-21T00:27:30.0099565Z === RUN   TestCircuitBreaker/ManualReset
2026-01-21T00:27:30.0100573Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=test
2026-01-21T00:27:30.0101984Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=test
2026-01-21T00:27:30.0102836Z --- PASS: TestCircuitBreaker (0.30s)
2026-01-21T00:27:30.0103445Z     --- PASS: TestCircuitBreaker/NormalOperation (0.00s)
2026-01-21T00:27:30.0104689Z     --- PASS: TestCircuitBreaker/CircuitOpensAfterFailures (0.00s)
2026-01-21T00:27:30.0105784Z     --- PASS: TestCircuitBreaker/CircuitTransitionsToHalfOpen (0.15s)
2026-01-21T00:27:30.0155739Z     --- PASS: TestCircuitBreaker/FailureInHalfOpenReturnsToOpen (0.15s)
2026-01-21T00:27:30.0156558Z     --- PASS: TestCircuitBreaker/ManualReset (0.00s)
2026-01-21T00:27:30.0157065Z === RUN   TestDegradationManager
2026-01-21T00:27:30.0157595Z === RUN   TestDegradationManager/SuccessfulCollection
2026-01-21T00:27:30.0158251Z === RUN   TestDegradationManager/CachedMetricsAfterFailure
2026-01-21T00:27:30.0159439Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=cache_test
2026-01-21T00:27:30.0161357Z time="2026-01-21T00:27:29Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:27:29.2378438 +0000 UTC m=+0.876554701" collector=cache_test component=degradation_manager
2026-01-21T00:27:30.0163393Z time="2026-01-21T00:27:29Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:27:29.2378438 +0000 UTC m=+0.876554701" collector=cache_test component=degradation_manager
2026-01-21T00:27:30.0164595Z === RUN   TestDegradationManager/CacheExpiry
2026-01-21T00:27:30.0165563Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=expiry_test
2026-01-21T00:27:30.0167378Z time="2026-01-21T00:27:29Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:27:29.2384201 +0000 UTC m=+0.877131001" collector=expiry_test component=degradation_manager
2026-01-21T00:27:30.0169551Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker transitioning to half-open" component=circuit_breaker name=expiry_test
2026-01-21T00:27:30.0171055Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker returning to open after failed test" component=circuit_breaker name=expiry_test
2026-01-21T00:27:30.0172138Z === RUN   TestDegradationManager/DegradationModeTracking
2026-01-21T00:27:30.0173232Z time="2026-01-21T00:27:29Z" level=warning msg="System in degraded mode" component=degradation_manager mode=1 open_breakers=1 total_breakers=2
2026-01-21T00:27:30.0174281Z === RUN   TestDegradationManager/GetDegradationStats
2026-01-21T00:27:30.0174833Z === RUN   TestDegradationManager/ResetAllBreakers
2026-01-21T00:27:30.0176032Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=cache_test
2026-01-21T00:27:30.0177391Z time="2026-01-21T00:27:29Z" level=info msg="Circuit breaker manually reset" component=circuit_breaker name=test_collector
2026-01-21T00:27:30.0178550Z time="2026-01-21T00:27:29Z" level=info msg="All circuit breakers reset" component=degradation_manager
2026-01-21T00:27:30.0179354Z --- PASS: TestDegradationManager (0.15s)
2026-01-21T00:27:30.0180035Z     --- PASS: TestDegradationManager/SuccessfulCollection (0.00s)
2026-01-21T00:27:30.0180841Z     --- PASS: TestDegradationManager/CachedMetricsAfterFailure (0.00s)
2026-01-21T00:27:30.0181506Z     --- PASS: TestDegradationManager/CacheExpiry (0.15s)
2026-01-21T00:27:30.0182230Z     --- PASS: TestDegradationManager/DegradationModeTracking (0.00s)
2026-01-21T00:27:30.0183025Z     --- PASS: TestDegradationManager/GetDegradationStats (0.00s)
2026-01-21T00:27:30.0183803Z     --- PASS: TestDegradationManager/ResetAllBreakers (0.00s)
2026-01-21T00:27:30.0184324Z === RUN   TestDegradationMetrics
2026-01-21T00:27:30.0184698Z --- PASS: TestDegradationMetrics (0.00s)
2026-01-21T00:27:30.0185144Z === RUN   TestDegradationConfig
2026-01-21T00:27:30.0185564Z === RUN   TestDegradationConfig/ValidConfig
2026-01-21T00:27:30.0186066Z === RUN   TestDegradationConfig/InvalidMaxFailures
2026-01-21T00:27:30.0186624Z === RUN   TestDegradationConfig/InvalidResetTimeout
2026-01-21T00:27:30.0187145Z === RUN   TestDegradationConfig/InvalidCacheTTL
2026-01-21T00:27:30.0187895Z === RUN   TestDegradationConfig/DisabledConfig
2026-01-21T00:27:30.0188692Z --- PASS: TestDegradationConfig (0.00s)
2026-01-21T00:27:30.0189299Z     --- PASS: TestDegradationConfig/ValidConfig (0.00s)
2026-01-21T00:27:30.0190009Z     --- PASS: TestDegradationConfig/InvalidMaxFailures (0.00s)
2026-01-21T00:27:30.0190755Z     --- PASS: TestDegradationConfig/InvalidResetTimeout (0.00s)
2026-01-21T00:27:30.0191559Z     --- PASS: TestDegradationConfig/InvalidCacheTTL (0.00s)
2026-01-21T00:27:30.0192257Z     --- PASS: TestDegradationConfig/DisabledConfig (0.00s)
2026-01-21T00:27:30.0192720Z === RUN   TestDegradedCollector
2026-01-21T00:27:30.0193152Z === RUN   TestDegradedCollector/SuccessfulCollection
2026-01-21T00:27:30.0193708Z === RUN   TestDegradedCollector/FailureWithCaching
2026-01-21T00:27:30.0194852Z time="2026-01-21T00:27:29Z" level=warning msg="Circuit breaker opened due to excessive failures" component=circuit_breaker failures=2 name=failing_test
2026-01-21T00:27:30.0196712Z time="2026-01-21T00:27:29Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:27:29.3901848 +0000 UTC m=+1.028894601" collector=failing_test component=degradation_manager
2026-01-21T00:27:30.0198935Z time="2026-01-21T00:27:29Z" level=info msg="Serving cached metrics due to circuit breaker open" cached_at="2026-01-21 00:27:29.3901848 +0000 UTC m=+1.028894601" collector=failing_test component=degradation_manager
2026-01-21T00:27:30.0200353Z === RUN   TestDegradedCollector/InterfaceMethods
2026-01-21T00:27:30.0200818Z --- PASS: TestDegradedCollector (0.00s)
2026-01-21T00:27:30.0201449Z     --- PASS: TestDegradedCollector/SuccessfulCollection (0.00s)
2026-01-21T00:27:30.0202237Z     --- PASS: TestDegradedCollector/FailureWithCaching (0.00s)
2026-01-21T00:27:30.0202939Z     --- PASS: TestDegradedCollector/InterfaceMethods (0.00s)
2026-01-21T00:27:30.0203448Z === RUN   TestDegradedRegistry
2026-01-21T00:27:30.0203874Z === RUN   TestDegradedRegistry/RegisterAndGet
2026-01-21T00:27:30.0204805Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=test_collector component=collector_registry
2026-01-21T00:27:30.0206124Z time="2026-01-21T00:27:29Z" level=info msg="Registered collector with degradation support" collector=test_collector component=degraded_registry
2026-01-21T00:27:30.0207018Z === RUN   TestDegradedRegistry/List
2026-01-21T00:27:30.0207400Z === RUN   TestDegradedRegistry/Unregister
2026-01-21T00:27:30.0208629Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=test_collector component=collector_registry
2026-01-21T00:27:30.0210125Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=test_collector component=collector_registry
2026-01-21T00:27:30.0211082Z === RUN   TestDegradedRegistry/DegradationManagement
2026-01-21T00:27:30.0211879Z time="2026-01-21T00:27:29Z" level=info msg="All circuit breakers reset" component=degradation_manager
2026-01-21T00:27:30.0212697Z === RUN   TestDegradedRegistry/PrometheusCollector
2026-01-21T00:27:30.0213220Z === RUN   TestDegradedRegistry/CollectAll
2026-01-21T00:27:30.0214441Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=collect_all_test component=collector_registry
2026-01-21T00:27:30.0215991Z time="2026-01-21T00:27:29Z" level=info msg="Registered collector with degradation support" collector=collect_all_test component=degraded_registry
2026-01-21T00:27:30.0217007Z --- PASS: TestDegradedRegistry (0.00s)
2026-01-21T00:27:30.0217523Z     --- PASS: TestDegradedRegistry/RegisterAndGet (0.00s)
2026-01-21T00:27:30.0218056Z     --- PASS: TestDegradedRegistry/List (0.00s)
2026-01-21T00:27:30.0218568Z     --- PASS: TestDegradedRegistry/Unregister (0.00s)
2026-01-21T00:27:30.0219193Z     --- PASS: TestDegradedRegistry/DegradationManagement (0.00s)
2026-01-21T00:27:30.0219878Z     --- PASS: TestDegradedRegistry/PrometheusCollector (0.00s)
2026-01-21T00:27:30.0222081Z     --- PASS: TestDegradedRegistry/CollectAll (0.00s)
2026-01-21T00:27:30.0222728Z === RUN   TestDegradedRegistryWithDisabledDegradation
2026-01-21T00:27:30.0223777Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=no_degradation_test component=collector_registry
2026-01-21T00:27:30.0224750Z --- PASS: TestDegradedRegistryWithDisabledDegradation (0.00s)
2026-01-21T00:27:30.0225291Z === RUN   TestDiagnosticsCollector_Describe
2026-01-21T00:27:30.0225770Z --- PASS: TestDiagnosticsCollector_Describe (0.00s)
2026-01-21T00:27:30.0226251Z === RUN   TestDiagnosticsCollector_Collect_Success
2026-01-21T00:27:30.0227042Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting diagnostics metrics" collector=diagnostics test=true
2026-01-21T00:27:30.0228178Z time="2026-01-21T00:27:29Z" level=debug msg="Diagnostics metrics collected" collector=diagnostics test=true
2026-01-21T00:27:30.0229032Z --- PASS: TestDiagnosticsCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0229604Z === RUN   TestDiagnosticsCollector_Collect_Error
2026-01-21T00:27:30.0230425Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting diagnostics metrics" collector=diagnostics test=true
2026-01-21T00:27:30.0231840Z time="2026-01-21T00:27:29Z" level=debug msg="Failed to get diagnostics" collector=diagnostics error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0233031Z --- PASS: TestDiagnosticsCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0233598Z === RUN   TestCollectionError
2026-01-21T00:27:30.0234336Z === RUN   TestCollectionError/ErrorInterface
2026-01-21T00:27:30.0234765Z === RUN   TestCollectionError/LogFields
2026-01-21T00:27:30.0235216Z --- PASS: TestCollectionError (0.00s)
2026-01-21T00:27:30.0235809Z     --- PASS: TestCollectionError/ErrorInterface (0.00s)
2026-01-21T00:27:30.0236462Z     --- PASS: TestCollectionError/LogFields (0.00s)
2026-01-21T00:27:30.0236941Z === RUN   TestErrorBuilder
2026-01-21T00:27:30.0237320Z === RUN   TestErrorBuilder/Connection
2026-01-21T00:27:30.0237758Z === RUN   TestErrorBuilder/Auth
2026-01-21T00:27:30.0238089Z === RUN   TestErrorBuilder/Timeout
2026-01-21T00:27:30.0238474Z === RUN   TestErrorBuilder/API
2026-01-21T00:27:30.0238856Z --- PASS: TestErrorBuilder (0.00s)
2026-01-21T00:27:30.0239385Z     --- PASS: TestErrorBuilder/Connection (0.00s)
2026-01-21T00:27:30.0239931Z     --- PASS: TestErrorBuilder/Auth (0.00s)
2026-01-21T00:27:30.0240472Z     --- PASS: TestErrorBuilder/Timeout (0.00s)
2026-01-21T00:27:30.0241367Z     --- PASS: TestErrorBuilder/API (0.00s)
2026-01-21T00:27:30.0241820Z === RUN   TestErrorAnalyzer
2026-01-21T00:27:30.0242170Z === RUN   TestErrorAnalyzer/ConnectionRefused
2026-01-21T00:27:30.0242588Z === RUN   TestErrorAnalyzer/Timeout
2026-01-21T00:27:30.0243023Z === RUN   TestErrorAnalyzer/Unauthorized
2026-01-21T00:27:30.0243457Z === RUN   TestErrorAnalyzer/RateLimit
2026-01-21T00:27:30.0243865Z === RUN   TestErrorAnalyzer/Permission
2026-01-21T00:27:30.0244244Z === RUN   TestErrorAnalyzer/Unknown
2026-01-21T00:27:30.0244666Z === RUN   TestErrorAnalyzer/ExistingCollectionError
2026-01-21T00:27:30.0245087Z === RUN   TestErrorAnalyzer/NilError
2026-01-21T00:27:30.0245445Z --- PASS: TestErrorAnalyzer (0.00s)
2026-01-21T00:27:30.0245932Z     --- PASS: TestErrorAnalyzer/ConnectionRefused (0.00s)
2026-01-21T00:27:30.0246480Z     --- PASS: TestErrorAnalyzer/Timeout (0.00s)
2026-01-21T00:27:30.0246985Z     --- PASS: TestErrorAnalyzer/Unauthorized (0.00s)
2026-01-21T00:27:30.0247514Z     --- PASS: TestErrorAnalyzer/RateLimit (0.00s)
2026-01-21T00:27:30.0248074Z     --- PASS: TestErrorAnalyzer/Permission (0.00s)
2026-01-21T00:27:30.0248637Z     --- PASS: TestErrorAnalyzer/Unknown (0.00s)
2026-01-21T00:27:30.0249285Z     --- PASS: TestErrorAnalyzer/ExistingCollectionError (0.00s)
2026-01-21T00:27:30.0249904Z     --- PASS: TestErrorAnalyzer/NilError (0.00s)
2026-01-21T00:27:30.0250413Z === RUN   TestErrorRecoveryHandler
2026-01-21T00:27:30.0250851Z === RUN   TestErrorRecoveryHandler/NilError
2026-01-21T00:27:30.0251640Z === RUN   TestErrorRecoveryHandler/ConnectionError
2026-01-21T00:27:30.0252460Z time="2026-01-21T00:27:29Z" level=info msg="Attempting connection error recovery" collector=test
2026-01-21T00:27:30.0253236Z === RUN   TestErrorRecoveryHandler/TimeoutError
2026-01-21T00:27:30.0253994Z time="2026-01-21T00:27:29Z" level=info msg="Attempting timeout error recovery" collector=test
2026-01-21T00:27:30.0256108Z === RUN   TestErrorRecoveryHandler/RateLimitError
2026-01-21T00:27:30.0257391Z time="2026-01-21T00:27:29Z" level=info msg="Attempting rate limit error recovery" collector=test
2026-01-21T00:27:30.0258585Z time="2026-01-21T00:27:29Z" level=info msg="Backing off due to rate limit" retry_after=100ms
2026-01-21T00:27:30.0260684Z === RUN   TestErrorRecoveryHandler/AuthError
2026-01-21T00:27:30.0261526Z time="2026-01-21T00:27:29Z" level=error msg="Authentication error requires manual intervention" collector=test
2026-01-21T00:27:30.0262343Z === RUN   TestErrorRecoveryHandler/OtherError
2026-01-21T00:27:30.0262800Z --- PASS: TestErrorRecoveryHandler (0.00s)
2026-01-21T00:27:30.0263402Z     --- PASS: TestErrorRecoveryHandler/NilError (0.00s)
2026-01-21T00:27:30.0264095Z     --- PASS: TestErrorRecoveryHandler/ConnectionError (0.00s)
2026-01-21T00:27:30.0264792Z     --- PASS: TestErrorRecoveryHandler/TimeoutError (0.00s)
2026-01-21T00:27:30.0265472Z     --- PASS: TestErrorRecoveryHandler/RateLimitError (0.00s)
2026-01-21T00:27:30.0266149Z     --- PASS: TestErrorRecoveryHandler/AuthError (0.00s)
2026-01-21T00:27:30.0266789Z     --- PASS: TestErrorRecoveryHandler/OtherError (0.00s)
2026-01-21T00:27:30.0267311Z === RUN   TestErrorClassification
2026-01-21T00:27:30.0267772Z === RUN   TestErrorClassification/ConnectionRefused
2026-01-21T00:27:30.0268291Z === RUN   TestErrorClassification/ConnectionReset
2026-01-21T00:27:30.0268748Z === RUN   TestErrorClassification/NoSuchHost
2026-01-21T00:27:30.0269243Z === RUN   TestErrorClassification/NetworkUnreachable
2026-01-21T00:27:30.0269721Z === RUN   TestErrorClassification/DialTCP
2026-01-21T00:27:30.0270161Z === RUN   TestErrorClassification/NotConnection
2026-01-21T00:27:30.0270634Z === RUN   TestErrorClassification/Timeout
2026-01-21T00:27:30.0271121Z === RUN   TestErrorClassification/DeadlineExceeded
2026-01-21T00:27:30.0271645Z === RUN   TestErrorClassification/RequestTimeout
2026-01-21T00:27:30.0272130Z === RUN   TestErrorClassification/NotTimeout
2026-01-21T00:27:30.0272877Z === RUN   TestErrorClassification/Unauthorized
2026-01-21T00:27:30.0273335Z === RUN   TestErrorClassification/AuthFailed
2026-01-21T00:27:30.0273793Z === RUN   TestErrorClassification/InvalidToken
2026-01-21T00:27:30.0274263Z === RUN   TestErrorClassification/TokenExpired
2026-01-21T00:27:30.0274702Z === RUN   TestErrorClassification/NotAuth
2026-01-21T00:27:30.0275141Z === RUN   TestErrorClassification/RateLimit
2026-01-21T00:27:30.0275605Z === RUN   TestErrorClassification/TooManyRequests
2026-01-21T00:27:30.0276119Z === RUN   TestErrorClassification/QuotaExceeded
2026-01-21T00:27:30.0276822Z === RUN   TestErrorClassification/Throttle
2026-01-21T00:27:30.0277494Z === RUN   TestErrorClassification/NotRateLimit
2026-01-21T00:27:30.0277987Z === RUN   TestErrorClassification/PermissionDenied
2026-01-21T00:27:30.0278493Z === RUN   TestErrorClassification/Forbidden
2026-01-21T00:27:30.0278965Z === RUN   TestErrorClassification/AccessDenied
2026-01-21T00:27:30.0279395Z === RUN   TestErrorClassification/NotAuthorized
2026-01-21T00:27:30.0279926Z === RUN   TestErrorClassification/NotPermission
2026-01-21T00:27:30.0280398Z --- PASS: TestErrorClassification (0.00s)
2026-01-21T00:27:30.0281065Z     --- PASS: TestErrorClassification/ConnectionRefused (0.00s)
2026-01-21T00:27:30.0281849Z     --- PASS: TestErrorClassification/ConnectionReset (0.00s)
2026-01-21T00:27:30.0283766Z     --- PASS: TestErrorClassification/NoSuchHost (0.00s)
2026-01-21T00:27:30.0284835Z     --- PASS: TestErrorClassification/NetworkUnreachable (0.00s)
2026-01-21T00:27:30.0285743Z     --- PASS: TestErrorClassification/DialTCP (0.00s)
2026-01-21T00:27:30.0286795Z     --- PASS: TestErrorClassification/NotConnection (0.00s)
2026-01-21T00:27:30.0287476Z     --- PASS: TestErrorClassification/Timeout (0.00s)
2026-01-21T00:27:30.0288187Z     --- PASS: TestErrorClassification/DeadlineExceeded (0.00s)
2026-01-21T00:27:30.0288931Z     --- PASS: TestErrorClassification/RequestTimeout (0.00s)
2026-01-21T00:27:30.0289947Z     --- PASS: TestErrorClassification/NotTimeout (0.00s)
2026-01-21T00:27:30.0290979Z     --- PASS: TestErrorClassification/Unauthorized (0.00s)
2026-01-21T00:27:30.0292066Z     --- PASS: TestErrorClassification/AuthFailed (0.00s)
2026-01-21T00:27:30.0292763Z     --- PASS: TestErrorClassification/InvalidToken (0.00s)
2026-01-21T00:27:30.0293461Z     --- PASS: TestErrorClassification/TokenExpired (0.00s)
2026-01-21T00:27:30.0294123Z     --- PASS: TestErrorClassification/NotAuth (0.00s)
2026-01-21T00:27:30.0294782Z     --- PASS: TestErrorClassification/RateLimit (0.00s)
2026-01-21T00:27:30.0295485Z     --- PASS: TestErrorClassification/TooManyRequests (0.00s)
2026-01-21T00:27:30.0296593Z     --- PASS: TestErrorClassification/QuotaExceeded (0.00s)
2026-01-21T00:27:30.0297559Z     --- PASS: TestErrorClassification/Throttle (0.00s)
2026-01-21T00:27:30.0298251Z     --- PASS: TestErrorClassification/NotRateLimit (0.00s)
2026-01-21T00:27:30.0299281Z     --- PASS: TestErrorClassification/PermissionDenied (0.00s)
2026-01-21T00:27:30.0300022Z     --- PASS: TestErrorClassification/Forbidden (0.00s)
2026-01-21T00:27:30.0300698Z     --- PASS: TestErrorClassification/AccessDenied (0.00s)
2026-01-21T00:27:30.0301387Z     --- PASS: TestErrorClassification/NotAuthorized (0.00s)
2026-01-21T00:27:30.0303045Z     --- PASS: TestErrorClassification/NotPermission (0.00s)
2026-01-21T00:27:30.0303927Z === RUN   TestContainsHelper
2026-01-21T00:27:30.0304435Z === RUN   TestContainsHelper/hello_world_contains_hello
2026-01-21T00:27:30.0305371Z === RUN   TestContainsHelper/hello_world_contains_world
2026-01-21T00:27:30.0306228Z === RUN   TestContainsHelper/hello_world_contains_lo_wo
2026-01-21T00:27:30.0306837Z === RUN   TestContainsHelper/hello_world_contains_xyz
2026-01-21T00:27:30.0307440Z === RUN   TestContainsHelper/timeout_contains_timeout
2026-01-21T00:27:30.0308080Z === RUN   TestContainsHelper/connection_timeout_contains_timeout
2026-01-21T00:27:30.0308671Z === RUN   TestContainsHelper/_contains_timeout
2026-01-21T00:27:30.0309992Z === RUN   TestContainsHelper/timeout_contains_
2026-01-21T00:27:30.0310524Z --- PASS: TestContainsHelper (0.00s)
2026-01-21T00:27:30.0311563Z     --- PASS: TestContainsHelper/hello_world_contains_hello (0.00s)
2026-01-21T00:27:30.0312342Z     --- PASS: TestContainsHelper/hello_world_contains_world (0.00s)
2026-01-21T00:27:30.0313154Z     --- PASS: TestContainsHelper/hello_world_contains_lo_wo (0.00s)
2026-01-21T00:27:30.0313944Z     --- PASS: TestContainsHelper/hello_world_contains_xyz (0.00s)
2026-01-21T00:27:30.0315054Z     --- PASS: TestContainsHelper/timeout_contains_timeout (0.00s)
2026-01-21T00:27:30.0316240Z     --- PASS: TestContainsHelper/connection_timeout_contains_timeout (0.00s)
2026-01-21T00:27:30.0317266Z     --- PASS: TestContainsHelper/_contains_timeout (0.00s)
2026-01-21T00:27:30.0317926Z     --- PASS: TestContainsHelper/timeout_contains_ (0.00s)
2026-01-21T00:27:30.0318409Z === RUN   TestJobCollector
2026-01-21T00:27:30.0318762Z === RUN   TestJobCollector/Name
2026-01-21T00:27:30.0319158Z === RUN   TestJobCollector/Enabled
2026-01-21T00:27:30.0319541Z === RUN   TestJobCollector/Describe
2026-01-21T00:27:30.0319931Z === RUN   TestJobCollector/Collect
2026-01-21T00:27:30.0320323Z === RUN   TestJobCollector/CollectActiveJobs
2026-01-21T00:27:30.0320795Z === RUN   TestJobCollector/CollectJobQueueStats
2026-01-21T00:27:30.0321285Z === RUN   TestJobCollector/CollectJobStatesSummary
2026-01-21T00:27:30.0321755Z --- PASS: TestJobCollector (0.00s)
2026-01-21T00:27:30.0322199Z     --- PASS: TestJobCollector/Name (0.00s)
2026-01-21T00:27:30.0323350Z     --- PASS: TestJobCollector/Enabled (0.00s)
2026-01-21T00:27:30.0323939Z     --- PASS: TestJobCollector/Describe (0.00s)
2026-01-21T00:27:30.0324464Z     --- PASS: TestJobCollector/Collect (0.00s)
2026-01-21T00:27:30.0325069Z     --- PASS: TestJobCollector/CollectActiveJobs (0.00s)
2026-01-21T00:27:30.0325721Z     --- PASS: TestJobCollector/CollectJobQueueStats (0.00s)
2026-01-21T00:27:30.0326721Z     --- PASS: TestJobCollector/CollectJobStatesSummary (0.00s)
2026-01-21T00:27:30.0327285Z === RUN   TestJobCollectorUtilities
2026-01-21T00:27:30.0327752Z === RUN   TestJobCollectorUtilities/ParseJobState
2026-01-21T00:27:30.0328917Z --- PASS: TestJobCollectorUtilities (0.00s)
2026-01-21T00:27:30.0329559Z     --- PASS: TestJobCollectorUtilities/ParseJobState (0.00s)
2026-01-21T00:27:30.0330140Z === RUN   TestJobCollectorIntegration
2026-01-21T00:27:30.0330770Z     job_test.go:335: Successfully collected 34 metrics
2026-01-21T00:27:30.0331769Z     job_test.go:336: Metric breakdown: map[allocations:9 info:3 requests:9 scheduling:7 states:6]
2026-01-21T00:27:30.0332608Z --- PASS: TestJobCollectorIntegration (0.00s)
2026-01-21T00:27:30.0333109Z === RUN   TestJobsSimpleCollector_Describe
2026-01-21T00:27:30.0333594Z --- PASS: TestJobsSimpleCollector_Describe (0.00s)
2026-01-21T00:27:30.0334126Z === RUN   TestJobsSimpleCollector_Collect_Success
2026-01-21T00:27:30.0334800Z time="2026-01-21T00:27:29Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:27:30.0335669Z --- PASS: TestJobsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0336264Z === RUN   TestJobsSimpleCollector_Collect_Disabled
2026-01-21T00:27:30.0336890Z --- PASS: TestJobsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0337487Z === RUN   TestJobsSimpleCollector_Collect_Error
2026-01-21T00:27:30.0338542Z time="2026-01-21T00:27:29Z" level=error msg="Failed to list jobs" collector=jobs error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0339653Z --- PASS: TestJobsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0340234Z === RUN   TestJobsSimpleCollector_Filtering
2026-01-21T00:27:30.0341025Z time="2026-01-21T00:27:29Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:27:30.0341881Z --- PASS: TestJobsSimpleCollector_Filtering (0.00s)
2026-01-21T00:27:30.0342458Z === RUN   TestJobsSimpleCollector_CustomLabels
2026-01-21T00:27:30.0344469Z time="2026-01-21T00:27:29Z" level=info msg="Collected job entries" collector=jobs count=5 test=true
2026-01-21T00:27:30.0345321Z --- PASS: TestJobsSimpleCollector_CustomLabels (0.00s)
2026-01-21T00:27:30.0345880Z === RUN   TestJobsSimpleCollector_EmptyJobList
2026-01-21T00:27:30.0346636Z time="2026-01-21T00:27:29Z" level=info msg="Collected job entries" collector=jobs count=0 test=true
2026-01-21T00:27:30.0347439Z --- PASS: TestJobsSimpleCollector_EmptyJobList (0.00s)
2026-01-21T00:27:30.0347908Z === RUN   TestLabelHelper
2026-01-21T00:27:30.0348252Z === RUN   TestLabelHelper/ValidateAndBuildMetric
2026-01-21T00:27:30.0348894Z === RUN   TestLabelHelper/ValidateAndBuildMetricLabelMismatch
2026-01-21T00:27:30.0349824Z --- PASS: TestLabelHelper (0.00s)
2026-01-21T00:27:30.0350393Z     --- PASS: TestLabelHelper/ValidateAndBuildMetric (0.00s)
2026-01-21T00:27:30.0351202Z     --- PASS: TestLabelHelper/ValidateAndBuildMetricLabelMismatch (0.00s)
2026-01-21T00:27:30.0351842Z === RUN   TestStandardLabelSets
2026-01-21T00:27:30.0352258Z === RUN   TestStandardLabelSets/ClusterLabels
2026-01-21T00:27:30.0352809Z === RUN   TestStandardLabelSets/NodeLabels
2026-01-21T00:27:30.0353266Z === RUN   TestStandardLabelSets/JobLabels
2026-01-21T00:27:30.0353735Z === RUN   TestStandardLabelSets/PartitionLabels
2026-01-21T00:27:30.0354221Z === RUN   TestStandardLabelSets/UserLabels
2026-01-21T00:27:30.0354680Z === RUN   TestStandardLabelSets/StateLabels
2026-01-21T00:27:30.0355117Z --- PASS: TestStandardLabelSets (0.00s)
2026-01-21T00:27:30.0355678Z     --- PASS: TestStandardLabelSets/ClusterLabels (0.00s)
2026-01-21T00:27:30.0356441Z     --- PASS: TestStandardLabelSets/NodeLabels (0.00s)
2026-01-21T00:27:30.0356995Z     --- PASS: TestStandardLabelSets/JobLabels (0.00s)
2026-01-21T00:27:30.0357611Z     --- PASS: TestStandardLabelSets/PartitionLabels (0.00s)
2026-01-21T00:27:30.0358230Z     --- PASS: TestStandardLabelSets/UserLabels (0.00s)
2026-01-21T00:27:30.0358829Z     --- PASS: TestStandardLabelSets/StateLabels (0.00s)
2026-01-21T00:27:30.0359280Z === RUN   TestLabelSetBuilder
2026-01-21T00:27:30.0359676Z === RUN   TestLabelSetBuilder/FluentInterface
2026-01-21T00:27:30.0360107Z === RUN   TestLabelSetBuilder/WithJob
2026-01-21T00:27:30.0362237Z === RUN   TestLabelSetBuilder/WithCustom
2026-01-21T00:27:30.0362748Z === RUN   TestLabelSetBuilder/BuildSlice
2026-01-21T00:27:30.0363207Z --- PASS: TestLabelSetBuilder (0.00s)
2026-01-21T00:27:30.0363820Z     --- PASS: TestLabelSetBuilder/FluentInterface (0.00s)
2026-01-21T00:27:30.0364451Z     --- PASS: TestLabelSetBuilder/WithJob (0.00s)
2026-01-21T00:27:30.0365071Z     --- PASS: TestLabelSetBuilder/WithCustom (0.00s)
2026-01-21T00:27:30.0365686Z     --- PASS: TestLabelSetBuilder/BuildSlice (0.00s)
2026-01-21T00:27:30.0366203Z === RUN   TestDimensionalAnalysisReporter
2026-01-21T00:27:30.0367406Z === RUN   TestDimensionalAnalysisReporter/LogCardinalityAnalysis
2026-01-21T00:27:30.0368155Z === RUN   TestDimensionalAnalysisReporter/LogHighCardinalityWarnings
2026-01-21T00:27:30.0369111Z === RUN   TestDimensionalAnalysisReporter/LogRecommendations
2026-01-21T00:27:30.0369722Z --- PASS: TestDimensionalAnalysisReporter (0.00s)
2026-01-21T00:27:30.0370534Z     --- PASS: TestDimensionalAnalysisReporter/LogCardinalityAnalysis (0.00s)
2026-01-21T00:27:30.0371504Z     --- PASS: TestDimensionalAnalysisReporter/LogHighCardinalityWarnings (0.00s)
2026-01-21T00:27:30.0372455Z     --- PASS: TestDimensionalAnalysisReporter/LogRecommendations (0.00s)
2026-01-21T00:27:30.0373042Z === RUN   TestGetLabelNames
2026-01-21T00:27:30.0373406Z === RUN   TestGetLabelNames/GetLabelNames
2026-01-21T00:27:30.0373816Z --- PASS: TestGetLabelNames (0.00s)
2026-01-21T00:27:30.0374320Z     --- PASS: TestGetLabelNames/GetLabelNames (0.00s)
2026-01-21T00:27:30.0374789Z === RUN   TestLicensesCollector_Describe
2026-01-21T00:27:30.0375229Z --- PASS: TestLicensesCollector_Describe (0.00s)
2026-01-21T00:27:30.0375706Z === RUN   TestLicensesCollector_Collect_Success
2026-01-21T00:27:30.0377499Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:27:30.0378611Z time="2026-01-21T00:27:29Z" level=debug msg="License metrics collected" collector=licenses license_count=2 test=true
2026-01-21T00:27:30.0379508Z --- PASS: TestLicensesCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0380029Z === RUN   TestLicensesCollector_Collect_Error
2026-01-21T00:27:30.0380758Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:27:30.0382062Z time="2026-01-21T00:27:29Z" level=error msg="Failed to get licenses" collector=licenses error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0383115Z --- PASS: TestLicensesCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0383634Z === RUN   TestLicensesCollector_EmptyLicenseList
2026-01-21T00:27:30.0384372Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting license metrics" collector=licenses test=true
2026-01-21T00:27:30.0385485Z time="2026-01-21T00:27:29Z" level=debug msg="License metrics collected" collector=licenses license_count=0 test=true
2026-01-21T00:27:30.0386649Z --- PASS: TestLicensesCollector_EmptyLicenseList (0.00s)
2026-01-21T00:27:30.0387142Z === RUN   TestLoggingCollector
2026-01-21T00:27:30.0387555Z === RUN   TestLoggingCollector/SuccessfulCollection
2026-01-21T00:27:30.0388056Z === RUN   TestLoggingCollector/FailedCollection
2026-01-21T00:27:30.0388534Z === RUN   TestLoggingCollector/DisabledCollector
2026-01-21T00:27:30.0388981Z === RUN   TestLoggingCollector/SetEnabled
2026-01-21T00:27:30.0389556Z === RUN   TestLoggingCollector/Describe
2026-01-21T00:27:30.0389967Z --- PASS: TestLoggingCollector (0.00s)
2026-01-21T00:27:30.0390565Z     --- PASS: TestLoggingCollector/SuccessfulCollection (0.00s)
2026-01-21T00:27:30.0391249Z     --- PASS: TestLoggingCollector/FailedCollection (0.00s)
2026-01-21T00:27:30.0391917Z     --- PASS: TestLoggingCollector/DisabledCollector (0.00s)
2026-01-21T00:27:30.0392566Z     --- PASS: TestLoggingCollector/SetEnabled (0.00s)
2026-01-21T00:27:30.0393140Z     --- PASS: TestLoggingCollector/Describe (0.00s)
2026-01-21T00:27:30.0393588Z === RUN   TestCollectorLogger
2026-01-21T00:27:30.0393966Z === RUN   TestCollectorLogger/LogCollection
2026-01-21T00:27:30.0394399Z === RUN   TestCollectorLogger/LogError
2026-01-21T00:27:30.0394764Z === RUN   TestCollectorLogger/LogMetric
2026-01-21T00:27:30.0395170Z === RUN   TestCollectorLogger/LogPerformance
2026-01-21T00:27:30.0395582Z --- PASS: TestCollectorLogger (0.00s)
2026-01-21T00:27:30.0396106Z     --- PASS: TestCollectorLogger/LogCollection (0.00s)
2026-01-21T00:27:30.0396658Z     --- PASS: TestCollectorLogger/LogError (0.00s)
2026-01-21T00:27:30.0397195Z     --- PASS: TestCollectorLogger/LogMetric (0.00s)
2026-01-21T00:27:30.0397809Z     --- PASS: TestCollectorLogger/LogPerformance (0.00s)
2026-01-21T00:27:30.0398260Z === RUN   TestStructuredLogger
2026-01-21T00:27:30.0398638Z === RUN   TestStructuredLogger/WithCollector
2026-01-21T00:27:30.0399099Z === RUN   TestStructuredLogger/WithOperation
2026-01-21T00:27:30.0399559Z === RUN   TestStructuredLogger/WithDuration
2026-01-21T00:27:30.0399989Z === RUN   TestStructuredLogger/WithError
2026-01-21T00:27:30.0400427Z === RUN   TestStructuredLogger/WithContext
2026-01-21T00:27:30.0410565Z === RUN   TestStructuredLogger/LogEntry
2026-01-21T00:27:30.0411054Z --- PASS: TestStructuredLogger (0.00s)
2026-01-21T00:27:30.0411657Z     --- PASS: TestStructuredLogger/WithCollector (0.00s)
2026-01-21T00:27:30.0412309Z     --- PASS: TestStructuredLogger/WithOperation (0.00s)
2026-01-21T00:27:30.0412950Z     --- PASS: TestStructuredLogger/WithDuration (0.00s)
2026-01-21T00:27:30.0413551Z     --- PASS: TestStructuredLogger/WithError (0.00s)
2026-01-21T00:27:30.0414142Z     --- PASS: TestStructuredLogger/WithContext (0.00s)
2026-01-21T00:27:30.0414716Z     --- PASS: TestStructuredLogger/LogEntry (0.00s)
2026-01-21T00:27:30.0415155Z === RUN   TestNodeCollector
2026-01-21T00:27:30.0415762Z === RUN   TestNodeCollector/Name
2026-01-21T00:27:30.0416140Z === RUN   TestNodeCollector/Enabled
2026-01-21T00:27:30.0416533Z === RUN   TestNodeCollector/Describe
2026-01-21T00:27:30.0416922Z === RUN   TestNodeCollector/Collect
2026-01-21T00:27:30.0417355Z === RUN   TestNodeCollector/CollectNodeInfo
2026-01-21T00:27:30.0417827Z === RUN   TestNodeCollector/CollectNodeStates
2026-01-21T00:27:30.0418325Z === RUN   TestNodeCollector/CollectNodeUtilization
2026-01-21T00:27:30.0418832Z === RUN   TestNodeCollector/CollectNodeHealth
2026-01-21T00:27:30.0419282Z --- PASS: TestNodeCollector (0.00s)
2026-01-21T00:27:30.0419777Z     --- PASS: TestNodeCollector/Name (0.00s)
2026-01-21T00:27:30.0420314Z     --- PASS: TestNodeCollector/Enabled (0.00s)
2026-01-21T00:27:30.0420868Z     --- PASS: TestNodeCollector/Describe (0.00s)
2026-01-21T00:27:30.0421416Z     --- PASS: TestNodeCollector/Collect (0.00s)
2026-01-21T00:27:30.0421996Z     --- PASS: TestNodeCollector/CollectNodeInfo (0.00s)
2026-01-21T00:27:30.0422627Z     --- PASS: TestNodeCollector/CollectNodeStates (0.00s)
2026-01-21T00:27:30.0423366Z     --- PASS: TestNodeCollector/CollectNodeUtilization (0.00s)
2026-01-21T00:27:30.0424085Z     --- PASS: TestNodeCollector/CollectNodeHealth (0.00s)
2026-01-21T00:27:30.0424635Z === RUN   TestNodeCollectorIntegration
2026-01-21T00:27:30.0425281Z     node_test.go:365: Successfully collected 65 metrics
2026-01-21T00:27:30.0426417Z     node_test.go:366: Metric breakdown: map[hardware:8 health:15 info:3 state:24 utilization:6]
2026-01-21T00:27:30.0427433Z --- PASS: TestNodeCollectorIntegration (0.00s)
2026-01-21T00:27:30.0427989Z === RUN   TestNodesSimpleCollector_Describe
2026-01-21T00:27:30.0428517Z --- PASS: TestNodesSimpleCollector_Describe (0.00s)
2026-01-21T00:27:30.0429020Z === RUN   TestNodesSimpleCollector_Collect_Success
2026-01-21T00:27:30.0429822Z time="2026-01-21T00:27:29Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:27:30.0430664Z --- PASS: TestNodesSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0431558Z === RUN   TestNodesSimpleCollector_Collect_Disabled
2026-01-21T00:27:30.0432165Z --- PASS: TestNodesSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0432742Z === RUN   TestNodesSimpleCollector_Collect_Error
2026-01-21T00:27:30.0433762Z time="2026-01-21T00:27:29Z" level=error msg="Failed to list nodes" collector=nodes error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0434848Z --- PASS: TestNodesSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0435435Z === RUN   TestNodesSimpleCollector_CustomLabels
2026-01-21T00:27:30.0436224Z time="2026-01-21T00:27:29Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:27:30.0437128Z --- PASS: TestNodesSimpleCollector_CustomLabels (0.00s)
2026-01-21T00:27:30.0438191Z === RUN   TestNodesSimpleCollector_EmptyNodeList
2026-01-21T00:27:30.0439798Z time="2026-01-21T00:27:29Z" level=info msg="Collected node entries" collector=nodes count=0 test=true
2026-01-21T00:27:30.0440821Z --- PASS: TestNodesSimpleCollector_EmptyNodeList (0.00s)
2026-01-21T00:27:30.0441431Z === RUN   TestNodesSimpleCollector_StateDistribution
2026-01-21T00:27:30.0442534Z time="2026-01-21T00:27:29Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:27:30.0443443Z --- PASS: TestNodesSimpleCollector_StateDistribution (0.00s)
2026-01-21T00:27:30.0444063Z === RUN   TestNodesSimpleCollector_ResourceMetrics
2026-01-21T00:27:30.0445176Z time="2026-01-21T00:27:29Z" level=info msg="Collected node entries" collector=nodes count=6 test=true
2026-01-21T00:27:30.0446096Z --- PASS: TestNodesSimpleCollector_ResourceMetrics (0.00s)
2026-01-21T00:27:30.0446683Z === RUN   TestPartitionCollector
2026-01-21T00:27:30.0447090Z === RUN   TestPartitionCollector/Name
2026-01-21T00:27:30.0447556Z === RUN   TestPartitionCollector/Enabled
2026-01-21T00:27:30.0448014Z === RUN   TestPartitionCollector/Describe
2026-01-21T00:27:30.0448700Z === RUN   TestPartitionCollector/Collect
2026-01-21T00:27:30.0449217Z === RUN   TestPartitionCollector/CollectPartitionInfo
2026-01-21T00:27:30.0449847Z === RUN   TestPartitionCollector/CollectPartitionUtilization
2026-01-21T00:27:30.0450477Z === RUN   TestPartitionCollector/CollectPartitionPolicies
2026-01-21T00:27:30.0451000Z --- PASS: TestPartitionCollector (0.00s)
2026-01-21T00:27:30.0451571Z     --- PASS: TestPartitionCollector/Name (0.00s)
2026-01-21T00:27:30.0452166Z     --- PASS: TestPartitionCollector/Enabled (0.00s)
2026-01-21T00:27:30.0452781Z     --- PASS: TestPartitionCollector/Describe (0.00s)
2026-01-21T00:27:30.0453375Z     --- PASS: TestPartitionCollector/Collect (0.00s)
2026-01-21T00:27:30.0454048Z     --- PASS: TestPartitionCollector/CollectPartitionInfo (0.00s)
2026-01-21T00:27:30.0454864Z     --- PASS: TestPartitionCollector/CollectPartitionUtilization (0.00s)
2026-01-21T00:27:30.0455698Z     --- PASS: TestPartitionCollector/CollectPartitionPolicies (0.00s)
2026-01-21T00:27:30.0456320Z === RUN   TestPartitionCollectorDataTypes
2026-01-21T00:27:30.0456841Z === RUN   TestPartitionCollectorDataTypes/PartitionInfo
2026-01-21T00:27:30.0457433Z === RUN   TestPartitionCollectorDataTypes/PartitionLimits
2026-01-21T00:27:30.0458039Z === RUN   TestPartitionCollectorDataTypes/PartitionPolicies
2026-01-21T00:27:30.0458623Z --- PASS: TestPartitionCollectorDataTypes (0.00s)
2026-01-21T00:27:30.0459339Z     --- PASS: TestPartitionCollectorDataTypes/PartitionInfo (0.00s)
2026-01-21T00:27:30.0460362Z     --- PASS: TestPartitionCollectorDataTypes/PartitionLimits (0.00s)
2026-01-21T00:27:30.0461228Z     --- PASS: TestPartitionCollectorDataTypes/PartitionPolicies (0.00s)
2026-01-21T00:27:30.0462672Z === RUN   TestPartitionCollectorIntegration
2026-01-21T00:27:30.0464403Z     partition_test.go:423: Successfully collected 85 metrics
2026-01-21T00:27:30.0465461Z     partition_test.go:424: Metric breakdown: map[info:5 policies:15 resources:25 state:20 utilization:20]
2026-01-21T00:27:30.0466354Z --- PASS: TestPartitionCollectorIntegration (0.00s)
2026-01-21T00:27:30.0466923Z === RUN   TestPartitionsSimpleCollector_Describe
2026-01-21T00:27:30.0467486Z --- PASS: TestPartitionsSimpleCollector_Describe (0.00s)
2026-01-21T00:27:30.0468108Z === RUN   TestPartitionsSimpleCollector_Collect_Success
2026-01-21T00:27:30.0468956Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:27:30.0469957Z --- PASS: TestPartitionsSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0470650Z === RUN   TestPartitionsSimpleCollector_Collect_Disabled
2026-01-21T00:27:30.0471319Z --- PASS: TestPartitionsSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0471994Z === RUN   TestPartitionsSimpleCollector_Collect_Error
2026-01-21T00:27:30.0473186Z time="2026-01-21T00:27:29Z" level=error msg="Failed to list partitions" collector=partitions error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0474414Z --- PASS: TestPartitionsSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0475047Z === RUN   TestPartitionsSimpleCollector_StateMetrics
2026-01-21T00:27:30.0475972Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:27:30.0476964Z --- PASS: TestPartitionsSimpleCollector_StateMetrics (0.00s)
2026-01-21T00:27:30.0477608Z === RUN   TestPartitionsSimpleCollector_ResourceMetrics
2026-01-21T00:27:30.0478535Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:27:30.0479540Z --- PASS: TestPartitionsSimpleCollector_ResourceMetrics (0.00s)
2026-01-21T00:27:30.0480247Z === RUN   TestPartitionsSimpleCollector_LimitMetrics
2026-01-21T00:27:30.0481199Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:27:30.0482590Z --- PASS: TestPartitionsSimpleCollector_LimitMetrics (0.00s)
2026-01-21T00:27:30.0483561Z === RUN   TestPartitionsSimpleCollector_EmptyPartitionList
2026-01-21T00:27:30.0484550Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=0 test=true
2026-01-21T00:27:30.0485614Z --- PASS: TestPartitionsSimpleCollector_EmptyPartitionList (0.00s)
2026-01-21T00:27:30.0486282Z === RUN   TestPartitionsSimpleCollector_QOSMetrics
2026-01-21T00:27:30.0487141Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=5 test=true
2026-01-21T00:27:30.0488136Z --- PASS: TestPartitionsSimpleCollector_QOSMetrics (0.00s)
2026-01-21T00:27:30.0488734Z === RUN   TestPartitionsSimpleCollector_ActivePartitions
2026-01-21T00:27:30.0489630Z time="2026-01-21T00:27:29Z" level=info msg="Collected partition entries" collector=partitions count=4 test=true
2026-01-21T00:27:30.0490619Z --- PASS: TestPartitionsSimpleCollector_ActivePartitions (0.00s)
2026-01-21T00:27:30.0491292Z === RUN   TestPerformanceSimpleCollector_Describe
2026-01-21T00:27:30.0491922Z --- PASS: TestPerformanceSimpleCollector_Describe (0.00s)
2026-01-21T00:27:30.0492566Z === RUN   TestPerformanceSimpleCollector_Collect_Success
2026-01-21T00:27:30.0493645Z time="2026-01-21T00:27:29Z" level=info msg="Collected performance data" collector=performance jobs=1 nodes=1 partitions=1 test=true
2026-01-21T00:27:30.0494759Z --- PASS: TestPerformanceSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0495466Z === RUN   TestPerformanceSimpleCollector_Collect_Disabled
2026-01-21T00:27:30.0497246Z --- PASS: TestPerformanceSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0497873Z === RUN   TestProfiledCollector
2026-01-21T00:27:30.0498327Z === RUN   TestProfiledCollector/NewProfiledCollector
2026-01-21T00:27:30.0498879Z === RUN   TestProfiledCollector/NilCollector
2026-01-21T00:27:30.0499338Z === RUN   TestProfiledCollector/Collect
2026-01-21T00:27:30.0499795Z === RUN   TestProfiledCollector/CollectWithError
2026-01-21T00:27:30.0500679Z time="2026-01-21T00:27:29Z" level=error msg="Collection failed" collector=error_collector error="test error"
2026-01-21T00:27:30.0501503Z === RUN   TestProfiledCollector/SlowCollection
2026-01-21T00:27:30.0502363Z === RUN   TestProfiledCollector/ProfilingDisabled
2026-01-21T00:27:30.0502832Z --- PASS: TestProfiledCollector (0.10s)
2026-01-21T00:27:30.0503429Z     --- PASS: TestProfiledCollector/NewProfiledCollector (0.00s)
2026-01-21T00:27:30.0504100Z     --- PASS: TestProfiledCollector/NilCollector (0.00s)
2026-01-21T00:27:30.0504701Z     --- PASS: TestProfiledCollector/Collect (0.02s)
2026-01-21T00:27:30.0505334Z     --- PASS: TestProfiledCollector/CollectWithError (0.00s)
2026-01-21T00:27:30.0505985Z     --- PASS: TestProfiledCollector/SlowCollection (0.08s)
2026-01-21T00:27:30.0506671Z     --- PASS: TestProfiledCollector/ProfilingDisabled (0.00s)
2026-01-21T00:27:30.0507201Z === RUN   TestProfiledCollectorManager
2026-01-21T00:27:30.0507682Z === RUN   TestProfiledCollectorManager/WrapCollector
2026-01-21T00:27:30.0508251Z === RUN   TestProfiledCollectorManager/SetProfilingEnabled
2026-01-21T00:27:30.0508864Z === RUN   TestProfiledCollectorManager/SetProfilingEnabledAll
2026-01-21T00:27:30.0509480Z === RUN   TestProfiledCollectorManager/GetCollectorProfiles
2026-01-21T00:27:30.0510062Z === RUN   TestProfiledCollectorManager/GetAllProfiles
2026-01-21T00:27:30.0510597Z === RUN   TestProfiledCollectorManager/GetStats
2026-01-21T00:27:30.0511102Z --- PASS: TestProfiledCollectorManager (0.02s)
2026-01-21T00:27:30.0511778Z     --- PASS: TestProfiledCollectorManager/WrapCollector (0.00s)
2026-01-21T00:27:30.0512605Z     --- PASS: TestProfiledCollectorManager/SetProfilingEnabled (0.00s)
2026-01-21T00:27:30.0513482Z     --- PASS: TestProfiledCollectorManager/SetProfilingEnabledAll (0.00s)
2026-01-21T00:27:30.0514351Z     --- PASS: TestProfiledCollectorManager/GetCollectorProfiles (0.02s)
2026-01-21T00:27:30.0515166Z     --- PASS: TestProfiledCollectorManager/GetAllProfiles (0.00s)
2026-01-21T00:27:30.0516166Z     --- PASS: TestProfiledCollectorManager/GetStats (0.00s)
2026-01-21T00:27:30.0516677Z === RUN   TestQoSCollector_Describe
2026-01-21T00:27:30.0517122Z --- PASS: TestQoSCollector_Describe (0.00s)
2026-01-21T00:27:30.0517585Z === RUN   TestQoSCollector_Collect_Success
2026-01-21T00:27:30.0518371Z time="2026-01-21T00:27:29Z" level=debug msg="Collected QoS entries" collector=qos count=2 test=true
2026-01-21T00:27:30.0519198Z --- PASS: TestQoSCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0519708Z === RUN   TestQoSCollector_Collect_Disabled
2026-01-21T00:27:30.0520214Z --- PASS: TestQoSCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0520719Z === RUN   TestQoSCollector_Collect_Error
2026-01-21T00:27:30.0521713Z time="2026-01-21T00:27:29Z" level=error msg="Failed to list QoS" collector=qos error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0523165Z --- PASS: TestQoSCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0523664Z === RUN   TestQoSCollector_EmptyQoSList
2026-01-21T00:27:30.0524434Z time="2026-01-21T00:27:29Z" level=debug msg="Collected QoS entries" collector=qos count=0 test=true
2026-01-21T00:27:30.0525247Z --- PASS: TestQoSCollector_EmptyQoSList (0.00s)
2026-01-21T00:27:30.0525709Z === RUN   TestRegistry
2026-01-21T00:27:30.0526037Z === RUN   TestRegistry/RegisterAndGet
2026-01-21T00:27:30.0526834Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=test component=collector_registry
2026-01-21T00:27:30.0527630Z === RUN   TestRegistry/List
2026-01-21T00:27:30.0529107Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=test component=collector_registry
2026-01-21T00:27:30.0530555Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=test component=collector_registry
2026-01-21T00:27:30.0531760Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=a component=collector_registry
2026-01-21T00:27:30.0532988Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=b component=collector_registry
2026-01-21T00:27:30.0534131Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=c component=collector_registry
2026-01-21T00:27:30.0534909Z === RUN   TestRegistry/EnableDisable
2026-01-21T00:27:30.0535721Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=toggle component=collector_registry
2026-01-21T00:27:30.0536935Z time="2026-01-21T00:27:29Z" level=info msg="Collector disabled" collector=toggle component=collector_registry
2026-01-21T00:27:30.0538131Z time="2026-01-21T00:27:29Z" level=info msg="Collector enabled" collector=toggle component=collector_registry
2026-01-21T00:27:30.0538976Z === RUN   TestRegistry/Unregister
2026-01-21T00:27:30.0539754Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=temp component=collector_registry
2026-01-21T00:27:30.0541158Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=temp component=collector_registry
2026-01-21T00:27:30.0542981Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=temp component=collector_registry
2026-01-21T00:27:30.0543872Z === RUN   TestRegistry/CollectAll
2026-01-21T00:27:30.0544814Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=b component=collector_registry
2026-01-21T00:27:30.0546144Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=b component=collector_registry
2026-01-21T00:27:30.0547483Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=c component=collector_registry
2026-01-21T00:27:30.0548802Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=c component=collector_registry
2026-01-21T00:27:30.0550189Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=toggle component=collector_registry
2026-01-21T00:27:30.0551835Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=toggle component=collector_registry
2026-01-21T00:27:30.0553269Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=a component=collector_registry
2026-01-21T00:27:30.0554627Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=a component=collector_registry
2026-01-21T00:27:30.0555818Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=success component=collector_registry
2026-01-21T00:27:30.0557033Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=fail component=collector_registry
2026-01-21T00:27:30.0558260Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=disabled component=collector_registry
2026-01-21T00:27:30.0559091Z === RUN   TestRegistry/GetStats
2026-01-21T00:27:30.0560085Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=success component=collector_registry
2026-01-21T00:27:30.0561529Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=success component=collector_registry
2026-01-21T00:27:30.0563329Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=fail component=collector_registry
2026-01-21T00:27:30.0565295Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=fail component=collector_registry
2026-01-21T00:27:30.0566775Z time="2026-01-21T00:27:29Z" level=warning msg="Failed to unregister collector from prometheus" collector=disabled component=collector_registry
2026-01-21T00:27:30.0568289Z time="2026-01-21T00:27:29Z" level=info msg="Collector unregistered" collector=disabled component=collector_registry
2026-01-21T00:27:30.0569555Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=mock component=collector_registry
2026-01-21T00:27:30.0570766Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=base component=collector_registry
2026-01-21T00:27:30.0571582Z --- PASS: TestRegistry (0.00s)
2026-01-21T00:27:30.0572076Z     --- PASS: TestRegistry/RegisterAndGet (0.00s)
2026-01-21T00:27:30.0572604Z     --- PASS: TestRegistry/List (0.00s)
2026-01-21T00:27:30.0573131Z     --- PASS: TestRegistry/EnableDisable (0.00s)
2026-01-21T00:27:30.0573658Z     --- PASS: TestRegistry/Unregister (0.00s)
2026-01-21T00:27:30.0574173Z     --- PASS: TestRegistry/CollectAll (0.00s)
2026-01-21T00:27:30.0574687Z     --- PASS: TestRegistry/GetStats (0.00s)
2026-01-21T00:27:30.0575121Z === RUN   TestCollectorAdapter
2026-01-21T00:27:30.0575511Z === RUN   TestCollectorAdapter/Describe
2026-01-21T00:27:30.0575944Z === RUN   TestCollectorAdapter/Collect
2026-01-21T00:27:30.0576398Z === RUN   TestCollectorAdapter/CollectWithError
2026-01-21T00:27:30.0577261Z time="2026-01-21T00:27:29Z" level=error msg="Collection failed" collector=error_test error="collection error"
2026-01-21T00:27:30.0578103Z --- PASS: TestCollectorAdapter (0.00s)
2026-01-21T00:27:30.0578646Z     --- PASS: TestCollectorAdapter/Describe (0.00s)
2026-01-21T00:27:30.0579231Z     --- PASS: TestCollectorAdapter/Collect (0.00s)
2026-01-21T00:27:30.0579873Z     --- PASS: TestCollectorAdapter/CollectWithError (0.00s)
2026-01-21T00:27:30.0580389Z === RUN   TestCollectorFactory
2026-01-21T00:27:30.0580775Z --- PASS: TestCollectorFactory (0.00s)
2026-01-21T00:27:30.0581235Z === RUN   TestReservationCollector_Describe
2026-01-21T00:27:30.0581740Z --- PASS: TestReservationCollector_Describe (0.00s)
2026-01-21T00:27:30.0582284Z === RUN   TestReservationCollector_Collect_Success
2026-01-21T00:27:30.0583514Z time="2026-01-21T00:27:29Z" level=debug msg="Collected reservation entries" collector=reservation count=2 test=true
2026-01-21T00:27:30.0584481Z --- PASS: TestReservationCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0585303Z === RUN   TestReservationCollector_Collect_Disabled
2026-01-21T00:27:30.0585890Z --- PASS: TestReservationCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0586480Z === RUN   TestReservationCollector_Collect_Error
2026-01-21T00:27:30.0587620Z time="2026-01-21T00:27:29Z" level=error msg="Failed to list reservations" collector=reservation error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0588851Z --- PASS: TestReservationCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0589538Z === RUN   TestReservationCollector_EmptyReservationList
2026-01-21T00:27:30.0590491Z time="2026-01-21T00:27:29Z" level=debug msg="Collected reservation entries" collector=reservation count=0 test=true
2026-01-21T00:27:30.0591512Z --- PASS: TestReservationCollector_EmptyReservationList (0.00s)
2026-01-21T00:27:30.0592065Z === RUN   TestScheduler
2026-01-21T00:27:30.0592823Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:27:30.0594074Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=nodes component=collector_registry
2026-01-21T00:27:30.0595268Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=jobs component=collector_registry
2026-01-21T00:27:30.0596118Z === RUN   TestScheduler/InitializeSchedules
2026-01-21T00:27:30.0597269Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0647165Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:27:30.0648996Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:27:30.0650722Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0652432Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0654212Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0655976Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0657138Z === RUN   TestScheduler/ScheduledCollection
2026-01-21T00:27:30.0657943Z time="2026-01-21T00:27:29Z" level=info msg="Starting collection scheduler" component=scheduler
2026-01-21T00:27:30.0659137Z time="2026-01-21T00:27:29Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:27:30.0660276Z time="2026-01-21T00:27:29Z" level=info msg="Stopping collection scheduler" component=scheduler
2026-01-21T00:27:30.0662971Z time="2026-01-21T00:27:29Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:27:30.0664194Z === RUN   TestScheduler/UpdateSchedule
2026-01-21T00:27:30.0665014Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:27:30.0666499Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0668296Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0670007Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0671991Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:27:30.0673653Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:27:30.0675330Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0677009Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0678562Z time="2026-01-21T00:27:29Z" level=info msg="Updated collection schedule" collector=cluster component=scheduler interval=150ms timeout=50ms
2026-01-21T00:27:30.0679524Z === RUN   TestScheduler/EnableDisableSchedule
2026-01-21T00:27:30.0680335Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:27:30.0684371Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:27:30.0686156Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0688119Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0689932Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0691777Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0693568Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0695333Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:27:30.0696804Z time="2026-01-21T00:27:29Z" level=info msg="Disabled collection schedule" collector=cluster component=scheduler
2026-01-21T00:27:30.0697998Z time="2026-01-21T00:27:29Z" level=info msg="Enabled collection schedule" collector=cluster component=scheduler
2026-01-21T00:27:30.0698810Z === RUN   TestScheduler/ScheduleStats
2026-01-21T00:27:30.0699611Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:27:30.0701046Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0702779Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0704887Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0706722Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0708514Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=100ms timeout=50ms
2026-01-21T00:27:30.0710190Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:27:30.0714196Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=true interval=75ms timeout=25ms
2026-01-21T00:27:30.0715541Z --- PASS: TestScheduler (0.21s)
2026-01-21T00:27:30.0716043Z     --- PASS: TestScheduler/InitializeSchedules (0.00s)
2026-01-21T00:27:30.0716658Z     --- PASS: TestScheduler/ScheduledCollection (0.20s)
2026-01-21T00:27:30.0717215Z     --- PASS: TestScheduler/UpdateSchedule (0.01s)
2026-01-21T00:27:30.0717808Z     --- PASS: TestScheduler/EnableDisableSchedule (0.00s)
2026-01-21T00:27:30.0718394Z     --- PASS: TestScheduler/ScheduleStats (0.00s)
2026-01-21T00:27:30.0718867Z === RUN   TestSchedulerErrorHandling
2026-01-21T00:27:30.0719580Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:27:30.0720911Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0722465Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0723999Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0725925Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0727792Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0729513Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0731102Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:27:30.0732298Z time="2026-01-21T00:27:29Z" level=info msg="Starting collection scheduler" component=scheduler
2026-01-21T00:27:30.0733259Z time="2026-01-21T00:27:29Z" level=info msg="Starting collection orchestrator" component=collection_orchestrator
2026-01-21T00:27:30.0734555Z time="2026-01-21T00:27:29Z" level=error msg="Collection failed" collector=cluster component=concurrent_collector error="collection failed"
2026-01-21T00:27:30.0735995Z time="2026-01-21T00:27:29Z" level=error msg="Scheduled collection failed" collector=cluster component=scheduler error="collection failed"
2026-01-21T00:27:30.0737459Z time="2026-01-21T00:27:29Z" level=error msg="Scheduled collection failed" collector=cluster component=collection_orchestrator error="collection failed"
2026-01-21T00:27:30.0739017Z time="2026-01-21T00:27:29Z" level=error msg="Scheduled collection failed" collector=cluster component=collection_orchestrator error="collection failed"
2026-01-21T00:27:30.0740541Z time="2026-01-21T00:27:29Z" level=error msg="Collection failed" collector=cluster component=concurrent_collector error="collection failed"
2026-01-21T00:27:30.0742904Z time="2026-01-21T00:27:29Z" level=error msg="Scheduled collection failed" collector=cluster component=scheduler error="collection failed"
2026-01-21T00:27:30.0744218Z time="2026-01-21T00:27:29Z" level=info msg="Stopping collection scheduler" component=scheduler
2026-01-21T00:27:30.0747046Z time="2026-01-21T00:27:29Z" level=info msg="Stopping collection orchestrator" component=collection_orchestrator
2026-01-21T00:27:30.0747977Z --- PASS: TestSchedulerErrorHandling (0.15s)
2026-01-21T00:27:30.0748437Z === RUN   TestScheduleHealthCheck
2026-01-21T00:27:30.0749254Z time="2026-01-21T00:27:29Z" level=info msg="Collector registered" collector=cluster component=collector_registry
2026-01-21T00:27:30.0751181Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=jobs component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0754818Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=users component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0759810Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=partitions component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0761275Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=performance component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0762666Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=system component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0764022Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=cluster component=scheduler enabled=true interval=50ms timeout=25ms
2026-01-21T00:27:30.0765354Z time="2026-01-21T00:27:29Z" level=info msg="Initialized collection schedule" collector=nodes component=scheduler enabled=false interval=50ms timeout=25ms
2026-01-21T00:27:30.0768624Z time="2026-01-21T00:27:29Z" level=warning msg="Schedule is running behind" collector=cluster component=scheduler error_count=0 interval=50ms next_run="2026-01-21 00:27:29.7267892 +0000 UTC m=+1.365494901" run_count=0
2026-01-21T00:27:30.0769765Z --- PASS: TestScheduleHealthCheck (0.00s)
2026-01-21T00:27:30.0770103Z === RUN   TestSchedulerMetrics
2026-01-21T00:27:30.0770426Z --- PASS: TestSchedulerMetrics (0.00s)
2026-01-21T00:27:30.0772501Z === RUN   TestSharesCollector_Describe
2026-01-21T00:27:30.0772893Z --- PASS: TestSharesCollector_Describe (0.00s)
2026-01-21T00:27:30.0773275Z === RUN   TestSharesCollector_Collect_Success
2026-01-21T00:27:30.0773872Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:27:30.0774766Z time="2026-01-21T00:27:29Z" level=debug msg="Fairshare metrics collected" collector=shares share_count=2 test=true
2026-01-21T00:27:30.0775924Z --- PASS: TestSharesCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0776481Z === RUN   TestSharesCollector_Collect_Error
2026-01-21T00:27:30.0777308Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:27:30.0778550Z time="2026-01-21T00:27:29Z" level=error msg="Failed to get shares" collector=shares error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0779556Z --- PASS: TestSharesCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0780057Z === RUN   TestSharesCollector_EmptySharesList
2026-01-21T00:27:30.0780820Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting fairshare metrics" collector=shares test=true
2026-01-21T00:27:30.0781957Z time="2026-01-21T00:27:29Z" level=debug msg="Fairshare metrics collected" collector=shares share_count=0 test=true
2026-01-21T00:27:30.0782858Z --- PASS: TestSharesCollector_EmptySharesList (0.00s)
2026-01-21T00:27:30.0783384Z === RUN   TestSystemSimpleCollector_Describe
2026-01-21T00:27:30.0783902Z --- PASS: TestSystemSimpleCollector_Describe (0.00s)
2026-01-21T00:27:30.0784447Z === RUN   TestSystemSimpleCollector_Collect_Success
2026-01-21T00:27:30.0785200Z time="2026-01-21T00:27:29Z" level=info msg="Collected system metrics" collector=system test=true
2026-01-21T00:27:30.0786020Z --- PASS: TestSystemSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0786613Z === RUN   TestSystemSimpleCollector_Collect_Disabled
2026-01-21T00:27:30.0787298Z --- PASS: TestSystemSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0787851Z === RUN   TestTRESCollector_Describe
2026-01-21T00:27:30.0788289Z --- PASS: TestTRESCollector_Describe (0.00s)
2026-01-21T00:27:30.0788754Z === RUN   TestTRESCollector_Collect_Success
2026-01-21T00:27:30.0789450Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:27:30.0790668Z time="2026-01-21T00:27:29Z" level=debug msg="TRES metrics collected" collector=tres test=true tres_count=4
2026-01-21T00:27:30.0791469Z --- PASS: TestTRESCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0791973Z === RUN   TestTRESCollector_Collect_Error
2026-01-21T00:27:30.0792665Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:27:30.0793984Z time="2026-01-21T00:27:29Z" level=error msg="Failed to get TRES" collector=tres error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0795058Z --- PASS: TestTRESCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0795807Z === RUN   TestTRESCollector_EmptyTRESList
2026-01-21T00:27:30.0796491Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting TRES metrics" collector=tres test=true
2026-01-21T00:27:30.0797500Z time="2026-01-21T00:27:29Z" level=debug msg="TRES metrics collected" collector=tres test=true tres_count=0
2026-01-21T00:27:30.0798305Z --- PASS: TestTRESCollector_EmptyTRESList (0.00s)
2026-01-21T00:27:30.0798770Z === RUN   TestUserCollector
2026-01-21T00:27:30.0799210Z === RUN   TestUserCollector/Name
2026-01-21T00:27:30.0799615Z === RUN   TestUserCollector/Enabled
2026-01-21T00:27:30.0800005Z === RUN   TestUserCollector/Describe
2026-01-21T00:27:30.0800399Z === RUN   TestUserCollector/Collect
2026-01-21T00:27:30.0800791Z === RUN   TestUserCollector/CollectUserStats
2026-01-21T00:27:30.0801250Z === RUN   TestUserCollector/CollectAccountStats
2026-01-21T00:27:30.0801706Z --- PASS: TestUserCollector (0.00s)
2026-01-21T00:27:30.0802494Z     --- PASS: TestUserCollector/Name (0.00s)
2026-01-21T00:27:30.0805898Z     --- PASS: TestUserCollector/Enabled (0.00s)
2026-01-21T00:27:30.0806451Z     --- PASS: TestUserCollector/Describe (0.00s)
2026-01-21T00:27:30.0807032Z     --- PASS: TestUserCollector/Collect (0.00s)
2026-01-21T00:27:30.0807602Z     --- PASS: TestUserCollector/CollectUserStats (0.00s)
2026-01-21T00:27:30.0826305Z     --- PASS: TestUserCollector/CollectAccountStats (0.00s)
2026-01-21T00:27:30.0826907Z === RUN   TestUserCollectorIntegration
2026-01-21T00:27:30.0827549Z     user_test.go:298: Successfully collected 56 metrics
2026-01-21T00:27:30.0828254Z     user_test.go:299: Metric breakdown: map[account:32 user:56]
2026-01-21T00:27:30.0828855Z --- PASS: TestUserCollectorIntegration (0.00s)
2026-01-21T00:27:30.0829396Z === RUN   TestUsersSimpleCollector_Describe
2026-01-21T00:27:30.0829926Z --- PASS: TestUsersSimpleCollector_Describe (0.00s)
2026-01-21T00:27:30.0830500Z === RUN   TestUsersSimpleCollector_Collect_Success
2026-01-21T00:27:30.0831339Z time="2026-01-21T00:27:29Z" level=info msg="Collected user entries" collector=users count=2 test=true
2026-01-21T00:27:30.0832229Z --- PASS: TestUsersSimpleCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0832847Z === RUN   TestUsersSimpleCollector_Collect_Disabled
2026-01-21T00:27:30.0833446Z --- PASS: TestUsersSimpleCollector_Collect_Disabled (0.00s)
2026-01-21T00:27:30.0834062Z === RUN   TestUsersSimpleCollector_Collect_Error
2026-01-21T00:27:30.0835102Z time="2026-01-21T00:27:29Z" level=error msg="Failed to list users" collector=users error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0836512Z --- PASS: TestUsersSimpleCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0837175Z === RUN   TestUsersSimpleCollector_EmptyUserList
2026-01-21T00:27:30.0838024Z time="2026-01-21T00:27:29Z" level=info msg="Collected user entries" collector=users count=0 test=true
2026-01-21T00:27:30.0838916Z --- PASS: TestUsersSimpleCollector_EmptyUserList (0.00s)
2026-01-21T00:27:30.0840284Z === RUN   TestWCKeysCollector_Describe
2026-01-21T00:27:30.0840806Z --- PASS: TestWCKeysCollector_Describe (0.00s)
2026-01-21T00:27:30.0841326Z === RUN   TestWCKeysCollector_Collect_Success
2026-01-21T00:27:30.0842114Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:27:30.0843239Z time="2026-01-21T00:27:29Z" level=debug msg="WCKeys metrics collected" collector=wckeys test=true wckey_count=2
2026-01-21T00:27:30.0844456Z --- PASS: TestWCKeysCollector_Collect_Success (0.00s)
2026-01-21T00:27:30.0844981Z === RUN   TestWCKeysCollector_Collect_Error
2026-01-21T00:27:30.0845740Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:27:30.0847054Z time="2026-01-21T00:27:29Z" level=error msg="Failed to get WCKeys" collector=wckeys error="assert.AnError general error for testing" test=true
2026-01-21T00:27:30.0848103Z --- PASS: TestWCKeysCollector_Collect_Error (0.00s)
2026-01-21T00:27:30.0848636Z === RUN   TestWCKeysCollector_EmptyWCKeyList
2026-01-21T00:27:30.0849385Z time="2026-01-21T00:27:29Z" level=debug msg="Collecting WCKeys metrics" collector=wckeys test=true
2026-01-21T00:27:30.0850496Z time="2026-01-21T00:27:29Z" level=debug msg="WCKeys metrics collected" collector=wckeys test=true wckey_count=0
2026-01-21T00:27:30.0851377Z --- PASS: TestWCKeysCollector_EmptyWCKeyList (0.00s)
2026-01-21T00:27:30.0851819Z PASS
2026-01-21T00:27:30.0852094Z coverage: 16.9% of statements
2026-01-21T00:27:30.0852765Z ok  	github.com/jontk/slurm-exporter/internal/collector	1.651s	coverage: 16.9% of statements
2026-01-21T00:27:30.5580417Z === RUN   TestLoadDefaults
2026-01-21T00:27:30.5581335Z --- PASS: TestLoadDefaults (0.00s)
2026-01-21T00:27:30.5582318Z === RUN   TestServerConfig
2026-01-21T00:27:30.5582719Z --- PASS: TestServerConfig (0.00s)
2026-01-21T00:27:30.5583615Z === RUN   TestSLURMConfig
2026-01-21T00:27:30.5585154Z --- PASS: TestSLURMConfig (0.00s)
2026-01-21T00:27:30.5585902Z === RUN   TestCollectorsConfig
2026-01-21T00:27:30.5586982Z --- PASS: TestCollectorsConfig (0.00s)
2026-01-21T00:27:30.5587423Z === RUN   TestMetricsConfig
2026-01-21T00:27:30.5587798Z --- PASS: TestMetricsConfig (0.00s)
2026-01-21T00:27:30.5588506Z === RUN   TestConfigStructures
2026-01-21T00:27:30.5589021Z --- PASS: TestConfigStructures (0.00s)
2026-01-21T00:27:30.5589490Z === RUN   TestLoadFromYAMLFile
2026-01-21T00:27:30.5589895Z --- PASS: TestLoadFromYAMLFile (0.00s)
2026-01-21T00:27:30.5590694Z === RUN   TestLoadNonExistentFile
2026-01-21T00:27:30.5591233Z --- PASS: TestLoadNonExistentFile (0.00s)
2026-01-21T00:27:30.5591659Z === RUN   TestLoadInvalidYAML
2026-01-21T00:27:30.5592163Z --- PASS: TestLoadInvalidYAML (0.00s)
2026-01-21T00:27:30.5592576Z === RUN   TestValidateServerConfig
2026-01-21T00:27:30.5593134Z === RUN   TestValidateServerConfig/valid_config
2026-01-21T00:27:30.5593688Z === RUN   TestValidateServerConfig/empty_address
2026-01-21T00:27:30.5594360Z === RUN   TestValidateServerConfig/negative_timeout
2026-01-21T00:27:30.5594946Z --- PASS: TestValidateServerConfig (0.00s)
2026-01-21T00:27:30.5595696Z     --- PASS: TestValidateServerConfig/valid_config (0.00s)
2026-01-21T00:27:30.5596416Z     --- PASS: TestValidateServerConfig/empty_address (0.00s)
2026-01-21T00:27:30.5597517Z     --- PASS: TestValidateServerConfig/negative_timeout (0.00s)
2026-01-21T00:27:30.5598175Z === RUN   TestValidateAuthConfig
2026-01-21T00:27:30.5598659Z === RUN   TestValidateAuthConfig/none_auth
2026-01-21T00:27:30.5599222Z === RUN   TestValidateAuthConfig/jwt_with_token
2026-01-21T00:27:30.5599767Z === RUN   TestValidateAuthConfig/jwt_without_token
2026-01-21T00:27:30.5600447Z === RUN   TestValidateAuthConfig/basic_auth_with_credentials
2026-01-21T00:27:30.5601119Z === RUN   TestValidateAuthConfig/basic_auth_without_username
2026-01-21T00:27:30.5601764Z === RUN   TestValidateAuthConfig/invalid_auth_type
2026-01-21T00:27:30.5602351Z --- PASS: TestValidateAuthConfig (0.00s)
2026-01-21T00:27:30.5602988Z     --- PASS: TestValidateAuthConfig/none_auth (0.00s)
2026-01-21T00:27:30.5603725Z     --- PASS: TestValidateAuthConfig/jwt_with_token (0.00s)
2026-01-21T00:27:30.5604456Z     --- PASS: TestValidateAuthConfig/jwt_without_token (0.00s)
2026-01-21T00:27:30.5605344Z     --- PASS: TestValidateAuthConfig/basic_auth_with_credentials (0.00s)
2026-01-21T00:27:30.5606504Z     --- PASS: TestValidateAuthConfig/basic_auth_without_username (0.00s)
2026-01-21T00:27:30.5607380Z     --- PASS: TestValidateAuthConfig/invalid_auth_type (0.00s)
2026-01-21T00:27:30.5608036Z === RUN   TestValidateLoggingConfig
2026-01-21T00:27:30.5608581Z === RUN   TestValidateLoggingConfig/valid_logging_config
2026-01-21T00:27:30.5623261Z === RUN   TestValidateLoggingConfig/invalid_log_level
2026-01-21T00:27:30.5623822Z === RUN   TestValidateLoggingConfig/invalid_log_format
2026-01-21T00:27:30.5624402Z === RUN   TestValidateLoggingConfig/file_output_without_file
2026-01-21T00:27:30.5624996Z === RUN   TestValidateLoggingConfig/file_output_with_file
2026-01-21T00:27:30.5625503Z --- PASS: TestValidateLoggingConfig (0.00s)
2026-01-21T00:27:30.5626162Z     --- PASS: TestValidateLoggingConfig/valid_logging_config (0.00s)
2026-01-21T00:27:30.5626896Z     --- PASS: TestValidateLoggingConfig/invalid_log_level (0.00s)
2026-01-21T00:27:30.5627630Z     --- PASS: TestValidateLoggingConfig/invalid_log_format (0.00s)
2026-01-21T00:27:30.5628451Z     --- PASS: TestValidateLoggingConfig/file_output_without_file (0.00s)
2026-01-21T00:27:30.5629254Z     --- PASS: TestValidateLoggingConfig/file_output_with_file (0.00s)
2026-01-21T00:27:30.5629823Z === RUN   TestValidateCollectorConfig
2026-01-21T00:27:30.5630292Z === RUN   TestValidateCollectorConfig/disabled_collector
2026-01-21T00:27:30.5630956Z === RUN   TestValidateCollectorConfig/enabled_collector_with_valid_config
2026-01-21T00:27:30.5631745Z === RUN   TestValidateCollectorConfig/enabled_collector_with_invalid_interval
2026-01-21T00:27:30.5632814Z === RUN   TestValidateCollectorConfig/enabled_collector_with_invalid_timeout
2026-01-21T00:27:30.5633474Z --- PASS: TestValidateCollectorConfig (0.00s)
2026-01-21T00:27:30.5634171Z     --- PASS: TestValidateCollectorConfig/disabled_collector (0.00s)
2026-01-21T00:27:30.5635097Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_valid_config (0.00s)
2026-01-21T00:27:30.5636118Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_invalid_interval (0.00s)
2026-01-21T00:27:30.5637182Z     --- PASS: TestValidateCollectorConfig/enabled_collector_with_invalid_timeout (0.00s)
2026-01-21T00:27:30.5638150Z === RUN   TestDefault
2026-01-21T00:27:30.5638468Z --- PASS: TestDefault (0.00s)
2026-01-21T00:27:30.5638818Z === RUN   TestEnvOverrides
2026-01-21T00:27:30.5639168Z --- PASS: TestEnvOverrides (0.00s)
2026-01-21T00:27:30.5639565Z === RUN   TestEnvOverridesPrecedence
2026-01-21T00:27:30.5640000Z --- PASS: TestEnvOverridesPrecedence (0.00s)
2026-01-21T00:27:30.5640453Z === RUN   TestInvalidEnvOverrides
2026-01-21T00:27:30.5640895Z === RUN   TestInvalidEnvOverrides/invalid_server_timeout
2026-01-21T00:27:30.5641428Z === RUN   TestInvalidEnvOverrides/invalid_TLS_enabled
2026-01-21T00:27:30.5641973Z === RUN   TestInvalidEnvOverrides/invalid_retry_attempts
2026-01-21T00:27:30.5642544Z === RUN   TestInvalidEnvOverrides/invalid_requests_per_second
2026-01-21T00:27:30.5643138Z === RUN   TestInvalidEnvOverrides/invalid_collector_enabled
2026-01-21T00:27:30.5643722Z === RUN   TestInvalidEnvOverrides/invalid_collector_interval
2026-01-21T00:27:30.5644245Z --- PASS: TestInvalidEnvOverrides (0.00s)
2026-01-21T00:27:30.5644876Z     --- PASS: TestInvalidEnvOverrides/invalid_server_timeout (0.00s)
2026-01-21T00:27:30.5645617Z     --- PASS: TestInvalidEnvOverrides/invalid_TLS_enabled (0.00s)
2026-01-21T00:27:30.5646365Z     --- PASS: TestInvalidEnvOverrides/invalid_retry_attempts (0.00s)
2026-01-21T00:27:30.5647172Z     --- PASS: TestInvalidEnvOverrides/invalid_requests_per_second (0.00s)
2026-01-21T00:27:30.5647988Z     --- PASS: TestInvalidEnvOverrides/invalid_collector_enabled (0.00s)
2026-01-21T00:27:30.5648814Z     --- PASS: TestInvalidEnvOverrides/invalid_collector_interval (0.00s)
2026-01-21T00:27:30.5649387Z === RUN   TestApplyEnvOverrides
2026-01-21T00:27:30.5649765Z --- PASS: TestApplyEnvOverrides (0.00s)
2026-01-21T00:27:30.5650198Z === RUN   TestEnhancedValidation_Functional
2026-01-21T00:27:30.5651011Z === RUN   TestEnhancedValidation_Functional/validation_system_is_working
2026-01-21T00:27:30.5651797Z === RUN   TestEnhancedValidation_Functional/invalid_server_address_should_fail
2026-01-21T00:27:30.5652582Z === RUN   TestEnhancedValidation_Functional/missing_metrics_path_should_fail
2026-01-21T00:27:30.5653394Z === RUN   TestEnhancedValidation_Functional/invalid_metrics_path_should_fail
2026-01-21T00:27:30.5654200Z === RUN   TestEnhancedValidation_Functional/missing_SLURM_base_URL_should_fail
2026-01-21T00:27:30.5654969Z === RUN   TestEnhancedValidation_Functional/invalid_auth_type_should_fail
2026-01-21T00:27:30.5655798Z === RUN   TestEnhancedValidation_Functional/short_collector_timeout_should_fail
2026-01-21T00:27:30.5656616Z === RUN   TestEnhancedValidation_Functional/TLS_enabled_without_cert_should_fail
2026-01-21T00:27:30.5657478Z === RUN   TestEnhancedValidation_Functional/conflicting_metric_filters_should_fail
2026-01-21T00:27:30.5658589Z --- PASS: TestEnhancedValidation_Functional (0.00s)
2026-01-21T00:27:30.5659393Z     --- PASS: TestEnhancedValidation_Functional/validation_system_is_working (0.00s)
2026-01-21T00:27:30.5660441Z     --- PASS: TestEnhancedValidation_Functional/invalid_server_address_should_fail (0.00s)
2026-01-21T00:27:30.5661512Z     --- PASS: TestEnhancedValidation_Functional/missing_metrics_path_should_fail (0.00s)
2026-01-21T00:27:30.5662580Z     --- PASS: TestEnhancedValidation_Functional/invalid_metrics_path_should_fail (0.00s)
2026-01-21T00:27:30.5663834Z     --- PASS: TestEnhancedValidation_Functional/missing_SLURM_base_URL_should_fail (0.00s)
2026-01-21T00:27:30.5664913Z     --- PASS: TestEnhancedValidation_Functional/invalid_auth_type_should_fail (0.00s)
2026-01-21T00:27:30.5665968Z     --- PASS: TestEnhancedValidation_Functional/short_collector_timeout_should_fail (0.00s)
2026-01-21T00:27:30.5667110Z     --- PASS: TestEnhancedValidation_Functional/TLS_enabled_without_cert_should_fail (0.00s)
2026-01-21T00:27:30.5668227Z     --- PASS: TestEnhancedValidation_Functional/conflicting_metric_filters_should_fail (0.00s)
2026-01-21T00:27:30.5668968Z === RUN   TestWatcher_New
2026-01-21T00:27:30.5669685Z time="2026-01-21T00:27:28Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5670473Z --- PASS: TestWatcher_New (0.07s)
2026-01-21T00:27:30.5670867Z === RUN   TestWatcher_Start_Stop
2026-01-21T00:27:30.5672164Z time="2026-01-21T00:27:28Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test2108508342\\config.yaml" test=true
2026-01-21T00:27:30.5673854Z time="2026-01-21T00:27:28Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5675009Z time="2026-01-21T00:27:28Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:27:30.5675814Z --- PASS: TestWatcher_Start_Stop (0.10s)
2026-01-21T00:27:30.5676234Z === RUN   TestWatcher_ConfigChange
2026-01-21T00:27:30.5677466Z time="2026-01-21T00:27:28Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1154880629\\config.yaml" test=true
2026-01-21T00:27:30.5679907Z time="2026-01-21T00:27:28Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1154880629\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5682178Z time="2026-01-21T00:27:28Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1154880629\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5683813Z time="2026-01-21T00:27:28Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:27:30.5684970Z time="2026-01-21T00:27:28Z" level=info msg="Configuration reloaded successfully" component=config-watcher test=true
2026-01-21T00:27:30.5686331Z time="2026-01-21T00:27:29Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5687495Z time="2026-01-21T00:27:29Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:27:30.5688323Z --- PASS: TestWatcher_ConfigChange (0.52s)
2026-01-21T00:27:30.5688749Z === RUN   TestWatcher_InvalidConfig
2026-01-21T00:27:30.5690016Z time="2026-01-21T00:27:29Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1622669090\\config.yaml" test=true
2026-01-21T00:27:30.5692162Z time="2026-01-21T00:27:29Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1622669090\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5694450Z time="2026-01-21T00:27:29Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test1622669090\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5696087Z time="2026-01-21T00:27:29Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:27:30.5697853Z time="2026-01-21T00:27:29Z" level=error msg="Failed to load new configuration, keeping current" component=config-watcher error="failed to parse YAML configuration: yaml: line 8: did not find expected node content" test=true
2026-01-21T00:27:30.5700104Z time="2026-01-21T00:27:29Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5701269Z time="2026-01-21T00:27:29Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:27:30.5702072Z --- PASS: TestWatcher_InvalidConfig (0.52s)
2026-01-21T00:27:30.5702511Z === RUN   TestWatcher_NonExistentFile
2026-01-21T00:27:30.5702927Z --- PASS: TestWatcher_NonExistentFile (0.00s)
2026-01-21T00:27:30.5703362Z === RUN   TestWatcher_GetConfig
2026-01-21T00:27:30.5704589Z time="2026-01-21T00:27:29Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test3270426027\\config.yaml" test=true
2026-01-21T00:27:30.5706200Z time="2026-01-21T00:27:29Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5707332Z time="2026-01-21T00:27:29Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:27:30.5708101Z --- PASS: TestWatcher_GetConfig (0.22s)
2026-01-21T00:27:30.5709074Z === RUN   TestWatcher_DebounceMultipleChanges
2026-01-21T00:27:30.5710381Z time="2026-01-21T00:27:29Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" test=true
2026-01-21T00:27:30.5712554Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5714797Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5717045Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5719503Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5721884Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5724484Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5726655Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5729084Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5731233Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5733558Z time="2026-01-21T00:27:30Z" level=debug msg="Configuration file changed" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test258124823\\config.yaml" operation=WRITE test=true
2026-01-21T00:27:30.5735169Z time="2026-01-21T00:27:30Z" level=info msg="Reloading configuration" component=config-watcher test=true
2026-01-21T00:27:30.5736279Z time="2026-01-21T00:27:30Z" level=info msg="Configuration reloaded successfully" component=config-watcher test=true
2026-01-21T00:27:30.5737667Z time="2026-01-21T00:27:30Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5738826Z time="2026-01-21T00:27:30Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:27:30.5739645Z --- PASS: TestWatcher_DebounceMultipleChanges (0.62s)
2026-01-21T00:27:30.5740126Z === RUN   TestWatcher_ConcurrentAccess
2026-01-21T00:27:30.5741359Z time="2026-01-21T00:27:30Z" level=info msg="Starting configuration watcher" component=config-watcher file="C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\watcher_test3036882814\\config.yaml" test=true
2026-01-21T00:27:30.5742932Z time="2026-01-21T00:27:30Z" level=info msg="Stopping configuration watcher" component=config-watcher test=true
2026-01-21T00:27:30.5744017Z time="2026-01-21T00:27:30Z" level=info msg="Configuration watcher stopped" component=config-watcher test=true
2026-01-21T00:27:30.5744792Z --- PASS: TestWatcher_ConcurrentAccess (0.10s)
2026-01-21T00:27:30.5745164Z PASS
2026-01-21T00:27:30.5745385Z coverage: 54.2% of statements
2026-01-21T00:27:30.5745987Z ok  	github.com/jontk/slurm-exporter/internal/config	2.217s	coverage: 54.2% of statements
2026-01-21T00:27:30.5746655Z === RUN   TestNewSmartFilter_Disabled
2026-01-21T00:27:30.5747096Z --- PASS: TestNewSmartFilter_Disabled (0.00s)
2026-01-21T00:27:30.5747507Z === RUN   TestNewSmartFilter_Enabled
2026-01-21T00:27:30.5747905Z --- PASS: TestNewSmartFilter_Enabled (0.00s)
2026-01-21T00:27:30.5748339Z === RUN   TestNewSmartFilter_InvalidConfig
2026-01-21T00:27:30.5749148Z === RUN   TestNewSmartFilter_InvalidConfig/negative_noise_threshold
2026-01-21T00:27:30.5749734Z === RUN   TestNewSmartFilter_InvalidConfig/zero_cache_size
2026-01-21T00:27:30.5750304Z === RUN   TestNewSmartFilter_InvalidConfig/zero_learning_window
2026-01-21T00:27:30.5750836Z --- PASS: TestNewSmartFilter_InvalidConfig (0.00s)
2026-01-21T00:27:30.5751594Z     --- PASS: TestNewSmartFilter_InvalidConfig/negative_noise_threshold (0.00s)
2026-01-21T00:27:30.5752459Z     --- PASS: TestNewSmartFilter_InvalidConfig/zero_cache_size (0.00s)
2026-01-21T00:27:30.5753228Z     --- PASS: TestNewSmartFilter_InvalidConfig/zero_learning_window (0.00s)
2026-01-21T00:27:30.5753841Z === RUN   TestSmartFilter_ProcessMetrics_Disabled
2026-01-21T00:27:30.5754341Z --- PASS: TestSmartFilter_ProcessMetrics_Disabled (0.00s)
2026-01-21T00:27:30.5754892Z === RUN   TestSmartFilter_ProcessMetrics_LearningPhase
2026-01-21T00:27:30.5755433Z --- PASS: TestSmartFilter_ProcessMetrics_LearningPhase (0.00s)
2026-01-21T00:27:30.5757231Z === RUN   TestSmartFilter_CreateMetricKey
2026-01-21T00:27:30.5757691Z === RUN   TestSmartFilter_CreateMetricKey/no_labels
2026-01-21T00:27:30.5758199Z === RUN   TestSmartFilter_CreateMetricKey/with_labels
2026-01-21T00:27:30.5758684Z --- PASS: TestSmartFilter_CreateMetricKey (0.00s)
2026-01-21T00:27:30.5759303Z     --- PASS: TestSmartFilter_CreateMetricKey/no_labels (0.00s)
2026-01-21T00:27:30.5759996Z     --- PASS: TestSmartFilter_CreateMetricKey/with_labels (0.00s)
2026-01-21T00:27:30.5760532Z === RUN   TestSmartFilter_ExtractValue
2026-01-21T00:27:30.5760930Z === RUN   TestSmartFilter_ExtractValue/gauge
2026-01-21T00:27:30.5761347Z === RUN   TestSmartFilter_ExtractValue/counter
2026-01-21T00:27:30.5761798Z === RUN   TestSmartFilter_ExtractValue/untyped
2026-01-21T00:27:30.5762235Z === RUN   TestSmartFilter_ExtractValue/histogram
2026-01-21T00:27:30.5762686Z --- PASS: TestSmartFilter_ExtractValue (0.00s)
2026-01-21T00:27:30.5763283Z     --- PASS: TestSmartFilter_ExtractValue/gauge (0.00s)
2026-01-21T00:27:30.5763892Z     --- PASS: TestSmartFilter_ExtractValue/counter (0.00s)
2026-01-21T00:27:30.5764506Z     --- PASS: TestSmartFilter_ExtractValue/untyped (0.00s)
2026-01-21T00:27:30.5765111Z     --- PASS: TestSmartFilter_ExtractValue/histogram (0.00s)
2026-01-21T00:27:30.5765621Z === RUN   TestSmartFilter_CalculateStatistics
2026-01-21T00:27:30.5766122Z --- PASS: TestSmartFilter_CalculateStatistics (0.00s)
2026-01-21T00:27:30.5766647Z === RUN   TestSmartFilter_CalculateCorrelation
2026-01-21T00:27:30.5767433Z === RUN   TestSmartFilter_CalculateCorrelation/perfect_positive_correlation
2026-01-21T00:27:30.5768199Z === RUN   TestSmartFilter_CalculateCorrelation/perfect_negative_correlation
2026-01-21T00:27:30.5769180Z === RUN   TestSmartFilter_CalculateCorrelation/no_correlation
2026-01-21T00:27:30.5769728Z --- PASS: TestSmartFilter_CalculateCorrelation (0.00s)
2026-01-21T00:27:30.5770537Z     --- PASS: TestSmartFilter_CalculateCorrelation/perfect_positive_correlation (0.00s)
2026-01-21T00:27:30.5771531Z     --- PASS: TestSmartFilter_CalculateCorrelation/perfect_negative_correlation (0.00s)
2026-01-21T00:27:30.5772433Z     --- PASS: TestSmartFilter_CalculateCorrelation/no_correlation (0.00s)
2026-01-21T00:27:30.5772983Z === RUN   TestSmartFilter_Cache
2026-01-21T00:27:30.5773346Z --- PASS: TestSmartFilter_Cache (0.00s)
2026-01-21T00:27:30.5773731Z === RUN   TestSmartFilter_RegisterMetrics
2026-01-21T00:27:30.5774169Z --- PASS: TestSmartFilter_RegisterMetrics (0.00s)
2026-01-21T00:27:30.5774606Z === RUN   TestSmartFilter_GetStats
2026-01-21T00:27:30.5774971Z --- PASS: TestSmartFilter_GetStats (0.00s)
2026-01-21T00:27:30.5775363Z === RUN   TestSmartFilter_GetPatterns
2026-01-21T00:27:30.5775770Z --- PASS: TestSmartFilter_GetPatterns (0.00s)
2026-01-21T00:27:30.5776222Z === RUN   TestSmartFilter_FilterAction_String
2026-01-21T00:27:30.5776688Z === RUN   TestSmartFilter_FilterAction_String/keep
2026-01-21T00:27:30.5777192Z === RUN   TestSmartFilter_FilterAction_String/filter
2026-01-21T00:27:30.5777684Z === RUN   TestSmartFilter_FilterAction_String/reduce
2026-01-21T00:27:30.5778180Z === RUN   TestSmartFilter_FilterAction_String/unknown
2026-01-21T00:27:30.5778706Z --- PASS: TestSmartFilter_FilterAction_String (0.00s)
2026-01-21T00:27:30.5779339Z     --- PASS: TestSmartFilter_FilterAction_String/keep (0.00s)
2026-01-21T00:27:30.5780014Z     --- PASS: TestSmartFilter_FilterAction_String/filter (0.00s)
2026-01-21T00:27:30.5780689Z     --- PASS: TestSmartFilter_FilterAction_String/reduce (0.00s)
2026-01-21T00:27:30.5781380Z     --- PASS: TestSmartFilter_FilterAction_String/unknown (0.00s)
2026-01-21T00:27:30.5781940Z === RUN   TestSmartFilter_NoiseScoreCalculation
2026-01-21T00:27:30.5782447Z === RUN   TestSmartFilter_NoiseScoreCalculation/low_noise
2026-01-21T00:27:30.5783002Z === RUN   TestSmartFilter_NoiseScoreCalculation/high_noise
2026-01-21T00:27:30.5783548Z --- PASS: TestSmartFilter_NoiseScoreCalculation (0.00s)
2026-01-21T00:27:30.5784419Z     --- PASS: TestSmartFilter_NoiseScoreCalculation/low_noise (0.00s)
2026-01-21T00:27:30.5785164Z     --- PASS: TestSmartFilter_NoiseScoreCalculation/high_noise (0.00s)
2026-01-21T00:27:30.5785683Z PASS
2026-01-21T00:27:30.5785940Z coverage: 47.3% of statements
2026-01-21T00:27:30.5786589Z ok  	github.com/jontk/slurm-exporter/internal/filtering	0.045s	coverage: 47.3% of statements
2026-01-21T00:27:30.5787315Z === RUN   TestSLURMAPIHealthCheck_Healthy
2026-01-21T00:27:30.5787788Z --- PASS: TestSLURMAPIHealthCheck_Healthy (0.06s)
2026-01-21T00:27:30.5788281Z === RUN   TestSLURMAPIHealthCheck_PingFails
2026-01-21T00:27:30.5788770Z --- PASS: TestSLURMAPIHealthCheck_PingFails (0.00s)
2026-01-21T00:27:30.5789511Z === RUN   TestSLURMAPIHealthCheck_InfoFails
2026-01-21T00:27:30.5789978Z --- PASS: TestSLURMAPIHealthCheck_InfoFails (0.00s)
2026-01-21T00:27:30.5790478Z === RUN   TestCollectorsHealthCheck_AllHealthy
2026-01-21T00:27:30.5790989Z --- PASS: TestCollectorsHealthCheck_AllHealthy (0.00s)
2026-01-21T00:27:30.5791504Z === RUN   TestCollectorsHealthCheck_StaleCollector
2026-01-21T00:27:30.5792044Z --- PASS: TestCollectorsHealthCheck_StaleCollector (0.00s)
2026-01-21T00:27:30.5792576Z === RUN   TestCollectorsHealthCheck_ConsecutiveErrors
2026-01-21T00:27:30.5793134Z --- PASS: TestCollectorsHealthCheck_ConsecutiveErrors (0.00s)
2026-01-21T00:27:30.5793699Z === RUN   TestCollectorsHealthCheck_DisabledCollectors
2026-01-21T00:27:30.5794288Z --- PASS: TestCollectorsHealthCheck_DisabledCollectors (0.00s)
2026-01-21T00:27:30.5794974Z === RUN   TestMemoryHealthCheck_Normal
2026-01-21T00:27:30.5795399Z --- PASS: TestMemoryHealthCheck_Normal (0.00s)
2026-01-21T00:27:30.5795874Z === RUN   TestMemoryHealthCheck_NoThreshold
2026-01-21T00:27:30.5796316Z --- PASS: TestMemoryHealthCheck_NoThreshold (0.00s)
2026-01-21T00:27:30.5796762Z === RUN   TestDiskHealthCheck_Normal
2026-01-21T00:27:30.5797170Z --- PASS: TestDiskHealthCheck_Normal (0.00s)
2026-01-21T00:27:30.5797631Z === RUN   TestDiskHealthCheck_InvalidPath
2026-01-21T00:27:30.5798061Z --- PASS: TestDiskHealthCheck_InvalidPath (0.00s)
2026-01-21T00:27:30.5798496Z === RUN   TestNetworkHealthCheck_Normal
2026-01-21T00:27:30.5798927Z --- PASS: TestNetworkHealthCheck_Normal (0.01s)
2026-01-21T00:27:30.5799390Z === RUN   TestCircuitBreakerHealthCheck_AllClosed
2026-01-21T00:27:30.5799924Z --- PASS: TestCircuitBreakerHealthCheck_AllClosed (0.00s)
2026-01-21T00:27:30.5800451Z === RUN   TestCircuitBreakerHealthCheck_SomeOpen
2026-01-21T00:27:30.5800975Z --- PASS: TestCircuitBreakerHealthCheck_SomeOpen (0.00s)
2026-01-21T00:27:30.5801498Z === RUN   TestCircuitBreakerHealthCheck_HalfOpen
2026-01-21T00:27:30.5802033Z --- PASS: TestCircuitBreakerHealthCheck_HalfOpen (0.00s)
2026-01-21T00:27:30.5802467Z PASS
2026-01-21T00:27:30.5802699Z coverage: 53.8% of statements
2026-01-21T00:27:30.5803303Z ok  	github.com/jontk/slurm-exporter/internal/health	0.118s	coverage: 53.8% of statements
2026-01-21T00:27:30.5803970Z === RUN   TestFullCollectorIntegration
2026-01-21T00:27:30.5804886Z     integration_test.go:24: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5805680Z --- SKIP: TestFullCollectorIntegration (0.00s)
2026-01-21T00:27:30.5806125Z === RUN   TestHTTPMetricsEndpoint
2026-01-21T00:27:30.5807008Z     integration_test.go:102: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5807782Z --- SKIP: TestHTTPMetricsEndpoint (0.00s)
2026-01-21T00:27:30.5808200Z === RUN   TestCollectorFiltering
2026-01-21T00:27:30.5809044Z     integration_test.go:150: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5810126Z --- SKIP: TestCollectorFiltering (0.00s)
2026-01-21T00:27:30.5810542Z === RUN   TestCollectorCustomLabels
2026-01-21T00:27:30.5811391Z     integration_test.go:196: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5812137Z --- SKIP: TestCollectorCustomLabels (0.00s)
2026-01-21T00:27:30.5812704Z === RUN   TestCollectorTimeout
2026-01-21T00:27:30.5813517Z     integration_test.go:242: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5814244Z --- SKIP: TestCollectorTimeout (0.00s)
2026-01-21T00:27:30.5814667Z === RUN   TestPerformanceMonitoringIntegration
2026-01-21T00:27:30.5815557Z     integration_test.go:284: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5816381Z --- SKIP: TestPerformanceMonitoringIntegration (0.00s)
2026-01-21T00:27:30.5816852Z === RUN   TestCardinalityLimiting
2026-01-21T00:27:30.5817675Z     integration_test.go:336: TODO: Implement dependency injection for SLURM client in collector registry
2026-01-21T00:27:30.5818419Z --- SKIP: TestCardinalityLimiting (0.00s)
2026-01-21T00:27:30.5818856Z PASS
2026-01-21T00:27:30.5819095Z coverage: [no statements]
2026-01-21T00:27:30.5819681Z ok  	github.com/jontk/slurm-exporter/internal/integration	0.049s	coverage: [no statements]
2026-01-21T00:27:30.5820326Z === RUN   TestNewLogger
2026-01-21T00:27:30.5820651Z === RUN   TestNewLogger/WithValidConfig
2026-01-21T00:27:30.5821037Z === RUN   TestNewLogger/WithNilConfig
2026-01-21T00:27:30.5821432Z === RUN   TestNewLogger/WithInvalidLevel
2026-01-21T00:27:30.5821822Z === RUN   TestNewLogger/WithTextFormatter
2026-01-21T00:27:30.5822249Z === RUN   TestNewLogger/WithConstantFields
2026-01-21T00:27:30.5822648Z --- PASS: TestNewLogger (0.04s)
2026-01-21T00:27:30.5823103Z     --- PASS: TestNewLogger/WithValidConfig (0.00s)
2026-01-21T00:27:30.5823792Z     --- PASS: TestNewLogger/WithNilConfig (0.00s)
2026-01-21T00:27:30.5824362Z     --- PASS: TestNewLogger/WithInvalidLevel (0.00s)
2026-01-21T00:27:30.5824922Z     --- PASS: TestNewLogger/WithTextFormatter (0.00s)
2026-01-21T00:27:30.5825478Z     --- PASS: TestNewLogger/WithConstantFields (0.04s)
2026-01-21T00:27:30.5825978Z === RUN   TestLoggerFileOutput
2026-01-21T00:27:30.5826389Z === RUN   TestLoggerFileOutput/WithValidFile
2026-01-21T00:27:30.5826851Z === RUN   TestLoggerFileOutput/WithFileOutputNoPath
2026-01-21T00:27:30.5827330Z === RUN   TestLoggerFileOutput/WithNestedDirectory
2026-01-21T00:27:30.5827789Z --- PASS: TestLoggerFileOutput (0.00s)
2026-01-21T00:27:30.5828318Z     --- PASS: TestLoggerFileOutput/WithValidFile (0.00s)
2026-01-21T00:27:30.5828966Z     --- PASS: TestLoggerFileOutput/WithFileOutputNoPath (0.00s)
2026-01-21T00:27:30.5829923Z     --- PASS: TestLoggerFileOutput/WithNestedDirectory (0.00s)
2026-01-21T00:27:30.5830452Z === RUN   TestLoggerMethods
2026-01-21T00:27:30.5830799Z === RUN   TestLoggerMethods/WithComponent
2026-01-21T00:27:30.5831198Z === RUN   TestLoggerMethods/WithCollector
2026-01-21T00:27:30.5831625Z === RUN   TestLoggerMethods/WithRequest
2026-01-21T00:27:30.5832034Z === RUN   TestLoggerMethods/WithError
2026-01-21T00:27:30.5832451Z === RUN   TestLoggerMethods/WithDuration
2026-01-21T00:27:30.5832892Z === RUN   TestLoggerMethods/IsHTTPSuppressed
2026-01-21T00:27:30.5833297Z === RUN   TestLoggerMethods/SetLevel
2026-01-21T00:27:30.5833682Z --- PASS: TestLoggerMethods (0.00s)
2026-01-21T00:27:30.5834172Z     --- PASS: TestLoggerMethods/WithComponent (0.00s)
2026-01-21T00:27:30.5834743Z     --- PASS: TestLoggerMethods/WithCollector (0.00s)
2026-01-21T00:27:30.5835287Z     --- PASS: TestLoggerMethods/WithRequest (0.00s)
2026-01-21T00:27:30.5835801Z     --- PASS: TestLoggerMethods/WithError (0.00s)
2026-01-21T00:27:30.5836344Z     --- PASS: TestLoggerMethods/WithDuration (0.00s)
2026-01-21T00:27:30.5836905Z     --- PASS: TestLoggerMethods/IsHTTPSuppressed (0.00s)
2026-01-21T00:27:30.5837478Z     --- PASS: TestLoggerMethods/SetLevel (0.00s)
2026-01-21T00:27:30.5837900Z === RUN   TestLogLevels
2026-01-21T00:27:30.5838211Z === RUN   TestLogLevels/Level_debug
2026-01-21T00:27:30.5838596Z === RUN   TestLogLevels/Level_info
2026-01-21T00:27:30.5838974Z === RUN   TestLogLevels/Level_warn
2026-01-21T00:27:30.5839341Z === RUN   TestLogLevels/Level_error
2026-01-21T00:27:30.5839944Z --- PASS: TestLogLevels (0.00s)
2026-01-21T00:27:30.5840411Z     --- PASS: TestLogLevels/Level_debug (0.00s)
2026-01-21T00:27:30.5840938Z     --- PASS: TestLogLevels/Level_info (0.00s)
2026-01-21T00:27:30.5841461Z     --- PASS: TestLogLevels/Level_warn (0.00s)
2026-01-21T00:27:30.5841963Z     --- PASS: TestLogLevels/Level_error (0.00s)
2026-01-21T00:27:30.5842372Z === RUN   TestLogFormats
2026-01-21T00:27:30.5842693Z === RUN   TestLogFormats/Format_json
2026-01-21T00:27:30.5843063Z === RUN   TestLogFormats/Format_text
2026-01-21T00:27:30.5843446Z === RUN   TestLogFormats/Format_invalid
2026-01-21T00:27:30.5843839Z --- PASS: TestLogFormats (0.00s)
2026-01-21T00:27:30.5844282Z     --- PASS: TestLogFormats/Format_json (0.00s)
2026-01-21T00:27:30.5844780Z     --- PASS: TestLogFormats/Format_text (0.00s)
2026-01-21T00:27:30.5845293Z     --- PASS: TestLogFormats/Format_invalid (0.00s)
2026-01-21T00:27:30.5845697Z === RUN   TestClose
2026-01-21T00:27:30.5845966Z === RUN   TestClose/FileOutput
2026-01-21T00:27:30.5846290Z === RUN   TestClose/StdoutOutput
2026-01-21T00:27:30.5846619Z --- PASS: TestClose (0.00s)
2026-01-21T00:27:30.5846988Z     --- PASS: TestClose/FileOutput (0.00s)
2026-01-21T00:27:30.5847452Z     --- PASS: TestClose/StdoutOutput (0.00s)
2026-01-21T00:27:30.5847812Z PASS
2026-01-21T00:27:30.5848046Z coverage: 72.7% of statements
2026-01-21T00:27:30.5848647Z ok  	github.com/jontk/slurm-exporter/internal/logging	0.084s	coverage: 72.7% of statements
2026-01-21T00:27:30.7162858Z === RUN   TestCardinalityManager
2026-01-21T00:27:30.7164551Z === RUN   TestCardinalityManager/NewCardinalityManager
2026-01-21T00:27:30.7165154Z === RUN   TestCardinalityManager/SetLimit
2026-01-21T00:27:30.7165677Z === RUN   TestCardinalityManager/ShouldCollectMetric
2026-01-21T00:27:30.7166233Z === RUN   TestCardinalityManager/SamplingLogic
2026-01-21T00:27:30.7166768Z === RUN   TestCardinalityManager/PatternMatching
2026-01-21T00:27:30.7167341Z === RUN   TestCardinalityManager/UsageTracking
2026-01-21T00:27:30.7167877Z === RUN   TestCardinalityManager/HashConsistency
2026-01-21T00:27:30.7169472Z === RUN   TestCardinalityManager/GetCardinalityReport
2026-01-21T00:27:30.7170101Z === RUN   TestCardinalityManager/ViolationDetection
2026-01-21T00:27:30.7170723Z === RUN   TestCardinalityManager/RecommendationGeneration
2026-01-21T00:27:30.7171634Z === RUN   TestCardinalityManager/RegisterMetrics
2026-01-21T00:27:30.7172456Z === RUN   TestCardinalityManager/MonitoringStart
2026-01-21T00:27:30.7173339Z === RUN   TestCardinalityManager/DefaultLimitsConfiguration
2026-01-21T00:27:30.7173997Z === RUN   TestCardinalityManager/LabelValueLimits
2026-01-21T00:27:30.7174517Z --- PASS: TestCardinalityManager (0.05s)
2026-01-21T00:27:30.7175538Z     --- PASS: TestCardinalityManager/NewCardinalityManager (0.00s)
2026-01-21T00:27:30.7176568Z     --- PASS: TestCardinalityManager/SetLimit (0.00s)
2026-01-21T00:27:30.7177535Z     --- PASS: TestCardinalityManager/ShouldCollectMetric (0.00s)
2026-01-21T00:27:30.7178282Z     --- PASS: TestCardinalityManager/SamplingLogic (0.00s)
2026-01-21T00:27:30.7178970Z     --- PASS: TestCardinalityManager/PatternMatching (0.00s)
2026-01-21T00:27:30.7179687Z     --- PASS: TestCardinalityManager/UsageTracking (0.00s)
2026-01-21T00:27:30.7180417Z     --- PASS: TestCardinalityManager/HashConsistency (0.00s)
2026-01-21T00:27:30.7181433Z     --- PASS: TestCardinalityManager/GetCardinalityReport (0.00s)
2026-01-21T00:27:30.7182173Z     --- PASS: TestCardinalityManager/ViolationDetection (0.00s)
2026-01-21T00:27:30.7182981Z     --- PASS: TestCardinalityManager/RecommendationGeneration (0.00s)
2026-01-21T00:27:30.7183725Z     --- PASS: TestCardinalityManager/RegisterMetrics (0.00s)
2026-01-21T00:27:30.7184423Z     --- PASS: TestCardinalityManager/MonitoringStart (0.05s)
2026-01-21T00:27:30.7185137Z     --- PASS: TestCardinalityManager/DefaultLimitsConfiguration (0.00s)
2026-01-21T00:27:30.7185868Z     --- PASS: TestCardinalityManager/LabelValueLimits (0.00s)
2026-01-21T00:27:30.7186685Z === RUN   TestCardinalityLimitPriorities
2026-01-21T00:27:30.7187237Z === RUN   TestCardinalityLimitPriorities/PriorityEnforcement
2026-01-21T00:27:30.7188199Z --- PASS: TestCardinalityLimitPriorities (0.00s)
2026-01-21T00:27:30.7189276Z     --- PASS: TestCardinalityLimitPriorities/PriorityEnforcement (0.00s)
2026-01-21T00:27:30.7190142Z === RUN   TestFilterStrategies
2026-01-21T00:27:30.7190562Z === RUN   TestFilterStrategies/FilterConfiguration
2026-01-21T00:27:30.7191102Z === RUN   TestFilterStrategies/FilterStrategiesEnum
2026-01-21T00:27:30.7191628Z --- PASS: TestFilterStrategies (0.00s)
2026-01-21T00:27:30.7192255Z     --- PASS: TestFilterStrategies/FilterConfiguration (0.00s)
2026-01-21T00:27:30.7193028Z     --- PASS: TestFilterStrategies/FilterStrategiesEnum (0.00s)
2026-01-21T00:27:30.7193610Z === RUN   TestCardinalityReport
2026-01-21T00:27:30.7194057Z === RUN   TestCardinalityReport/ReportStructure
2026-01-21T00:27:30.7194577Z === RUN   TestCardinalityReport/ReportSorting
2026-01-21T00:27:30.7195037Z --- PASS: TestCardinalityReport (0.00s)
2026-01-21T00:27:30.7195628Z     --- PASS: TestCardinalityReport/ReportStructure (0.00s)
2026-01-21T00:27:30.7196288Z     --- PASS: TestCardinalityReport/ReportSorting (0.00s)
2026-01-21T00:27:30.7196825Z === RUN   TestLabelManager
2026-01-21T00:27:30.7197207Z === RUN   TestLabelManager/ValidateLabels
2026-01-21T00:27:30.7197727Z === RUN   TestLabelManager/ValidateInvalidLabels
2026-01-21T00:27:30.7198236Z === RUN   TestLabelManager/ValidateLabel
2026-01-21T00:27:30.7198910Z === RUN   TestLabelManager/SanitizeLabels
2026-01-21T00:27:30.7199432Z === RUN   TestLabelManager/TrackLabelUsage
2026-01-21T00:27:30.7199938Z === RUN   TestLabelManager/GetDimensionalAnalysis
2026-01-21T00:27:30.7200517Z === RUN   TestLabelManager/GetHighCardinalityLabels
2026-01-21T00:27:30.7201041Z === RUN   TestLabelManager/BuildLabelSet
2026-01-21T00:27:30.7201556Z === RUN   TestLabelManager/GetLabelRecommendations
2026-01-21T00:27:30.7202145Z --- PASS: TestLabelManager (0.01s)
2026-01-21T00:27:30.7202724Z     --- PASS: TestLabelManager/ValidateLabels (0.00s)
2026-01-21T00:27:30.7203429Z     --- PASS: TestLabelManager/ValidateInvalidLabels (0.00s)
2026-01-21T00:27:30.7204082Z     --- PASS: TestLabelManager/ValidateLabel (0.00s)
2026-01-21T00:27:30.7205248Z     --- PASS: TestLabelManager/SanitizeLabels (0.00s)
2026-01-21T00:27:30.7205910Z     --- PASS: TestLabelManager/TrackLabelUsage (0.00s)
2026-01-21T00:27:30.7206563Z     --- PASS: TestLabelManager/GetDimensionalAnalysis (0.00s)
2026-01-21T00:27:30.7207302Z     --- PASS: TestLabelManager/GetHighCardinalityLabels (0.00s)
2026-01-21T00:27:30.7207990Z     --- PASS: TestLabelManager/BuildLabelSet (0.00s)
2026-01-21T00:27:30.7208674Z     --- PASS: TestLabelManager/GetLabelRecommendations (0.00s)
2026-01-21T00:27:30.7209224Z === RUN   TestLabelDimension
2026-01-21T00:27:30.7209612Z === RUN   TestLabelDimension/StandardLabels
2026-01-21T00:27:30.7210078Z === RUN   TestLabelDimension/LabelTypes
2026-01-21T00:27:30.7210517Z --- PASS: TestLabelDimension (0.00s)
2026-01-21T00:27:30.7211097Z     --- PASS: TestLabelDimension/StandardLabels (0.00s)
2026-01-21T00:27:30.7211723Z     --- PASS: TestLabelDimension/LabelTypes (0.00s)
2026-01-21T00:27:30.7212197Z === RUN   TestLabelValidation
2026-01-21T00:27:30.7212643Z === RUN   TestLabelValidation/ClusterNameValidation
2026-01-21T00:27:30.7213155Z === RUN   TestLabelValidation/JobIDValidation
2026-01-21T00:27:30.7213646Z === RUN   TestLabelValidation/StateValidation
2026-01-21T00:27:30.7214108Z --- PASS: TestLabelValidation (0.00s)
2026-01-21T00:27:30.7214746Z     --- PASS: TestLabelValidation/ClusterNameValidation (0.00s)
2026-01-21T00:27:30.7215464Z     --- PASS: TestLabelValidation/JobIDValidation (0.00s)
2026-01-21T00:27:30.7216121Z     --- PASS: TestLabelValidation/StateValidation (0.00s)
2026-01-21T00:27:30.7216624Z === RUN   TestLabelSanitization
2026-01-21T00:27:30.7217052Z === RUN   TestLabelSanitization/ValueSanitization
2026-01-21T00:27:30.7217803Z === RUN   TestLabelSanitization/SensitiveLabelHandling
2026-01-21T00:27:30.7218315Z --- PASS: TestLabelSanitization (0.00s)
2026-01-21T00:27:30.7218939Z     --- PASS: TestLabelSanitization/ValueSanitization (0.00s)
2026-01-21T00:27:30.7219720Z     --- PASS: TestLabelSanitization/SensitiveLabelHandling (0.00s)
2026-01-21T00:27:30.7220319Z === RUN   TestDimensionalAnalysisReport
2026-01-21T00:27:30.7220919Z === RUN   TestDimensionalAnalysisReport/ExportDimensionalAnalysis
2026-01-21T00:27:30.7221558Z --- PASS: TestDimensionalAnalysisReport (0.00s)
2026-01-21T00:27:30.7222414Z     --- PASS: TestDimensionalAnalysisReport/ExportDimensionalAnalysis (0.00s)
2026-01-21T00:27:30.7223114Z === RUN   TestCardinalityInfo
2026-01-21T00:27:30.7223563Z === RUN   TestCardinalityInfo/CardinalityInfoFields
2026-01-21T00:27:30.7224068Z --- PASS: TestCardinalityInfo (0.00s)
2026-01-21T00:27:30.7225041Z     --- PASS: TestCardinalityInfo/CardinalityInfoFields (0.00s)
2026-01-21T00:27:30.7225652Z === RUN   TestLabelRecommendations
2026-01-21T00:27:30.7226144Z === RUN   TestLabelRecommendations/RecommendationTypes
2026-01-21T00:27:30.7226715Z === RUN   TestLabelRecommendations/SeverityLevels
2026-01-21T00:27:30.7227228Z --- PASS: TestLabelRecommendations (0.00s)
2026-01-21T00:27:30.7227926Z     --- PASS: TestLabelRecommendations/RecommendationTypes (0.00s)
2026-01-21T00:27:30.7228698Z     --- PASS: TestLabelRecommendations/SeverityLevels (0.00s)
2026-01-21T00:27:30.7229246Z === RUN   TestMetricMetadata
2026-01-21T00:27:30.7229797Z === RUN   TestMetricMetadata/GetMetricMetadata
2026-01-21T00:27:30.7230313Z === RUN   TestMetricMetadata/GetMetricsByCategory
2026-01-21T00:27:30.7230854Z === RUN   TestMetricMetadata/GetMetricsByStability
2026-01-21T00:27:30.7231391Z === RUN   TestMetricMetadata/ValidateMetricMetadata
2026-01-21T00:27:30.7231915Z === RUN   TestMetricMetadata/GetMetricCount
2026-01-21T00:27:30.7232405Z === RUN   TestMetricMetadata/GetCategoryCount
2026-01-21T00:27:30.7232880Z --- PASS: TestMetricMetadata (0.00s)
2026-01-21T00:27:30.7233462Z     --- PASS: TestMetricMetadata/GetMetricMetadata (0.00s)
2026-01-21T00:27:30.7234174Z     --- PASS: TestMetricMetadata/GetMetricsByCategory (0.00s)
2026-01-21T00:27:30.7234923Z     --- PASS: TestMetricMetadata/GetMetricsByStability (0.00s)
2026-01-21T00:27:30.7235674Z     --- PASS: TestMetricMetadata/ValidateMetricMetadata (0.00s)
2026-01-21T00:27:30.7236378Z     --- PASS: TestMetricMetadata/GetMetricCount (0.00s)
2026-01-21T00:27:30.7237038Z     --- PASS: TestMetricMetadata/GetCategoryCount (0.00s)
2026-01-21T00:27:30.7237543Z === RUN   TestMetricTypes
2026-01-21T00:27:30.7237891Z === RUN   TestMetricTypes/MetricType
2026-01-21T00:27:30.7238320Z === RUN   TestMetricTypes/MetricCategory
2026-01-21T00:27:30.7238767Z === RUN   TestMetricTypes/StabilityLevel
2026-01-21T00:27:30.7239195Z --- PASS: TestMetricTypes (0.00s)
2026-01-21T00:27:30.7239700Z     --- PASS: TestMetricTypes/MetricType (0.00s)
2026-01-21T00:27:30.7240311Z     --- PASS: TestMetricTypes/MetricCategory (0.00s)
2026-01-21T00:27:30.7240930Z     --- PASS: TestMetricTypes/StabilityLevel (0.00s)
2026-01-21T00:27:30.7241427Z === RUN   TestDocumentationGeneration
2026-01-21T00:27:30.7241973Z === RUN   TestDocumentationGeneration/GenerateDocumentation
2026-01-21T00:27:30.7242650Z === RUN   TestDocumentationGeneration/GeneratePrometheusConfig
2026-01-21T00:27:30.7243356Z === RUN   TestDocumentationGeneration/GenerateGrafanaDashboard
2026-01-21T00:27:30.7243972Z --- PASS: TestDocumentationGeneration (0.00s)
2026-01-21T00:27:30.7244734Z     --- PASS: TestDocumentationGeneration/GenerateDocumentation (0.00s)
2026-01-21T00:27:30.7245955Z     --- PASS: TestDocumentationGeneration/GeneratePrometheusConfig (0.00s)
2026-01-21T00:27:30.7246920Z     --- PASS: TestDocumentationGeneration/GenerateGrafanaDashboard (0.00s)
2026-01-21T00:27:30.7247587Z === RUN   TestMetricMetadataStructure
2026-01-21T00:27:30.7248085Z === RUN   TestMetricMetadataStructure/RequiredFields
2026-01-21T00:27:30.7248815Z === RUN   TestMetricMetadataStructure/ExampleValues
2026-01-21T00:27:30.7249392Z === RUN   TestMetricMetadataStructure/RelatedMetrics
2026-01-21T00:27:30.7249970Z === RUN   TestMetricMetadataStructure/LabelConsistency
2026-01-21T00:27:30.7250529Z --- PASS: TestMetricMetadataStructure (0.00s)
2026-01-21T00:27:30.7251221Z     --- PASS: TestMetricMetadataStructure/RequiredFields (0.00s)
2026-01-21T00:27:30.7252000Z     --- PASS: TestMetricMetadataStructure/ExampleValues (0.00s)
2026-01-21T00:27:30.7252772Z     --- PASS: TestMetricMetadataStructure/RelatedMetrics (0.00s)
2026-01-21T00:27:30.7253576Z     --- PASS: TestMetricMetadataStructure/LabelConsistency (0.00s)
2026-01-21T00:27:30.7254172Z === RUN   TestDocumentationQuality
2026-01-21T00:27:30.7254633Z === RUN   TestDocumentationQuality/HelpTextQuality
2026-01-21T00:27:30.7255192Z === RUN   TestDocumentationQuality/UseCaseCompleness
2026-01-21T00:27:30.7255714Z --- PASS: TestDocumentationQuality (0.00s)
2026-01-21T00:27:30.7256377Z     --- PASS: TestDocumentationQuality/HelpTextQuality (0.00s)
2026-01-21T00:27:30.7257134Z     --- PASS: TestDocumentationQuality/UseCaseCompleness (0.00s)
2026-01-21T00:27:30.7257703Z === RUN   TestCategoryDistribution
2026-01-21T00:27:30.7258161Z === RUN   TestCategoryDistribution/CategoryBalance
2026-01-21T00:27:30.7258876Z     metadata_test.go:350: Metric distribution by category:
2026-01-21T00:27:30.7259546Z     metadata_test.go:352:   performance: 1 metrics
2026-01-21T00:27:30.7260129Z     metadata_test.go:352:   cluster: 3 metrics
2026-01-21T00:27:30.7260800Z     metadata_test.go:352:   job: 2 metrics
2026-01-21T00:27:30.7261318Z     metadata_test.go:352:   user: 1 metrics
2026-01-21T00:27:30.7261864Z     metadata_test.go:352:   exporter: 1 metrics
2026-01-21T00:27:30.7262396Z     metadata_test.go:352:   node: 2 metrics
2026-01-21T00:27:30.7262944Z     metadata_test.go:352:   partition: 1 metrics
2026-01-21T00:27:30.7263443Z --- PASS: TestCategoryDistribution (0.00s)
2026-01-21T00:27:30.7264115Z     --- PASS: TestCategoryDistribution/CategoryBalance (0.00s)
2026-01-21T00:27:30.7264688Z === RUN   TestPerformanceMetrics
2026-01-21T00:27:30.7268439Z     performance_test.go:39: 
2026-01-21T00:27:30.7269750Z         	Error Trace:	D:/a/slurm-exporter/slurm-exporter/internal/metrics/performance_test.go:39
2026-01-21T00:27:30.7270714Z         	Error:      	"0s" is not greater than "0s"
2026-01-21T00:27:30.7271327Z         	Test:       	TestPerformanceMetrics
2026-01-21T00:27:30.7271791Z --- FAIL: TestPerformanceMetrics (0.02s)
2026-01-21T00:27:30.7272278Z === RUN   TestCacheMetricsRecorder
2026-01-21T00:27:30.7272730Z --- PASS: TestCacheMetricsRecorder (0.00s)
2026-01-21T00:27:30.7273185Z === RUN   TestCardinalityTracker
2026-01-21T00:27:30.7273607Z --- PASS: TestCardinalityTracker (0.15s)
2026-01-21T00:27:30.7274050Z === RUN   TestTimerZeroDuration
2026-01-21T00:27:30.7274490Z --- PASS: TestTimerZeroDuration (0.00s)
2026-01-21T00:27:30.7274948Z === RUN   TestMetricsDoubleRegistration
2026-01-21T00:27:30.7275456Z --- PASS: TestMetricsDoubleRegistration (0.00s)
2026-01-21T00:27:30.7275936Z === RUN   TestUpdateFunctions
2026-01-21T00:27:30.7276335Z --- PASS: TestUpdateFunctions (0.00s)
2026-01-21T00:27:30.7276708Z FAIL
2026-01-21T00:27:30.7276960Z coverage: 56.1% of statements
2026-01-21T00:27:30.7277476Z FAIL	github.com/jontk/slurm-exporter/internal/metrics	0.308s
2026-01-21T00:27:31.9738252Z === RUN   TestNewBatchProcessor
2026-01-21T00:27:31.9739243Z === RUN   TestNewBatchProcessor/default_values
2026-01-21T00:27:31.9739865Z time="2026-01-21T00:27:30Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9740577Z time="2026-01-21T00:27:30Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9741202Z === RUN   TestNewBatchProcessor/custom_values
2026-01-21T00:27:31.9741816Z time="2026-01-21T00:27:30Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9742827Z time="2026-01-21T00:27:30Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9744018Z --- PASS: TestNewBatchProcessor (0.05s)
2026-01-21T00:27:31.9744906Z     --- PASS: TestNewBatchProcessor/default_values (0.05s)
2026-01-21T00:27:31.9745590Z     --- PASS: TestNewBatchProcessor/custom_values (0.00s)
2026-01-21T00:27:31.9746087Z === RUN   TestBatchProcessor_Add
2026-01-21T00:27:31.9746618Z time="2026-01-21T00:27:30Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9747632Z time="2026-01-21T00:27:30Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:27:31.9748608Z time="2026-01-21T00:27:30Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9749183Z --- PASS: TestBatchProcessor_Add (0.00s)
2026-01-21T00:27:31.9749646Z === RUN   TestBatchProcessor_Deduplication
2026-01-21T00:27:31.9750199Z time="2026-01-21T00:27:30Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9751191Z time="2026-01-21T00:27:30Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:27:31.9752168Z time="2026-01-21T00:27:30Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9752798Z --- PASS: TestBatchProcessor_Deduplication (0.00s)
2026-01-21T00:27:31.9753664Z === RUN   TestBatchProcessor_AutoFlush
2026-01-21T00:27:31.9754215Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9754925Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9755815Z --- PASS: TestBatchProcessor_AutoFlush (0.20s)
2026-01-21T00:27:31.9756553Z === RUN   TestBatchProcessor_TimeBasedFlush
2026-01-21T00:27:31.9757190Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9757905Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9758540Z --- PASS: TestBatchProcessor_TimeBasedFlush (0.11s)
2026-01-21T00:27:31.9759439Z === RUN   TestBatchProcessor_RetryLogic
2026-01-21T00:27:31.9760474Z time="2026-01-21T00:27:31Z" level=warning msg="Batch processing failed, retrying" attempt=1 batch_type=test error="simulated error" items=1
2026-01-21T00:27:31.9762042Z time="2026-01-21T00:27:31Z" level=warning msg="Batch processing failed, retrying" attempt=2 batch_type=test error="simulated error" items=1
2026-01-21T00:27:31.9763257Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9763994Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9764634Z --- PASS: TestBatchProcessor_RetryLogic (0.03s)
2026-01-21T00:27:31.9765156Z === RUN   TestBatchProcessor_ConcurrentAdd
2026-01-21T00:27:31.9765749Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9766773Z time="2026-01-21T00:27:31Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:27:31.9767799Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9768465Z --- PASS: TestBatchProcessor_ConcurrentAdd (0.00s)
2026-01-21T00:27:31.9768972Z === RUN   TestBatchProcessor_FlushAll
2026-01-21T00:27:31.9770480Z time="2026-01-21T00:27:31Z" level=warning msg="No processor registered for batch type during flush" batch_type=type1
2026-01-21T00:27:31.9771742Z time="2026-01-21T00:27:31Z" level=warning msg="No processor registered for batch type during flush" batch_type=type2
2026-01-21T00:27:31.9772983Z time="2026-01-21T00:27:31Z" level=warning msg="No processor registered for batch type during flush" batch_type=type3
2026-01-21T00:27:31.9773905Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9774583Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9775690Z --- PASS: TestBatchProcessor_FlushAll (0.10s)
2026-01-21T00:27:31.9776161Z === RUN   TestBatchProcessor_GetStats
2026-01-21T00:27:31.9776715Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9777994Z time="2026-01-21T00:27:31Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:27:31.9778983Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9779590Z --- PASS: TestBatchProcessor_GetStats (0.00s)
2026-01-21T00:27:31.9780062Z === RUN   TestBatchProcessor_Stop
2026-01-21T00:27:31.9780611Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9781552Z time="2026-01-21T00:27:31Z" level=warning msg="No processor registered for batch type during flush" batch_type=test
2026-01-21T00:27:31.9782408Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9782929Z --- PASS: TestBatchProcessor_Stop (0.00s)
2026-01-21T00:27:31.9783378Z === RUN   TestBatchProcessor_RegisterMetrics
2026-01-21T00:27:31.9783947Z time="2026-01-21T00:27:31Z" level=info msg="Stopping batch processor"
2026-01-21T00:27:31.9784619Z time="2026-01-21T00:27:31Z" level=info msg="Batch processor stopped"
2026-01-21T00:27:31.9785220Z --- PASS: TestBatchProcessor_RegisterMetrics (0.00s)
2026-01-21T00:27:31.9786100Z === RUN   TestNewIntelligentCache
2026-01-21T00:27:31.9786918Z --- PASS: TestNewIntelligentCache (0.00s)
2026-01-21T00:27:31.9787412Z === RUN   TestIntelligentCache_BasicOperations
2026-01-21T00:27:31.9787955Z --- PASS: TestIntelligentCache_BasicOperations (0.00s)
2026-01-21T00:27:31.9788494Z === RUN   TestIntelligentCache_AdaptiveTTL
2026-01-21T00:27:31.9788966Z --- PASS: TestIntelligentCache_AdaptiveTTL (0.24s)
2026-01-21T00:27:31.9789727Z === RUN   TestIntelligentCache_StabilityScore
2026-01-21T00:27:31.9790240Z --- PASS: TestIntelligentCache_StabilityScore (0.00s)
2026-01-21T00:27:31.9790781Z === RUN   TestIntelligentCache_ChangeDetection
2026-01-21T00:27:31.9791251Z --- PASS: TestIntelligentCache_ChangeDetection (0.00s)
2026-01-21T00:27:31.9791764Z === RUN   TestIntelligentCache_SizeEstimation
2026-01-21T00:27:31.9792264Z --- PASS: TestIntelligentCache_SizeEstimation (0.00s)
2026-01-21T00:27:31.9792782Z === RUN   TestIntelligentCache_LRUEviction
2026-01-21T00:27:31.9793289Z --- PASS: TestIntelligentCache_LRUEviction (0.05s)
2026-01-21T00:27:31.9793808Z === RUN   TestIntelligentCache_TTLExpiration
2026-01-21T00:27:31.9794312Z --- PASS: TestIntelligentCache_TTLExpiration (0.15s)
2026-01-21T00:27:31.9794810Z === RUN   TestIntelligentCache_CachedFunction
2026-01-21T00:27:31.9795616Z --- PASS: TestIntelligentCache_CachedFunction (0.00s)
2026-01-21T00:27:31.9796118Z === RUN   TestIntelligentCache_GetStats
2026-01-21T00:27:31.9796578Z --- PASS: TestIntelligentCache_GetStats (0.00s)
2026-01-21T00:27:31.9797067Z === RUN   TestIntelligentCache_GetTopEntries
2026-01-21T00:27:31.9797573Z --- PASS: TestIntelligentCache_GetTopEntries (0.00s)
2026-01-21T00:27:31.9798059Z === RUN   TestIntelligentCache_Clear
2026-01-21T00:27:31.9798486Z --- PASS: TestIntelligentCache_Clear (0.00s)
2026-01-21T00:27:31.9798898Z === RUN   TestProfiler
2026-01-21T00:27:31.9799227Z === RUN   TestProfiler/NewProfiler
2026-01-21T00:27:31.9799633Z === RUN   TestProfiler/DisabledProfiler
2026-01-21T00:27:31.9800068Z === RUN   TestProfiler/StartOperation
2026-01-21T00:27:31.9800473Z === RUN   TestProfiler/Phases
2026-01-21T00:27:31.9800823Z === RUN   TestProfiler/AutoProfile
2026-01-21T00:27:31.9801259Z === RUN   TestProfiler/ProfileCollection
2026-01-21T00:27:31.9801893Z runtime: cannot set cpu profile rate until previous profile has finished.
2026-01-21T00:27:31.9802505Z === RUN   TestProfiler/Report
2026-01-21T00:27:31.9802877Z === RUN   TestProfiler/ListProfiles
2026-01-21T00:27:31.9803273Z === RUN   TestProfiler/Metrics
2026-01-21T00:27:31.9803621Z === RUN   TestProfiler/Stats
2026-01-21T00:27:31.9803974Z --- PASS: TestProfiler (0.22s)
2026-01-21T00:27:31.9804446Z     --- PASS: TestProfiler/NewProfiler (0.00s)
2026-01-21T00:27:31.9805000Z     --- PASS: TestProfiler/DisabledProfiler (0.00s)
2026-01-21T00:27:31.9805566Z     --- PASS: TestProfiler/StartOperation (0.00s)
2026-01-21T00:27:31.9806325Z     --- PASS: TestProfiler/Phases (0.06s)
2026-01-21T00:27:31.9806815Z     --- PASS: TestProfiler/AutoProfile (0.08s)
2026-01-21T00:27:31.9807381Z     --- PASS: TestProfiler/ProfileCollection (0.02s)
2026-01-21T00:27:31.9807908Z     --- PASS: TestProfiler/Report (0.01s)
2026-01-21T00:27:31.9808431Z     --- PASS: TestProfiler/ListProfiles (0.03s)
2026-01-21T00:27:31.9808937Z     --- PASS: TestProfiler/Metrics (0.02s)
2026-01-21T00:27:31.9809398Z     --- PASS: TestProfiler/Stats (0.00s)
2026-01-21T00:27:31.9809801Z === RUN   TestFileProfileStorage
2026-01-21T00:27:31.9810224Z === RUN   TestFileProfileStorage/SaveAndLoad
2026-01-21T00:27:31.9811295Z time="2026-01-21T00:27:31Z" level=info msg="Profile saved" collector=test_collector duration=1m0s profile_id=test_collector_1768955251939970700 size=22
2026-01-21T00:27:31.9812331Z === RUN   TestFileProfileStorage/Delete
2026-01-21T00:27:31.9813305Z time="2026-01-21T00:27:31Z" level=info msg="Profile saved" collector=delete_test duration=1s profile_id=delete_test_1768955251941419900 size=0
2026-01-21T00:27:31.9814386Z === RUN   TestFileProfileStorage/Cleanup
2026-01-21T00:27:31.9815804Z time="2026-01-21T00:27:31Z" level=info msg="Profile saved" collector=old_test duration=1s profile_id=old_test_1768948051945453500 size=0
2026-01-21T00:27:31.9816797Z === RUN   TestFileProfileStorage/Stats
2026-01-21T00:27:31.9817257Z --- PASS: TestFileProfileStorage (0.01s)
2026-01-21T00:27:31.9817864Z     --- PASS: TestFileProfileStorage/SaveAndLoad (0.00s)
2026-01-21T00:27:31.9818472Z     --- PASS: TestFileProfileStorage/Delete (0.00s)
2026-01-21T00:27:31.9819282Z     --- PASS: TestFileProfileStorage/Cleanup (0.00s)
2026-01-21T00:27:31.9819887Z     --- PASS: TestFileProfileStorage/Stats (0.00s)
2026-01-21T00:27:31.9820351Z === RUN   TestMemoryProfileStorage
2026-01-21T00:27:31.9820774Z === RUN   TestMemoryProfileStorage/SaveAndLoad
2026-01-21T00:27:31.9821291Z === RUN   TestMemoryProfileStorage/EnforceLimits
2026-01-21T00:27:31.9821785Z === RUN   TestMemoryProfileStorage/Cleanup
2026-01-21T00:27:31.9822225Z === RUN   TestMemoryProfileStorage/Stats
2026-01-21T00:27:31.9822660Z --- PASS: TestMemoryProfileStorage (0.00s)
2026-01-21T00:27:31.9823274Z     --- PASS: TestMemoryProfileStorage/SaveAndLoad (0.00s)
2026-01-21T00:27:31.9823977Z     --- PASS: TestMemoryProfileStorage/EnforceLimits (0.00s)
2026-01-21T00:27:31.9824630Z     --- PASS: TestMemoryProfileStorage/Cleanup (0.00s)
2026-01-21T00:27:31.9825245Z     --- PASS: TestMemoryProfileStorage/Stats (0.00s)
2026-01-21T00:27:31.9825666Z PASS
2026-01-21T00:27:31.9825919Z coverage: 40.3% of statements
2026-01-21T00:27:31.9826649Z ok  	github.com/jontk/slurm-exporter/internal/performance	1.230s	coverage: 40.3% of statements
2026-01-21T00:27:31.9827440Z === RUN   TestCircuitBreaker_Basic
2026-01-21T00:27:31.9827880Z --- PASS: TestCircuitBreaker_Basic (0.00s)
2026-01-21T00:27:31.9828355Z === RUN   TestCircuitBreaker_FailureThreshold
2026-01-21T00:27:31.9829422Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:27:31.9831003Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:27:31.9832597Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=3 state=closed
2026-01-21T00:27:31.9833710Z --- PASS: TestCircuitBreaker_FailureThreshold (0.05s)
2026-01-21T00:27:31.9834236Z === RUN   TestCircuitBreaker_Recovery
2026-01-21T00:27:31.9835254Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:27:31.9837275Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:27:31.9838357Z --- PASS: TestCircuitBreaker_Recovery (0.06s)
2026-01-21T00:27:31.9839126Z === RUN   TestCircuitBreaker_HalfOpenFailure
2026-01-21T00:27:31.9840197Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:27:31.9841795Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:27:31.9843387Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=3 state=half-open
2026-01-21T00:27:31.9844472Z --- PASS: TestCircuitBreaker_HalfOpenFailure (0.06s)
2026-01-21T00:27:31.9845007Z === RUN   TestCircuitBreaker_HalfOpenCapacity
2026-01-21T00:27:31.9846027Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:27:31.9847595Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:27:31.9848686Z --- PASS: TestCircuitBreaker_HalfOpenCapacity (0.06s)
2026-01-21T00:27:31.9849197Z === RUN   TestCircuitBreaker_CallWithContext
2026-01-21T00:27:31.9850201Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:27:31.9851219Z --- PASS: TestCircuitBreaker_CallWithContext (0.00s)
2026-01-21T00:27:31.9851695Z === RUN   TestCircuitBreaker_Disabled
2026-01-21T00:27:31.9852375Z --- PASS: TestCircuitBreaker_Disabled (0.00s)
2026-01-21T00:27:31.9852843Z === RUN   TestCircuitBreaker_Reset
2026-01-21T00:27:31.9853854Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=1 state=closed
2026-01-21T00:27:31.9855473Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=test error="test error" failures=2 state=closed
2026-01-21T00:27:31.9856776Z --- PASS: TestCircuitBreaker_Reset (0.00s)
2026-01-21T00:27:31.9857210Z === RUN   TestCircuitBreaker_Status
2026-01-21T00:27:31.9857631Z --- PASS: TestCircuitBreaker_Status (0.00s)
2026-01-21T00:27:31.9858081Z === RUN   TestCircuitBreakerManager
2026-01-21T00:27:31.9858519Z --- PASS: TestCircuitBreakerManager (0.00s)
2026-01-21T00:27:31.9859040Z === RUN   TestCircuitBreakerManager_HealthCheck
2026-01-21T00:27:31.9860133Z time="2026-01-21T00:27:31Z" level=warning msg="Circuit breaker recorded failure" circuit_breaker=cb1 error="test error" failures=1 state=closed
2026-01-21T00:27:31.9861543Z --- PASS: TestCircuitBreakerManager_HealthCheck (0.00s)
2026-01-21T00:27:31.9862038Z === RUN   TestState_String
2026-01-21T00:27:31.9862389Z --- PASS: TestState_String (0.00s)
2026-01-21T00:27:31.9862773Z === RUN   TestStatus_TimeUntilRetry
2026-01-21T00:27:31.9863197Z --- PASS: TestStatus_TimeUntilRetry (0.00s)
2026-01-21T00:27:31.9863590Z PASS
2026-01-21T00:27:31.9863833Z coverage: 93.6% of statements
2026-01-21T00:27:31.9864527Z ok  	github.com/jontk/slurm-exporter/internal/resilience	0.340s	coverage: 93.6% of statements
2026-01-21T00:27:45.1452391Z === RUN   TestLoggingMiddleware
2026-01-21T00:27:45.1453002Z --- PASS: TestLoggingMiddleware (0.05s)
2026-01-21T00:27:45.1453468Z === RUN   TestHeadersMiddleware
2026-01-21T00:27:45.1453896Z === RUN   TestHeadersMiddleware/StandardHeaders
2026-01-21T00:27:45.1454389Z === RUN   TestHeadersMiddleware/MetricsEndpointHeaders
2026-01-21T00:27:45.1454951Z --- PASS: TestHeadersMiddleware (0.00s)
2026-01-21T00:27:45.1455564Z     --- PASS: TestHeadersMiddleware/StandardHeaders (0.00s)
2026-01-21T00:27:45.1456330Z     --- PASS: TestHeadersMiddleware/MetricsEndpointHeaders (0.00s)
2026-01-21T00:27:45.1456916Z === RUN   TestRecoveryMiddleware
2026-01-21T00:27:45.1457332Z --- PASS: TestRecoveryMiddleware (0.00s)
2026-01-21T00:27:45.1457777Z === RUN   TestCombinedMiddleware
2026-01-21T00:27:45.1458545Z --- PASS: TestCombinedMiddleware (0.00s)
2026-01-21T00:27:45.1458979Z === RUN   TestMetricsMiddleware
2026-01-21T00:27:45.1460127Z time="2026-01-21T00:27:32Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/other request_size=0 response_size=13 status=200
2026-01-21T00:27:45.1462046Z time="2026-01-21T00:27:32Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/metrics request_size=0 response_size=13 status=200
2026-01-21T00:27:45.1464026Z time="2026-01-21T00:27:32Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=POST path=/other request_size=0 response_size=13 status=200
2026-01-21T00:27:45.1465953Z time="2026-01-21T00:27:32Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=PUT path=/other request_size=0 response_size=13 status=200
2026-01-21T00:27:45.1468217Z time="2026-01-21T00:27:32Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/ request_size=0 response_size=13 status=200
2026-01-21T00:27:45.1470134Z time="2026-01-21T00:27:32Z" level=debug msg="HTTP metrics recorded" component=http_metrics duration=0s method=GET path=/other request_size=0 response_size=13 status=200
2026-01-21T00:27:45.1471322Z --- PASS: TestMetricsMiddleware (0.00s)
2026-01-21T00:27:45.1471761Z === RUN   TestBasicAuthMiddleware
2026-01-21T00:27:45.1472236Z === RUN   TestBasicAuthMiddleware/BasicAuthDisabled
2026-01-21T00:27:45.1472915Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledNonMetricsEndpoint
2026-01-21T00:27:45.1473958Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledNoCredentials
2026-01-21T00:27:45.1475185Z time="2026-01-21T00:27:32Z" level=warning msg="Missing basic auth credentials" component=basic_auth path=/metrics remote_addr="192.0.2.1:1234"
2026-01-21T00:27:45.1476390Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledInvalidCredentials
2026-01-21T00:27:45.1477688Z time="2026-01-21T00:27:32Z" level=warning msg="Invalid basic auth credentials" component=basic_auth path=/metrics remote_addr="192.0.2.1:1234" username=wrong
2026-01-21T00:27:45.1478979Z === RUN   TestBasicAuthMiddleware/BasicAuthEnabledValidCredentials
2026-01-21T00:27:45.1479614Z --- PASS: TestBasicAuthMiddleware (0.00s)
2026-01-21T00:27:45.1480296Z     --- PASS: TestBasicAuthMiddleware/BasicAuthDisabled (0.00s)
2026-01-21T00:27:45.1481215Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledNonMetricsEndpoint (0.00s)
2026-01-21T00:27:45.1482247Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledNoCredentials (0.00s)
2026-01-21T00:27:45.1483251Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledInvalidCredentials (0.00s)
2026-01-21T00:27:45.1484284Z     --- PASS: TestBasicAuthMiddleware/BasicAuthEnabledValidCredentials (0.00s)
2026-01-21T00:27:45.1484953Z === RUN   TestTimeoutMiddleware
2026-01-21T00:27:45.1485371Z === RUN   TestTimeoutMiddleware/NormalRequest
2026-01-21T00:27:45.1485868Z === RUN   TestTimeoutMiddleware/TimeoutRequest
2026-01-21T00:27:45.1487372Z time="2026-01-21T00:27:37Z" level=warning msg="Request timeout exceeded" component=timeout_middleware method=GET path=/health timeout=5s
2026-01-21T00:27:45.1488499Z === RUN   TestTimeoutMiddleware/MetricsEndpointTimeout
2026-01-21T00:27:45.1489057Z === RUN   TestTimeoutMiddleware/CancelledContext
2026-01-21T00:27:45.1490226Z time="2026-01-21T00:27:45Z" level=debug msg="Request context already cancelled" component=timeout_middleware error="context canceled" method=GET path=/test
2026-01-21T00:27:45.1491372Z --- PASS: TestTimeoutMiddleware (13.00s)
2026-01-21T00:27:45.1491990Z     --- PASS: TestTimeoutMiddleware/NormalRequest (0.00s)
2026-01-21T00:27:45.1492693Z     --- PASS: TestTimeoutMiddleware/TimeoutRequest (5.00s)
2026-01-21T00:27:45.1493437Z     --- PASS: TestTimeoutMiddleware/MetricsEndpointTimeout (8.00s)
2026-01-21T00:27:45.1494204Z     --- PASS: TestTimeoutMiddleware/CancelledContext (0.00s)
2026-01-21T00:27:45.1494720Z === RUN   TestResponseWriter
2026-01-21T00:27:45.1495373Z --- PASS: TestResponseWriter (0.00s)
2026-01-21T00:27:45.1495753Z === RUN   TestNew
2026-01-21T00:27:45.1496059Z === RUN   TestNew/WithValidConfig
2026-01-21T00:27:45.1496446Z === RUN   TestNew/WithNilRegistry
2026-01-21T00:27:45.1496809Z --- PASS: TestNew (0.00s)
2026-01-21T00:27:45.1497824Z     --- PASS: TestNew/WithValidConfig (0.00s)
2026-01-21T00:27:45.1498821Z     --- PASS: TestNew/WithNilRegistry (0.00s)
2026-01-21T00:27:45.1499181Z === RUN   TestHealthEndpoint
2026-01-21T00:27:45.1499426Z --- PASS: TestHealthEndpoint (0.00s)
2026-01-21T00:27:45.1499690Z === RUN   TestReadyEndpoint
2026-01-21T00:27:45.1499950Z === RUN   TestReadyEndpoint/WithEnabledCollectors
2026-01-21T00:27:45.1500268Z === RUN   TestReadyEndpoint/WithNoEnabledCollectors
2026-01-21T00:27:45.1500570Z === RUN   TestReadyEndpoint/WithNilRegistry
2026-01-21T00:27:45.1500830Z --- PASS: TestReadyEndpoint (0.00s)
2026-01-21T00:27:45.1501222Z     --- PASS: TestReadyEndpoint/WithEnabledCollectors (0.00s)
2026-01-21T00:27:45.1501681Z     --- PASS: TestReadyEndpoint/WithNoEnabledCollectors (0.00s)
2026-01-21T00:27:45.1502083Z     --- PASS: TestReadyEndpoint/WithNilRegistry (0.00s)
2026-01-21T00:27:45.1502376Z === RUN   TestRootEndpoint
2026-01-21T00:27:45.1502589Z --- PASS: TestRootEndpoint (0.00s)
2026-01-21T00:27:45.1502826Z === RUN   TestMetricsEndpoint
2026-01-21T00:27:45.1503060Z === RUN   TestMetricsEndpoint/WithRegistry
2026-01-21T00:27:45.1503697Z === RUN   TestMetricsEndpoint/WithCollectionError
2026-01-21T00:27:45.1504397Z === RUN   TestMetricsEndpoint/WithNilRegistry
2026-01-21T00:27:45.1504707Z --- PASS: TestMetricsEndpoint (0.00s)
2026-01-21T00:27:45.1505039Z     --- PASS: TestMetricsEndpoint/WithRegistry (0.00s)
2026-01-21T00:27:45.1505606Z     --- PASS: TestMetricsEndpoint/WithCollectionError (0.00s)
2026-01-21T00:27:45.1506093Z     --- PASS: TestMetricsEndpoint/WithNilRegistry (0.00s)
2026-01-21T00:27:45.1506400Z === RUN   TestServerLifecycle
2026-01-21T00:27:45.1506659Z === RUN   TestServerLifecycle/StartAndShutdown
2026-01-21T00:27:45.1506944Z --- PASS: TestServerLifecycle (0.10s)
2026-01-21T00:27:45.1507294Z     --- PASS: TestServerLifecycle/StartAndShutdown (0.10s)
2026-01-21T00:27:45.1507606Z === RUN   TestServerConfiguration
2026-01-21T00:27:45.1507856Z === RUN   TestServerConfiguration/GetMethods
2026-01-21T00:27:45.1508225Z === RUN   TestServerConfiguration/RegistryMethods
2026-01-21T00:27:45.1508673Z --- PASS: TestServerConfiguration (0.00s)
2026-01-21T00:27:45.1509417Z     --- PASS: TestServerConfiguration/GetMethods (0.00s)
2026-01-21T00:27:45.1510047Z     --- PASS: TestServerConfiguration/RegistryMethods (0.00s)
2026-01-21T00:27:45.1510493Z === RUN   TestTLSConfiguration
2026-01-21T00:27:45.1510793Z === RUN   TestTLSConfiguration/TLSDisabled
2026-01-21T00:27:45.1521304Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:27:45.1521936Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:27:45.1522585Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:27:45.1523088Z === RUN   TestTLSConfiguration/TLSEnabledMissingCertFile
2026-01-21T00:27:45.1523562Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:27:45.1524138Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:27:45.1524757Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:27:45.1525257Z === RUN   TestTLSConfiguration/TLSEnabledMissingKeyFile
2026-01-21T00:27:45.1525907Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=service component=health
2026-01-21T00:27:45.1526866Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=registry component=health
2026-01-21T00:27:45.1527725Z time="2026-01-21T00:27:45Z" level=debug msg="Health check registered" check=metrics_endpoint component=health
2026-01-21T00:27:45.1528206Z === RUN   TestTLSConfiguration/TLSMinVersionParsing
2026-01-21T00:27:45.1528513Z === RUN   TestTLSConfiguration/TLSInvalidMinVersion
2026-01-21T00:27:45.1528784Z --- PASS: TestTLSConfiguration (0.00s)
2026-01-21T00:27:45.1529107Z     --- PASS: TestTLSConfiguration/TLSDisabled (0.00s)
2026-01-21T00:27:45.1529514Z     --- PASS: TestTLSConfiguration/TLSEnabledMissingCertFile (0.00s)
2026-01-21T00:27:45.1529969Z     --- PASS: TestTLSConfiguration/TLSEnabledMissingKeyFile (0.00s)
2026-01-21T00:27:45.1530392Z     --- PASS: TestTLSConfiguration/TLSMinVersionParsing (0.00s)
2026-01-21T00:27:45.1530808Z     --- PASS: TestTLSConfiguration/TLSInvalidMinVersion (0.00s)
2026-01-21T00:27:45.1531097Z === RUN   TestSetupRoutes
2026-01-21T00:27:45.1532107Z time="2026-01-21T00:27:45Z" level=error msg="HTTP request" duration=7.9295ms duration_ms=7.9295 method=GET path=/health query= referer= remote_addr="192.0.2.1:1234" response_size=752 status=503 user_agent=
2026-01-21T00:27:45.1533526Z time="2026-01-21T00:27:45Z" level=error msg="HTTP request" duration=1.4918ms duration_ms=1.4918 method=GET path=/ready query= referer= remote_addr="192.0.2.1:1234" response_size=114 status=503 user_agent=
2026-01-21T00:27:45.1534264Z --- PASS: TestSetupRoutes (0.01s)
2026-01-21T00:27:45.1534468Z PASS
2026-01-21T00:27:45.1534617Z coverage: 48.4% of statements
2026-01-21T00:27:45.1535128Z ok  	github.com/jontk/slurm-exporter/internal/server	13.228s	coverage: 48.4% of statements
2026-01-21T00:27:45.1535532Z === RUN   TestNewClient
2026-01-21T00:27:45.1535725Z === RUN   TestNewClient/valid_config
2026-01-21T00:27:45.1536401Z time="2026-01-21T00:27:33Z" level=warning msg="Initial SLURM connection test failed" error="SLURM API connection test failed: [DEADLINE_EXCEEDED] Operation deadline exceeded"
2026-01-21T00:27:45.1537131Z === RUN   TestNewClient/invalid_config_-_empty_base_URL
2026-01-21T00:27:45.1537713Z === RUN   TestNewClient/invalid_config_-_negative_timeout
2026-01-21T00:27:45.1538123Z --- PASS: TestNewClient (2.05s)
2026-01-21T00:27:45.1538407Z     --- PASS: TestNewClient/valid_config (2.05s)
2026-01-21T00:27:45.1538785Z     --- PASS: TestNewClient/invalid_config_-_empty_base_URL (0.00s)
2026-01-21T00:27:45.1539213Z     --- PASS: TestNewClient/invalid_config_-_negative_timeout (0.00s)
2026-01-21T00:27:45.1539532Z === RUN   TestNewConnectionPool
2026-01-21T00:27:45.1540053Z     client_test.go:93: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:27:45.1540514Z --- SKIP: TestNewConnectionPool (0.00s)
2026-01-21T00:27:45.1540769Z === RUN   TestConnectionPoolGetClient
2026-01-21T00:27:45.1541287Z     client_test.go:158: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:27:45.1541750Z --- SKIP: TestConnectionPoolGetClient (0.00s)
2026-01-21T00:27:45.1542019Z === RUN   TestClientConnectionStatus
2026-01-21T00:27:45.1542520Z     client_test.go:199: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:27:45.1543184Z --- SKIP: TestClientConnectionStatus (0.00s)
2026-01-21T00:27:45.1543590Z === RUN   TestClientContextCancellation
2026-01-21T00:27:45.1544108Z     client_test.go:236: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:27:45.1544584Z --- SKIP: TestClientContextCancellation (0.00s)
2026-01-21T00:27:45.1544858Z === RUN   TestClientRateLimiting
2026-01-21T00:27:45.1545349Z     client_test.go:273: Skipping test that requires network connection - no mock SLURM server available
2026-01-21T00:27:45.1545972Z --- SKIP: TestClientRateLimiting (0.00s)
2026-01-21T00:27:45.1546202Z PASS
2026-01-21T00:27:45.1546358Z coverage: 19.7% of statements
2026-01-21T00:27:45.1546731Z ok  	github.com/jontk/slurm-exporter/internal/slurm	2.106s	coverage: 19.7% of statements
2026-01-21T00:27:45.1547286Z === RUN   TestConfigureAuth
2026-01-21T00:27:45.1547506Z === RUN   TestConfigureAuth/none_auth
2026-01-21T00:27:45.1547748Z === RUN   TestConfigureAuth/jwt_with_token
2026-01-21T00:27:45.1548015Z === RUN   TestConfigureAuth/jwt_without_token
2026-01-21T00:27:45.1548302Z === RUN   TestConfigureAuth/basic_auth_with_credentials
2026-01-21T00:27:45.1548905Z === RUN   TestConfigureAuth/basic_auth_without_username
2026-01-21T00:27:45.1549339Z === RUN   TestConfigureAuth/basic_auth_without_password
2026-01-21T00:27:45.1549628Z === RUN   TestConfigureAuth/apikey_with_key
2026-01-21T00:27:45.1549898Z === RUN   TestConfigureAuth/unsupported_auth_type
2026-01-21T00:27:45.1550177Z --- PASS: TestConfigureAuth (0.00s)
2026-01-21T00:27:45.1550468Z     --- PASS: TestConfigureAuth/none_auth (0.00s)
2026-01-21T00:27:45.1550793Z     --- PASS: TestConfigureAuth/jwt_with_token (0.00s)
2026-01-21T00:27:45.1551145Z     --- PASS: TestConfigureAuth/jwt_without_token (0.00s)
2026-01-21T00:27:45.1551541Z     --- PASS: TestConfigureAuth/basic_auth_with_credentials (0.00s)
2026-01-21T00:27:45.1551969Z     --- PASS: TestConfigureAuth/basic_auth_without_username (0.00s)
2026-01-21T00:27:45.1552385Z     --- PASS: TestConfigureAuth/basic_auth_without_password (0.00s)
2026-01-21T00:27:45.1552759Z     --- PASS: TestConfigureAuth/apikey_with_key (0.00s)
2026-01-21T00:27:45.1553130Z     --- PASS: TestConfigureAuth/unsupported_auth_type (0.00s)
2026-01-21T00:27:45.1553427Z === RUN   TestReadSecretFile
2026-01-21T00:27:45.1553648Z === RUN   TestReadSecretFile/valid_secret_file
2026-01-21T00:27:45.1554911Z time="2026-01-21T00:27:32Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test867613331\\token.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1555694Z === RUN   TestReadSecretFile/secret_with_newlines
2026-01-21T00:27:45.1556498Z time="2026-01-21T00:27:32Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test867613331\\token-newline.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1557266Z === RUN   TestReadSecretFile/empty_file
2026-01-21T00:27:45.1557990Z time="2026-01-21T00:27:32Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test867613331\\empty.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1558740Z === RUN   TestReadSecretFile/file_with_spaces_only
2026-01-21T00:27:45.1559515Z time="2026-01-21T00:27:32Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test867613331\\spaces.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1560634Z === RUN   TestReadSecretFile/overly_permissive_file
2026-01-21T00:27:45.1561426Z time="2026-01-21T00:27:32Z" level=warning msg="test secret file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-test867613331\\permissive.txt has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1562195Z === RUN   TestReadSecretFile/non-existent_file
2026-01-21T00:27:45.1562456Z --- PASS: TestReadSecretFile (0.06s)
2026-01-21T00:27:45.1562818Z     --- PASS: TestReadSecretFile/valid_secret_file (0.05s)
2026-01-21T00:27:45.1563203Z     --- PASS: TestReadSecretFile/secret_with_newlines (0.00s)
2026-01-21T00:27:45.1563555Z     --- PASS: TestReadSecretFile/empty_file (0.00s)
2026-01-21T00:27:45.1563924Z     --- PASS: TestReadSecretFile/file_with_spaces_only (0.00s)
2026-01-21T00:27:45.1564324Z     --- PASS: TestReadSecretFile/overly_permissive_file (0.01s)
2026-01-21T00:27:45.1564705Z     --- PASS: TestReadSecretFile/non-existent_file (0.00s)
2026-01-21T00:27:45.1564999Z === RUN   TestConfigureAuthWithFiles
2026-01-21T00:27:45.1565515Z === RUN   TestConfigureAuthWithFiles/jwt_with_token_file
2026-01-21T00:27:45.1566449Z time="2026-01-21T00:27:32Z" level=warning msg="JWT token file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-file-test1132581986\\jwt-token has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1567398Z === RUN   TestConfigureAuthWithFiles/basic_auth_with_password_file
2026-01-21T00:27:45.1568234Z time="2026-01-21T00:27:32Z" level=warning msg="password file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-file-test1132581986\\password has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1569029Z === RUN   TestConfigureAuthWithFiles/apikey_with_key_file
2026-01-21T00:27:45.1569822Z time="2026-01-21T00:27:32Z" level=warning msg="API key file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\auth-file-test1132581986\\api-key has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1570576Z --- PASS: TestConfigureAuthWithFiles (0.00s)
2026-01-21T00:27:45.1571504Z     --- PASS: TestConfigureAuthWithFiles/jwt_with_token_file (0.00s)
2026-01-21T00:27:45.1572017Z     --- PASS: TestConfigureAuthWithFiles/basic_auth_with_password_file (0.00s)
2026-01-21T00:27:45.1572526Z     --- PASS: TestConfigureAuthWithFiles/apikey_with_key_file (0.00s)
2026-01-21T00:27:45.1572867Z === RUN   TestServiceAccountAuth
2026-01-21T00:27:45.1573131Z === RUN   TestServiceAccountAuth/custom_token_path
2026-01-21T00:27:45.1573928Z time="2026-01-21T00:27:32Z" level=warning msg="service account token file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\sa-test150329436\\token has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1575292Z time="2026-01-21T00:27:32Z" level=warning msg="service account token file C:\\Users\\RUNNER~1\\AppData\\Local\\Temp\\sa-test150329436\\token has permissions -rw-rw-rw-, consider restricting to 600"
2026-01-21T00:27:45.1576068Z === RUN   TestServiceAccountAuth/default_token_path
2026-01-21T00:27:45.1576353Z --- PASS: TestServiceAccountAuth (0.00s)
2026-01-21T00:27:45.1576988Z     --- PASS: TestServiceAccountAuth/custom_token_path (0.00s)
2026-01-21T00:27:45.1577524Z     --- PASS: TestServiceAccountAuth/default_token_path (0.00s)
2026-01-21T00:27:45.1577802Z PASS
2026-01-21T00:27:45.1577965Z coverage: 87.5% of statements
2026-01-21T00:27:45.1578339Z ok  	github.com/jontk/slurm-exporter/internal/slurm/auth	0.106s	coverage: 87.5% of statements
2026-01-21T00:27:45.1578906Z 	github.com/jontk/slurm-exporter/internal/testutil		coverage: 0.0% of statements
2026-01-21T00:27:45.1579454Z 	github.com/jontk/slurm-exporter/internal/testutil/fixtures		coverage: 0.0% of statements
2026-01-21T00:27:45.1580070Z 	github.com/jontk/slurm-exporter/internal/testutil/mocks		coverage: 0.0% of statements
2026-01-21T00:27:45.1580481Z === RUN   TestNewCollectionTracer_Disabled
2026-01-21T00:27:45.1580772Z --- PASS: TestNewCollectionTracer_Disabled (0.00s)
2026-01-21T00:27:45.1581054Z === RUN   TestNewCollectionTracer_Enabled
2026-01-21T00:27:45.1581334Z --- PASS: TestNewCollectionTracer_Enabled (0.00s)
2026-01-21T00:27:45.1581646Z === RUN   TestCollectionTracer_TraceCollection_Disabled
2026-01-21T00:27:45.1582001Z --- PASS: TestCollectionTracer_TraceCollection_Disabled (0.00s)
2026-01-21T00:27:45.1582599Z === RUN   TestCollectionTracer_TraceCollection_Enabled
2026-01-21T00:27:45.1583846Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1584861Z --- PASS: TestCollectionTracer_TraceCollection_Enabled (0.04s)
2026-01-21T00:27:45.1585519Z === RUN   TestCollectionTracer_TraceAPICall_Disabled
2026-01-21T00:27:45.1586162Z --- PASS: TestCollectionTracer_TraceAPICall_Disabled (0.00s)
2026-01-21T00:27:45.1586788Z === RUN   TestCollectionTracer_TraceAPICall_Enabled
2026-01-21T00:27:45.1587707Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1589497Z --- PASS: TestCollectionTracer_TraceAPICall_Enabled (0.00s)
2026-01-21T00:27:45.1590155Z === RUN   TestCollectionTracer_TraceMetricGeneration
2026-01-21T00:27:45.1591072Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1593417Z --- PASS: TestCollectionTracer_TraceMetricGeneration (0.00s)
2026-01-21T00:27:45.1594036Z === RUN   TestCollectionTracer_EnableDetailedTrace
2026-01-21T00:27:45.1595475Z --- PASS: TestCollectionTracer_EnableDetailedTrace (0.15s)
2026-01-21T00:27:45.1596164Z === RUN   TestCollectionTracer_EnableDetailedTrace_Disabled
2026-01-21T00:27:45.1596899Z --- PASS: TestCollectionTracer_EnableDetailedTrace_Disabled (0.00s)
2026-01-21T00:27:45.1597579Z === RUN   TestCollectionTracer_AddSpanAttribute
2026-01-21T00:27:45.1598492Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1599425Z --- PASS: TestCollectionTracer_AddSpanAttribute (0.00s)
2026-01-21T00:27:45.1600865Z === RUN   TestCollectionTracer_AddSpanAttribute_Disabled
2026-01-21T00:27:45.1601577Z --- PASS: TestCollectionTracer_AddSpanAttribute_Disabled (0.00s)
2026-01-21T00:27:45.1602219Z === RUN   TestCollectionTracer_RecordError
2026-01-21T00:27:45.1603073Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1603990Z --- PASS: TestCollectionTracer_RecordError (0.00s)
2026-01-21T00:27:45.1604543Z === RUN   TestCollectionTracer_GetTraceAndSpanID
2026-01-21T00:27:45.1605394Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1607094Z --- PASS: TestCollectionTracer_GetTraceAndSpanID (0.00s)
2026-01-21T00:27:45.1607723Z === RUN   TestCollectionTracer_GetTraceAndSpanID_Disabled
2026-01-21T00:27:45.1608588Z --- PASS: TestCollectionTracer_GetTraceAndSpanID_Disabled (0.00s)
2026-01-21T00:27:45.1609244Z === RUN   TestCollectionTracer_CreateChildSpan
2026-01-21T00:27:45.1610110Z 2026/01/21 00:27:40 traces export: parse "http://http:%2F%2Flocalhost:4317/v1/traces": invalid URL escape "%2F"
2026-01-21T00:27:45.1611035Z --- PASS: TestCollectionTracer_CreateChildSpan (0.00s)
2026-01-21T00:27:45.1612341Z === RUN   TestCollectionTracer_GetStats
2026-01-21T00:27:45.1612868Z --- PASS: TestCollectionTracer_GetStats (0.00s)
2026-01-21T00:27:45.1613370Z === RUN   TestCollectionTracer_GetConfig
2026-01-21T00:27:45.1613869Z --- PASS: TestCollectionTracer_GetConfig (0.00s)
2026-01-21T00:27:45.1614303Z PASS
2026-01-21T00:27:45.1614558Z coverage: 57.4% of statements
2026-01-21T00:27:45.1615228Z ok  	github.com/jontk/slurm-exporter/internal/tracing	0.260s	coverage: 57.4% of statements
2026-01-21T00:27:45.1615921Z === RUN   TestGet
2026-01-21T00:27:45.1616225Z --- PASS: TestGet (0.00s)
2026-01-21T00:27:45.1616576Z === RUN   TestString
2026-01-21T00:27:45.1616897Z --- PASS: TestString (0.00s)
2026-01-21T00:27:45.1617907Z === RUN   TestShort
2026-01-21T00:27:45.1618240Z === RUN   TestShort/dev_version
2026-01-21T00:27:45.1618613Z === RUN   TestShort/release_version
2026-01-21T00:27:45.1619035Z === RUN   TestShort/prerelease_version
2026-01-21T00:27:45.1619476Z --- PASS: TestShort (0.00s)
2026-01-21T00:27:45.1619928Z     --- PASS: TestShort/dev_version (0.00s)
2026-01-21T00:27:45.1620516Z     --- PASS: TestShort/release_version (0.00s)
2026-01-21T00:27:45.1621111Z     --- PASS: TestShort/prerelease_version (0.00s)
2026-01-21T00:27:45.1621599Z === RUN   TestInfoStructure
2026-01-21T00:27:45.1621981Z --- PASS: TestInfoStructure (0.00s)
2026-01-21T00:27:45.1622423Z PASS
2026-01-21T00:27:45.1623160Z coverage: 100.0% of statements
2026-01-21T00:27:45.1624090Z ok  	github.com/jontk/slurm-exporter/pkg/version	0.040s	coverage: 100.0% of statements
2026-01-21T00:27:45.1624799Z testing: warning: no tests to run
2026-01-21T00:27:45.1625153Z PASS
2026-01-21T00:27:45.1625422Z coverage: [no statements]
2026-01-21T00:27:45.1626171Z ok  	github.com/jontk/slurm-exporter/test/benchmark	0.050s	coverage: [no statements] [no tests to run]
2026-01-21T00:27:45.1627031Z === RUN   TestRockyClusterIntegration
2026-01-21T00:27:45.1629861Z     rocky_cluster_test.go:54: Skipping integration test - exporter not running at http://localhost:9341: Get "http://localhost:9341/ready": dial tcp [::1]:9341: connectex: No connection could be made because the target machine actively refused it.
2026-01-21T00:27:45.1631871Z --- SKIP: TestRockyClusterIntegration (0.01s)
2026-01-21T00:27:45.1632314Z PASS
2026-01-21T00:27:45.1632580Z coverage: [no statements]
2026-01-21T00:27:45.1633226Z ok  	github.com/jontk/slurm-exporter/test/integration	0.047s	coverage: [no statements]
2026-01-21T00:27:45.1633949Z === RUN   TestSecurityTestSuite
2026-01-21T00:27:45.1635198Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass
2026-01-21T00:27:45.1635895Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/no_auth
2026-01-21T00:27:45.1636683Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/invalid_token
2026-01-21T00:27:45.1637552Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/sql_injection_token
2026-01-21T00:27:45.1638444Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/path_traversal_token
2026-01-21T00:27:45.1639399Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/script_injection_token
2026-01-21T00:27:45.1641173Z === RUN   TestSecurityTestSuite/TestAuthenticationBypass/null_byte_injection
2026-01-21T00:27:45.1642516Z     security_test.go:145: Null bytes in HTTP headers are rejected by Go's HTTP client - this is correct security behavior
2026-01-21T00:27:45.1643494Z === RUN   TestSecurityTestSuite/TestCSRFProtection
2026-01-21T00:27:45.1644389Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_enable
2026-01-21T00:27:45.1646563Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_disable
2026-01-21T00:27:45.1647699Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_PUT__debug_config_reload
2026-01-21T00:27:45.1648647Z === RUN   TestSecurityTestSuite/TestCSRFProtection/csrf_DELETE__debug_cache_clear
2026-01-21T00:27:45.1649433Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity
2026-01-21T00:27:45.1650112Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_GET
2026-01-21T00:27:45.1650862Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_POST
2026-01-21T00:27:45.1653604Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_PUT
2026-01-21T00:27:45.1654082Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_DELETE
2026-01-21T00:27:45.1654698Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_PATCH
2026-01-21T00:27:45.1655113Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_HEAD
2026-01-21T00:27:45.1655536Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_OPTIONS
2026-01-21T00:27:45.1656126Z === RUN   TestSecurityTestSuite/TestHTTPMethodSecurity/method_TRACE
2026-01-21T00:27:45.1656486Z === RUN   TestSecurityTestSuite/TestHTTPSRedirect
2026-01-21T00:27:45.1656932Z     security_test.go:74: HTTPS redirect testing requires TLS server setup
2026-01-21T00:27:45.1657490Z === RUN   TestSecurityTestSuite/TestInformationDisclosure
2026-01-21T00:27:45.1657925Z === RUN   TestSecurityTestSuite/TestInputValidation
2026-01-21T00:27:45.1658292Z === RUN   TestSecurityTestSuite/TestInputValidation/oversized_input
2026-01-21T00:27:45.1658691Z === RUN   TestSecurityTestSuite/TestInputValidation/null_bytes
2026-01-21T00:27:45.1659371Z     security_test.go:342: Null bytes and control characters are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:27:45.1660002Z === RUN   TestSecurityTestSuite/TestInputValidation/control_characters
2026-01-21T00:27:45.1660709Z     security_test.go:342: Null bytes and control characters are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:27:45.1661313Z === RUN   TestSecurityTestSuite/TestInputValidation/unicode_exploit
2026-01-21T00:27:45.1661710Z === RUN   TestSecurityTestSuite/TestInputValidation/format_string
2026-01-21T00:27:45.1662103Z === RUN   TestSecurityTestSuite/TestInputValidation/ldap_injection
2026-01-21T00:27:45.1662490Z === RUN   TestSecurityTestSuite/TestInputValidation/xml_injection
2026-01-21T00:27:45.1663342Z === RUN   TestSecurityTestSuite/TestInputValidation/json_injection
2026-01-21T00:27:45.1663776Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks
2026-01-21T00:27:45.1664162Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/basic_traversal
2026-01-21T00:27:45.1664615Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/encoded_traversal
2026-01-21T00:27:45.1665057Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/double_encoded
2026-01-21T00:27:45.1665495Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/unicode_traversal
2026-01-21T00:27:45.1665923Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/long_path
2026-01-21T00:27:45.1666309Z === RUN   TestSecurityTestSuite/TestPathTraversalAttacks/null_byte
2026-01-21T00:27:45.1666920Z     security_test.go:174: Null bytes in URLs are rejected by Go's URL parser - this is correct security behavior
2026-01-21T00:27:45.1667394Z === RUN   TestSecurityTestSuite/TestRateLimiting
2026-01-21T00:27:45.1667778Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_profiling
2026-01-21T00:27:45.1668239Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_collectors
2026-01-21T00:27:45.1668790Z === RUN   TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_cache
2026-01-21T00:27:45.1669265Z === RUN   TestSecurityTestSuite/TestSQLInjection
2026-01-21T00:27:45.1669589Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_0
2026-01-21T00:27:45.1670106Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_1
2026-01-21T00:27:45.1670483Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_2
2026-01-21T00:27:45.1670843Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_3
2026-01-21T00:27:45.1671205Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_4
2026-01-21T00:27:45.1671561Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_5
2026-01-21T00:27:45.1671929Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_6
2026-01-21T00:27:45.1672344Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_7
2026-01-21T00:27:45.1672705Z === RUN   TestSecurityTestSuite/TestSQLInjection/sql_injection_8
2026-01-21T00:27:45.1673036Z === RUN   TestSecurityTestSuite/TestSecurityHeaders
2026-01-21T00:27:45.1673331Z === RUN   TestSecurityTestSuite/TestTimeoutAttacks
2026-01-21T00:27:45.1673660Z === RUN   TestSecurityTestSuite/TestTimeoutAttacks/slow_loris
2026-01-21T00:27:45.1673980Z === RUN   TestSecurityTestSuite/TestXSSPrevention
2026-01-21T00:27:45.1674404Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_0
2026-01-21T00:27:45.1674999Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_1
2026-01-21T00:27:45.1675343Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_2
2026-01-21T00:27:45.1675688Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_3
2026-01-21T00:27:45.1676208Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_4
2026-01-21T00:27:45.1676559Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_5
2026-01-21T00:27:45.1676892Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_6
2026-01-21T00:27:45.1677234Z === RUN   TestSecurityTestSuite/TestXSSPrevention/url_param_7
2026-01-21T00:27:45.1677530Z --- PASS: TestSecurityTestSuite (0.19s)
2026-01-21T00:27:45.1677905Z     --- PASS: TestSecurityTestSuite/TestAuthenticationBypass (0.01s)
2026-01-21T00:27:45.1678448Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/no_auth (0.00s)
2026-01-21T00:27:45.1679061Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/invalid_token (0.00s)
2026-01-21T00:27:45.1679733Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/sql_injection_token (0.00s)
2026-01-21T00:27:45.1680658Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/path_traversal_token (0.00s)
2026-01-21T00:27:45.1681359Z         --- PASS: TestSecurityTestSuite/TestAuthenticationBypass/script_injection_token (0.00s)
2026-01-21T00:27:45.1682204Z         --- SKIP: TestSecurityTestSuite/TestAuthenticationBypass/null_byte_injection (0.00s)
2026-01-21T00:27:45.1682704Z     --- PASS: TestSecurityTestSuite/TestCSRFProtection (0.00s)
2026-01-21T00:27:45.1683394Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_enable (0.00s)
2026-01-21T00:27:45.1684293Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_POST__debug_profiling_collector_jobs_disable (0.00s)
2026-01-21T00:27:45.1685106Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_PUT__debug_config_reload (0.00s)
2026-01-21T00:27:45.1685893Z         --- PASS: TestSecurityTestSuite/TestCSRFProtection/csrf_DELETE__debug_cache_clear (0.00s)
2026-01-21T00:27:45.1686633Z     --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity (0.00s)
2026-01-21T00:27:45.1687180Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_GET (0.00s)
2026-01-21T00:27:45.1687768Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_POST (0.00s)
2026-01-21T00:27:45.1688346Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_PUT (0.00s)
2026-01-21T00:27:45.1688934Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_DELETE (0.00s)
2026-01-21T00:27:45.1689527Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_PATCH (0.00s)
2026-01-21T00:27:45.1690111Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_HEAD (0.00s)
2026-01-21T00:27:45.1691836Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_OPTIONS (0.00s)
2026-01-21T00:27:45.1692654Z         --- PASS: TestSecurityTestSuite/TestHTTPMethodSecurity/method_TRACE (0.00s)
2026-01-21T00:27:45.1693160Z     --- SKIP: TestSecurityTestSuite/TestHTTPSRedirect (0.00s)
2026-01-21T00:27:45.1693608Z     --- PASS: TestSecurityTestSuite/TestInformationDisclosure (0.00s)
2026-01-21T00:27:45.1694058Z     --- PASS: TestSecurityTestSuite/TestInputValidation (0.00s)
2026-01-21T00:27:45.1694676Z         --- PASS: TestSecurityTestSuite/TestInputValidation/oversized_input (0.00s)
2026-01-21T00:27:45.1695387Z         --- SKIP: TestSecurityTestSuite/TestInputValidation/null_bytes (0.00s)
2026-01-21T00:27:45.1695977Z         --- SKIP: TestSecurityTestSuite/TestInputValidation/control_characters (0.00s)
2026-01-21T00:27:45.1696779Z         --- PASS: TestSecurityTestSuite/TestInputValidation/unicode_exploit (0.00s)
2026-01-21T00:27:45.1697484Z         --- PASS: TestSecurityTestSuite/TestInputValidation/format_string (0.00s)
2026-01-21T00:27:45.1698185Z         --- PASS: TestSecurityTestSuite/TestInputValidation/ldap_injection (0.00s)
2026-01-21T00:27:45.1698758Z         --- PASS: TestSecurityTestSuite/TestInputValidation/xml_injection (0.00s)
2026-01-21T00:27:45.1699324Z         --- PASS: TestSecurityTestSuite/TestInputValidation/json_injection (0.00s)
2026-01-21T00:27:45.1699812Z     --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks (0.00s)
2026-01-21T00:27:45.1700389Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/basic_traversal (0.00s)
2026-01-21T00:27:45.1701033Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/encoded_traversal (0.00s)
2026-01-21T00:27:45.1701676Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/double_encoded (0.00s)
2026-01-21T00:27:45.1702308Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/unicode_traversal (0.00s)
2026-01-21T00:27:45.1703026Z         --- PASS: TestSecurityTestSuite/TestPathTraversalAttacks/long_path (0.00s)
2026-01-21T00:27:45.1703721Z         --- SKIP: TestSecurityTestSuite/TestPathTraversalAttacks/null_byte (0.00s)
2026-01-21T00:27:45.1704173Z     --- PASS: TestSecurityTestSuite/TestRateLimiting (0.16s)
2026-01-21T00:27:45.1704735Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_profiling (0.05s)
2026-01-21T00:27:45.1705400Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_collectors (0.05s)
2026-01-21T00:27:45.1706231Z         --- PASS: TestSecurityTestSuite/TestRateLimiting/rate_limit__debug_cache (0.05s)
2026-01-21T00:27:45.1706698Z     --- PASS: TestSecurityTestSuite/TestSQLInjection (0.01s)
2026-01-21T00:27:45.1707198Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_0 (0.00s)
2026-01-21T00:27:45.1707753Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_1 (0.00s)
2026-01-21T00:27:45.1708295Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_2 (0.00s)
2026-01-21T00:27:45.1709080Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_3 (0.00s)
2026-01-21T00:27:45.1709631Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_4 (0.00s)
2026-01-21T00:27:45.1710184Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_5 (0.00s)
2026-01-21T00:27:45.1710728Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_6 (0.00s)
2026-01-21T00:27:45.1711274Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_7 (0.00s)
2026-01-21T00:27:45.1711819Z         --- PASS: TestSecurityTestSuite/TestSQLInjection/sql_injection_8 (0.00s)
2026-01-21T00:27:45.1712264Z     --- PASS: TestSecurityTestSuite/TestSecurityHeaders (0.00s)
2026-01-21T00:27:45.1712669Z     --- PASS: TestSecurityTestSuite/TestTimeoutAttacks (0.00s)
2026-01-21T00:27:45.1713156Z         --- PASS: TestSecurityTestSuite/TestTimeoutAttacks/slow_loris (0.00s)
2026-01-21T00:27:45.1713713Z     --- PASS: TestSecurityTestSuite/TestXSSPrevention (0.00s)
2026-01-21T00:27:45.1714204Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_0 (0.00s)
2026-01-21T00:27:45.1714801Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_1 (0.00s)
2026-01-21T00:27:45.1715465Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_2 (0.00s)
2026-01-21T00:27:45.1715983Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_3 (0.00s)
2026-01-21T00:27:45.1716682Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_4 (0.00s)
2026-01-21T00:27:45.1717202Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_5 (0.00s)
2026-01-21T00:27:45.1717721Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_6 (0.00s)
2026-01-21T00:27:45.1718241Z         --- PASS: TestSecurityTestSuite/TestXSSPrevention/url_param_7 (0.00s)
2026-01-21T00:27:45.1718541Z PASS
2026-01-21T00:27:45.1718695Z coverage: [no statements]
2026-01-21T00:27:45.1719036Z ok  	github.com/jontk/slurm-exporter/test/security	0.244s	coverage: [no statements]
2026-01-21T00:27:45.1719607Z FAIL
2026-01-21T00:27:46.1900464Z ##[error]Process completed with exit code 1.
2026-01-21T00:27:46.2138755Z Post job cleanup.
2026-01-21T00:27:46.4602909Z [command]"C:\Program Files\Git\bin\git.exe" version
2026-01-21T00:27:46.4902255Z git version 2.52.0.windows.1
2026-01-21T00:27:46.4980102Z Temporarily overriding HOME='D:\a\_temp\0d9777b1-9d52-409c-acec-0fdfcf7f9c86' before making global git config changes
2026-01-21T00:27:46.4981202Z Adding repository directory to the temporary git global config as a safe directory
2026-01-21T00:27:46.4992314Z [command]"C:\Program Files\Git\bin\git.exe" config --global --add safe.directory D:\a\slurm-exporter\slurm-exporter
2026-01-21T00:27:46.5328189Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp core\.sshCommand
2026-01-21T00:27:46.5661147Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :\""
2026-01-21T00:27:47.2470410Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2026-01-21T00:27:47.2751621Z http.https://github.com/.extraheader
2026-01-21T00:27:47.2800784Z [command]"C:\Program Files\Git\bin\git.exe" config --local --unset-all http.https://github.com/.extraheader
2026-01-21T00:27:47.3131290Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "sh -c \"git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :\""
2026-01-21T00:27:47.8813626Z [command]"C:\Program Files\Git\bin\git.exe" config --local --name-only --get-regexp ^includeIf\.gitdir:
2026-01-21T00:27:47.9136954Z [command]"C:\Program Files\Git\bin\git.exe" submodule foreach --recursive "git config --local --show-origin --name-only --get-regexp remote.origin.url"
2026-01-21T00:27:48.4771761Z Cleaning up orphan processes
